<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Magnus Johansson">
<meta name="dcterms.date" content="2023-12-07">
<title>R, Rasch, etc - RISEkbmRasch vignette</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="R, Rasch, etc - RISEkbmRasch vignette">
<meta property="og:description" content="An R package for Rasch analysis">
<meta property="og:image" content="https://pgmj.github.io/RaschRvign_files/figure-html/unnamed-chunk-34-1.png">
<meta property="og:site-name" content="R, Rasch, etc">
<meta name="twitter:title" content="R, Rasch, etc - RISEkbmRasch vignette">
<meta name="twitter:description" content="An R package for Rasch analysis">
<meta name="twitter:image" content="https://pgmj.github.io/raschrvignette/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==">
<meta name="twitter:card" content="summary_large_image">
<meta name="citation_title" content="RISEkbmRasch vignette">
<meta name="citation_author" content="Magnus Johansson">
<meta name="citation_publication_date" content="2023-12-07">
<meta name="citation_cover_date" content="2023-12-07">
<meta name="citation_year" content="2023">
<meta name="citation_online_date" content="2023-12-07">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Bias in Self-Reports: An Initial Elevation Phenomenon;,citation_author=Farid Anvari;,citation_author=Emir Efendić;,citation_author=Jerome Olsen;,citation_author=Ruben C. Arslan;,citation_author=Malte Elson;,citation_author=Iris K. Schneider;,citation_publication_date=2022-10-07;,citation_cover_date=2022-10-07;,citation_year=2022;,citation_fulltext_html_url=https://doi.org/10.1177/19485506221129160;,citation_doi=10.1177/19485506221129160;,citation_language=en;,citation_journal_title=Social Psychological and Personality Science;">
<meta name="citation_reference" content="citation_title=Sample size and statistical conclusions from tests of fit to the rasch model according to the rasch unidimensional measurement model (RUMM) program in health outcome measurement;,citation_author=Peter Hagell;,citation_author=Albert Westergren;,citation_publication_date=2016;,citation_cover_date=2016;,citation_year=2016;,citation_issue=4;,citation_volume=17;,citation_journal_title=Journal of Applied Measurement;">
<meta name="citation_reference" content="citation_title=Critical Values for Yen’s Q3: Identification of Local Dependence in the Rasch Model Using Residual Correlations;,citation_author=Karl Bang Christensen;,citation_author=Guido Makransky;,citation_author=Mike Horton;,citation_publication_date=2017-05-01;,citation_cover_date=2017-05-01;,citation_year=2017;,citation_fulltext_html_url=https://doi.org/10.1177/0146621616677520;,citation_issue=3;,citation_doi=10.1177/0146621616677520;,citation_volume=41;,citation_language=en;,citation_journal_title=Applied Psychological Measurement;">
<meta name="citation_reference" content="citation_title=Valid and reliable? Basic and expanded recommendations for psychometric reporting and quality assessment.;,citation_author=Magnus Johansson;,citation_author=Marit Preuter;,citation_author=Simon Karlsson;,citation_author=Marie-Louise Möllerberg;,citation_author=Hanna Svensson;,citation_author=Jeanette Melin;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_doi=10.31219/osf.io/3htzc;,citation_language=en-us;">
<meta name="citation_reference" content="citation_title=Weighted likelihood estimation of ability in item response theory;,citation_author=Thomas A. Warm;,citation_publication_date=1989-09-01;,citation_cover_date=1989-09-01;,citation_year=1989;,citation_fulltext_html_url=https://doi.org/10.1007/BF02294627;,citation_issue=3;,citation_doi=10.1007/BF02294627;,citation_volume=54;,citation_language=en;,citation_journal_title=Psychometrika;">
<meta name="citation_reference" content="citation_title=Rasch Trees: A New Method for Detecting Differential Item Functioning in the Rasch Model;,citation_author=Carolin Strobl;,citation_author=Julia Kopf;,citation_author=Achim Zeileis;,citation_publication_date=2015-06-01;,citation_cover_date=2015-06-01;,citation_year=2015;,citation_fulltext_html_url=https://doi.org/10.1007/s11336-013-9388-3;,citation_issue=2;,citation_doi=10.1007/s11336-013-9388-3;,citation_volume=80;,citation_language=en;,citation_journal_title=Psychometrika;">
<meta name="citation_reference" content="citation_title=Using the raschtree function for detecting differential item functioning in the Rasch model;,citation_author=Carolin Strobl;,citation_author=Lennart Schneider;,citation_author=Julia Kopf;,citation_author=Achim Zeileis;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_language=en;">
<meta name="citation_reference" content="citation_title=R: A language and environment for statistical computing;,citation_author=R Core Team;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://www.R-project.org/;">
<meta name="citation_reference" content="citation_title=An R companion to applied regression;,citation_author=John Fox;,citation_author=Sanford Weisberg;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_fulltext_html_url=https://socialsciences.mcmaster.ca/jfox/Books/Companion/;">
<meta name="citation_reference" content="citation_title=Extended rasch modeling: The eRm package for the application of IRT models in r;,citation_author=Patrick Mair;,citation_author=Reinhold Hatzinger;,citation_publication_date=2007;,citation_cover_date=2007;,citation_year=2007;,citation_doi=10.18637/jss.v020.i09;,citation_volume=20;,citation_journal_title=Journal of Statistical Software;">
<meta name="citation_reference" content="citation_title=CML based estimation of extended rasch models with the eRm package in r;,citation_author=Patrick Mair;,citation_author=Reinhold Hatzinger;,citation_publication_date=2007;,citation_cover_date=2007;,citation_year=2007;,citation_doi=10.18637/jss.v020.i09;,citation_volume=49;,citation_journal_title=Psychology Science;">
<meta name="citation_reference" content="citation_title=IRT models with relaxed assumptions in eRm: A manual-like instruction;,citation_author=Reinhold Hatzinger;,citation_author=Thomas Rusch;,citation_publication_date=2009;,citation_cover_date=2009;,citation_year=2009;,citation_volume=51;,citation_journal_title=Psychology Science Quarterly;">
<meta name="citation_reference" content="citation_title=Linear logistic models with relaxed assumptions in r;,citation_author=Thomas Rusch;,citation_author=Marco Maier;,citation_author=Reinhold Hatzinger;,citation_editor=Berthold Lausen;,citation_editor=Dirk Poel;,citation_editor=Alfred Ultsch;,citation_publication_date=2013;,citation_cover_date=2013;,citation_year=2013;,citation_doi=10.1007/978-3-319-00035-0_34;,citation_conference_title=Algorithms from and for nature and life;,citation_conference=Springer;,citation_series_title=Studies in classification, data analysis, and knowledge organization;">
<meta name="citation_reference" content="citation_title=An empirical power analysis of quasi-exact tests for the rasch model: Measurement invariance in small samples;,citation_author=Ingrid Koller;,citation_author=Marco Maier;,citation_author=Reinhold Hatzinger;,citation_publication_date=2015;,citation_cover_date=2015;,citation_year=2015;,citation_doi=10.1027/1614-2241/a000090;,citation_volume=11;,citation_journal_title=Methodology;">
<meta name="citation_reference" content="citation_title=Testing the local independence assumption of the rasch model with Q3-based nonparametric model tests;,citation_author=Rudolf Debelak;,citation_author=Ingrid Koller;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_doi=10.1177/0146621619835501;,citation_volume=44;,citation_journal_title=Applied Psychological Measurement;">
<meta name="citation_reference" content="citation_title=foreach: Provides foreach looping construct;,citation_author=Microsoft;,citation_author=Steve Weston;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://CRAN.R-project.org/package=foreach;">
<meta name="citation_reference" content="citation_title=formattable: Create “Formattable” data structures;,citation_author=Kun Ren;,citation_author=Kenton Russell;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_fulltext_html_url=https://CRAN.R-project.org/package=formattable;">
<meta name="citation_reference" content="citation_title=furrr: Apply mapping functions in parallel using futures;,citation_author=Davis Vaughan;,citation_author=Matt Dancho;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://CRAN.R-project.org/package=furrr;">
<meta name="citation_reference" content="citation_title=ggrepel: Automatically position non-overlapping text labels with “ggplot2”;,citation_author=Kamil Slowikowski;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://CRAN.R-project.org/package=ggrepel;">
<meta name="citation_reference" content="citation_title=glue: Interpreted string literals;,citation_author=Jim Hester;,citation_author=Jennifer Bryan;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://CRAN.R-project.org/package=glue;">
<meta name="citation_reference" content="citation_title=kableExtra: Construct complex table with “kable” and pipe syntax;,citation_author=Hao Zhu;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_fulltext_html_url=https://CRAN.R-project.org/package=kableExtra;">
<meta name="citation_reference" content="citation_title=knitr: A general-purpose package for dynamic report generation in r;,citation_author=Yihui Xie;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://yihui.org/knitr/;">
<meta name="citation_reference" content="citation_title=Dynamic documents with R and knitr;,citation_author=Yihui Xie;,citation_publication_date=2015;,citation_cover_date=2015;,citation_year=2015;,citation_fulltext_html_url=https://yihui.org/knitr/;">
<meta name="citation_reference" content="citation_title=knitr: A comprehensive tool for reproducible research in R;,citation_author=Yihui Xie;,citation_editor=Victoria Stodden;,citation_editor=Friedrich Leisch;,citation_editor=Roger D. Peng;,citation_publication_date=2014;,citation_cover_date=2014;,citation_year=2014;,citation_inbook_title=Implementing reproducible computational research;">
<meta name="citation_reference" content="citation_title=matrixStats: Functions that apply to rows and columns of matrices (and to vectors);,citation_author=Henrik Bengtsson;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://CRAN.R-project.org/package=matrixStats;">
<meta name="citation_reference" content="citation_title=mirt: A multidimensional item response theory package for the R environment;,citation_author=R. Philip Chalmers;,citation_publication_date=2012;,citation_cover_date=2012;,citation_year=2012;,citation_issue=6;,citation_doi=10.18637/jss.v048.i06;,citation_volume=48;,citation_journal_title=Journal of Statistical Software;">
<meta name="citation_reference" content="citation_title=patchwork: The composer of plots;,citation_author=Thomas Lin Pedersen;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://CRAN.R-project.org/package=patchwork;">
<meta name="citation_reference" content="citation_title=psych: Procedures for psychological, psychometric, and personality research;,citation_author=William Revelle;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://CRAN.R-project.org/package=psych;">
<meta name="citation_reference" content="citation_title=Accounting for individual differences in Bradley-Terry models by means of recursive partitioning;,citation_author=Carolin Strobl;,citation_author=Florian Wickelmaier;,citation_author=Achim Zeileis;,citation_publication_date=2011;,citation_cover_date=2011;,citation_year=2011;,citation_issue=2;,citation_doi=10.3102/1076998609359791;,citation_volume=36;,citation_journal_title=Journal of Educational and Behavioral Statistics;">
<meta name="citation_reference" content="citation_title=Rasch trees: A new method for detecting differential item functioning in the Rasch model;,citation_author=Carolin Strobl;,citation_author=Julia Kopf;,citation_author=Achim Zeileis;,citation_publication_date=2015;,citation_cover_date=2015;,citation_year=2015;,citation_issue=2;,citation_doi=10.1007/s11336-013-9388-3;,citation_volume=80;,citation_journal_title=Psychometrika;">
<meta name="citation_reference" content="citation_title=Tree-based global model tests for polytomous Rasch models;,citation_author=Basil Komboz;,citation_author=Achim Zeileis;,citation_author=Carolin Strobl;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_issue=1;,citation_doi=10.1177/0013164416664394;,citation_volume=78;,citation_journal_title=Educational and Psychological Measurement;">
<meta name="citation_reference" content="citation_title=Using recursive partitioning to account for parameter heterogeneity in multinomial processing tree models;,citation_author=Florian Wickelmaier;,citation_author=Achim Zeileis;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_issue=3;,citation_doi=10.3758/s13428-017-0937-z;,citation_volume=50;,citation_journal_title=Behavior Research Methods;">
<meta name="citation_reference" content="citation_title=Allgemeinbildung in Deutschland – erkenntnisse aus dem SPIEGEL Studentenpisa-Test;,citation_editor=Sabine Trepte;,citation_editor=Markus Verbeet;,citation_publication_date=2010;,citation_cover_date=2010;,citation_year=2010;">
<meta name="citation_reference" content="citation_title=Reshaping data with the reshape package;,citation_author=Hadley Wickham;,citation_publication_date=2007;,citation_cover_date=2007;,citation_year=2007;,citation_fulltext_html_url=https://www.jstatsoft.org/v21/i12/;,citation_issue=12;,citation_volume=21;,citation_journal_title=Journal of Statistical Software;">
<meta name="citation_reference" content="citation_title=RISEkbmRasch: Psychometric analysis in r with rasch measurement theory;,citation_author=Magnus Johansson;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://github.com/pgmj/RISEkbmRasch;">
<meta name="citation_reference" content="citation_title=rmarkdown: Dynamic documents for r;,citation_author=JJ Allaire;,citation_author=Yihui Xie;,citation_author=Christophe Dervieux;,citation_author=Jonathan McPherson;,citation_author=Javier Luraschi;,citation_author=Kevin Ushey;,citation_author=Aron Atkins;,citation_author=Hadley Wickham;,citation_author=Joe Cheng;,citation_author=Winston Chang;,citation_author=Richard Iannone;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://github.com/rstudio/rmarkdown;">
<meta name="citation_reference" content="citation_title=R markdown: The definitive guide;,citation_author=Yihui Xie;,citation_author=J. J. Allaire;,citation_author=Garrett Grolemund;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_fulltext_html_url=https://bookdown.org/yihui/rmarkdown;,citation_isbn=9781138359338;">
<meta name="citation_reference" content="citation_title=R markdown cookbook;,citation_author=Yihui Xie;,citation_author=Christophe Dervieux;,citation_author=Emily Riederer;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_fulltext_html_url=https://bookdown.org/yihui/rmarkdown-cookbook;,citation_isbn=9780367563837;">
<meta name="citation_reference" content="citation_title=TAM: Test analysis modules;,citation_author=Alexander Robitzsch;,citation_author=Thomas Kiefer;,citation_author=Margaret Wu;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://CRAN.R-project.org/package=TAM;">
<meta name="citation_reference" content="citation_title=Welcome to the tidyverse;,citation_author=Hadley Wickham;,citation_author=Mara Averick;,citation_author=Jennifer Bryan;,citation_author=Winston Chang;,citation_author=Lucy D’Agostino McGowan;,citation_author=Romain François;,citation_author=Garrett Grolemund;,citation_author=Alex Hayes;,citation_author=Lionel Henry;,citation_author=Jim Hester;,citation_author=Max Kuhn;,citation_author=Thomas Lin Pedersen;,citation_author=Evan Miller;,citation_author=Stephan Milton Bache;,citation_author=Kirill Müller;,citation_author=Jeroen Ooms;,citation_author=David Robinson;,citation_author=Dana Paige Seidel;,citation_author=Vitalie Spinu;,citation_author=Kohske Takahashi;,citation_author=Davis Vaughan;,citation_author=Claus Wilke;,citation_author=Kara Woo;,citation_author=Hiroaki Yutani;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_issue=43;,citation_doi=10.21105/joss.01686;,citation_volume=4;,citation_journal_title=Journal of Open Source Software;">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">R, Rasch, etc</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../raschrvignette/RaschRvign.html" rel="" target="" aria-current="page">
 <span class="menu-text">RISEkbmRasch vignette</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-blog" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Blog</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-blog">
<li>
    <a class="dropdown-item" href="../parameterizedQ.html" rel="" target="">
 <span class="dropdown-text">Automating reports with Quarto</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../latentResp/LatentResponse.html" rel="" target="">
 <span class="dropdown-text">What’s in a latent trait score?</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../SkolverketAPI/skolverketapi.html" rel="" target="">
 <span class="dropdown-text">Data retrieval with R using API calls</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../powerviz.html" rel="" target="">
 <span class="dropdown-text">Power analysis for multilevel models</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../datawrangling.html" rel="" target="">
 <span class="dropdown-text">Data wrangling for psychometrics in R</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pgmj/pgmj.github.io" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#getting-started" id="toc-getting-started" class="nav-link active" data-scroll-target="#getting-started"><span class="header-section-number">1</span> Getting started</a>
  <ul class="collapse">
<li><a href="#loading-data" id="toc-loading-data" class="nav-link" data-scroll-target="#loading-data"><span class="header-section-number">1.1</span> Loading data</a></li>
  <li><a href="#itemlabels" id="toc-itemlabels" class="nav-link" data-scroll-target="#itemlabels"><span class="header-section-number">1.2</span> Itemlabels</a></li>
  <li><a href="#demographics" id="toc-demographics" class="nav-link" data-scroll-target="#demographics"><span class="header-section-number">1.3</span> Demographics</a></li>
  </ul>
</li>
  <li>
<a href="#descriptives" id="toc-descriptives" class="nav-link" data-scroll-target="#descriptives"><span class="header-section-number">2</span> Descriptives</a>
  <ul class="collapse">
<li><a href="#missing-data" id="toc-missing-data" class="nav-link" data-scroll-target="#missing-data"><span class="header-section-number">2.1</span> Missing data</a></li>
  <li><a href="#overall-responses" id="toc-overall-responses" class="nav-link" data-scroll-target="#overall-responses"><span class="header-section-number">2.2</span> Overall responses</a></li>
  <li><a href="#item-level-descriptives" id="toc-item-level-descriptives" class="nav-link" data-scroll-target="#item-level-descriptives"><span class="header-section-number">2.3</span> Item level descriptives</a></li>
  </ul>
</li>
  <li><a href="#sec-rasch" id="toc-sec-rasch" class="nav-link" data-scroll-target="#sec-rasch"><span class="header-section-number">3</span> Rasch analysis 1</a></li>
  <li><a href="#rasch-analysis-2" id="toc-rasch-analysis-2" class="nav-link" data-scroll-target="#rasch-analysis-2"><span class="header-section-number">4</span> Rasch analysis 2</a></li>
  <li>
<a href="#dif---differential-item-functioning" id="toc-dif---differential-item-functioning" class="nav-link" data-scroll-target="#dif---differential-item-functioning"><span class="header-section-number">5</span> DIF - differential item functioning</a>
  <ul class="collapse">
<li><a href="#sex" id="toc-sex" class="nav-link" data-scroll-target="#sex"><span class="header-section-number">5.1</span> Sex</a></li>
  <li><a href="#age" id="toc-age" class="nav-link" data-scroll-target="#age"><span class="header-section-number">5.2</span> Age</a></li>
  <li><a href="#group" id="toc-group" class="nav-link" data-scroll-target="#group"><span class="header-section-number">5.3</span> Group</a></li>
  <li><a href="#sex-and-age" id="toc-sex-and-age" class="nav-link" data-scroll-target="#sex-and-age"><span class="header-section-number">5.4</span> Sex and age</a></li>
  <li><a href="#sec-diflrt" id="toc-sec-diflrt" class="nav-link" data-scroll-target="#sec-diflrt"><span class="header-section-number">5.5</span> LRT-based DIF example</a></li>
  </ul>
</li>
  <li><a href="#rasch-analysis-3" id="toc-rasch-analysis-3" class="nav-link" data-scroll-target="#rasch-analysis-3"><span class="header-section-number">6</span> Rasch analysis 3</a></li>
  <li><a href="#rasch-analysis-4" id="toc-rasch-analysis-4" class="nav-link" data-scroll-target="#rasch-analysis-4"><span class="header-section-number">7</span> Rasch analysis 4</a></li>
  <li><a href="#reliability" id="toc-reliability" class="nav-link" data-scroll-target="#reliability"><span class="header-section-number">8</span> Reliability</a></li>
  <li><a href="#person-fit" id="toc-person-fit" class="nav-link" data-scroll-target="#person-fit"><span class="header-section-number">9</span> Person fit</a></li>
  <li><a href="#item-parameters" id="toc-item-parameters" class="nav-link" data-scroll-target="#item-parameters"><span class="header-section-number">10</span> Item parameters</a></li>
  <li>
<a href="#ordinal-sum-score-to-interval-score" id="toc-ordinal-sum-score-to-interval-score" class="nav-link" data-scroll-target="#ordinal-sum-score-to-interval-score"><span class="header-section-number">11</span> Ordinal sum score to interval score</a>
  <ul class="collapse">
<li><a href="#ordinalinterval-figure" id="toc-ordinalinterval-figure" class="nav-link" data-scroll-target="#ordinalinterval-figure"><span class="header-section-number">11.1</span> Ordinal/interval figure</a></li>
  <li><a href="#estimating-interval-level-person-scores" id="toc-estimating-interval-level-person-scores" class="nav-link" data-scroll-target="#estimating-interval-level-person-scores"><span class="header-section-number">11.2</span> Estimating interval level person scores</a></li>
  </ul>
</li>
  <li><a href="#figure-design" id="toc-figure-design" class="nav-link" data-scroll-target="#figure-design"><span class="header-section-number">12</span> Figure design</a></li>
  <li><a href="#software-used" id="toc-software-used" class="nav-link" data-scroll-target="#software-used"><span class="header-section-number">13</span> Software used</a></li>
  <li><a href="#additional-credits" id="toc-additional-credits" class="nav-link" data-scroll-target="#additional-credits"><span class="header-section-number">14</span> Additional credits</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">15</span> References</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full column-body" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">RISEkbmRasch vignette</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead">An R package for Rasch analysis</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Magnus Johansson <a href="https://orcid.org/0000-0003-1669-592X" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://www.ri.se/en/what-we-do/expertises/category-based-measurements">
            RISE Research Institutes of Sweden
            </a>
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 7, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header><p>This is an introduction to using the <a href="https://github.com/pgmj/RISEkbmRasch">RISEkbmRasch R package</a>. A changelog for package updates is available <a href="https://github.com/pgmj/RISEkbmRasch/blob/main/NEWS.md">here</a>.</p>
<p>Details on installation are available at the <a href="https://github.com/pgmj/RISEkbmRasch">package GitHub page</a>. This vignette will walk through a sample analysis using an open dataset with polytomous questionnaire data. This will include some data wrangling to structure the item data and itemlabels, then provide examples of the different functions. The full source code of this document can be found either <a href="https://github.com/pgmj/pgmj.github.io/blob/main/raschrvignette/RaschRvign.qmd">in this repository</a> or by clicking on <strong>&lt;/&gt; CODE</strong> at the top beside the table of contents. You should be able to use the source code “as is” and reproduce this document locally, as long as you have the required packages installed. This page and this website are built using the open source publishing tool <a href="https://www.quarto.org">Quarto</a>.</p>
<p>One of the aims with this package is to simplify psychometric analysis to shed light on the measurement properties of a scale, questionnaire or test. In a paper recently made available as a preprint <span class="citation" data-cites="johansson">(<a href="#ref-johansson" role="doc-biblioref">Johansson et al., 2023</a>)</span>, our <a href="https://www.ri.se/en/what-we-do/projects/center-for-categorically-based-measurements">research group</a> propose that the basic aspects of a psychometric analysis should include information about:</p>
<ul>
<li>Unidimensionality</li>
<li>Response categories</li>
<li>Invariance</li>
<li>Targeting</li>
<li>Measurement uncertainties (reliability)</li>
</ul>
<p>We’ll include several ways to investigate these measurement properties, using Rasch Measurement Theory. There are also functions in the package less directly related to the criteria above, that will be shown in this vignette.</p>
<p>Please note that this is a sample analysis to showcase the R package. It is not intended as a “best practice” psychometric analysis example.</p>
<p>You can skip ahead to the Rasch analysis part in <a href="#sec-rasch">Section&nbsp;3</a> if you are eager to look at the package output :)</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Quarto version 1.3 introduced changes that make the tables in this document look a bit different than intended. The width settings are disregarded and other oddities. This will be fixed in a future update.</p>
</div>
</div>
<section id="getting-started" class="level2" data-number="1"><h2 data-number="1" class="anchored" data-anchor-id="getting-started">
<span class="header-section-number">1</span> Getting started</h2>
<p>Since the package is intended for use with Quarto, this vignette has also been created with Quarto. A “template” .qmd file <a href="https://github.com/pgmj/RISEkbmRasch/blob/main/Quarto/RISEkbmRasch%20Quarto%20template.qmd">is available</a> that can be useful to have handy for copy&amp;paste when running a new analysis. You can also download a complete copy of the Quarto/R code to produce this document <a href="https://github.com/pgmj/pgmj.github.io/blob/main/raschrvignette/RaschRvign.qmd">here</a>.</p>
<p>Loading the <code>RISEkbmRasch</code> package should also get all the dependencies loaded. You may need to make sure that ggplot2 is updated to version 3.4.0 or later. However, it could be desirable to explicitly load the packages used, to simplify the automatic creation of citations for them, using the <code>grateful</code> package.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-1_f48443670e613bd3889fcf5376003d29">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pgmj/RISEkbmRasch">RISEkbmRasch</a></span><span class="op">)</span> <span class="co"># devtools::install_github("pgmj/RISEkbmRasch")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://pakillo.github.io/grateful/">grateful</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/slowkow/ggrepel">ggrepel</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-forge.r-project.org/projects/car/">car</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/">kableExtra</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org">readxl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">eRm</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/philchalmers/mirt">mirt</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://personality-project.org/r/psych/">psych</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">psychotree</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/HenrikBengtsson/matrixStats">matrixStats</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://had.co.nz/reshape">reshape</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com">patchwork</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://renkun-ken.github.io/formattable/">formattable</a></span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidyverse/glue">glue</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RevolutionAnalytics/foreach">foreach</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Quarto automatically adds links to R packages and functions throughout this document. However, this feature only works properly for packages available on <a href="https://cran.r-project.org/">CRAN</a>. Since the <code>RISEkbmRasch</code> package is not on CRAN the links related to functions starting with <strong>RI</strong> will not work.</p>
</div>
</div>
<section id="loading-data" class="level3" data-number="1.1"><h3 data-number="1.1" class="anchored" data-anchor-id="loading-data">
<span class="header-section-number">1.1</span> Loading data</h3>
<p>We will use data from a recent paper investigating the “initial elevation effect” <span class="citation" data-cites="anvari2022">(<a href="#ref-anvari2022" role="doc-biblioref">Anvari et al., 2022</a>)</span>, and focus on the 10 negative items from the PANAS. The data is available at the OSF website.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-2_55eb162afddfdd28e6d6d70346d1ab32">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df.all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"https://osf.io/download/6fbr5/"</span><span class="op">)</span></span>
<span><span class="co"># if you have issues with the link, please try downloading manually using the same URL as above</span></span>
<span><span class="co"># and read the file from your local drive.</span></span>
<span></span>
<span><span class="co"># subset items and demographic variables</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df.all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"PANASD2_1"</span><span class="op">)</span>,</span>
<span>         <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"PANASD2_20"</span><span class="op">)</span>,</span>
<span>         <span class="va">age</span>,<span class="va">Sex</span>,<span class="va">Group</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">!</span><span class="va">PANASD2_10_Active</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">!</span><span class="va">PANASD2_1_Attentive</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The <code><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse()</a></code> function provides a quick overview of our dataframe.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-3_0aa560cd28c767c643f644ae64c5457c">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,856
Columns: 13
$ PANASD2_11_Distressed &lt;dbl&gt; 2, 2, 2, 1, 2, 2, 4, 1, 1, 3, 1, 4, 2, 4, 4, 1, …
$ PANASD2_12_Upset      &lt;dbl&gt; 1, 1, 4, 1, 1, 5, 2, 1, 2, 2, 2, 3, 1, 3, 5, 1, …
$ PANASD2_13_Hostile    &lt;dbl&gt; 1, 1, 2, 1, 1, 3, 1, 1, 1, 4, 1, 1, 1, 1, 1, 1, …
$ PANASD2_14_Irritable  &lt;dbl&gt; 1, 1, 3, 1, 2, 5, 3, 1, 2, 4, 2, 3, 1, 2, 3, 1, …
$ PANASD2_15_Scared     &lt;dbl&gt; 1, 1, 3, 1, 1, 4, 1, 1, 1, 2, 2, 2, 1, 4, 4, 1, …
$ PANASD2_16_Afraid     &lt;dbl&gt; 1, 1, 4, 1, 1, 3, 1, 1, 1, 3, 1, 2, 1, 4, 4, 1, …
$ PANASD2_17_Ashamed    &lt;dbl&gt; 1, 1, 2, 1, 1, 3, 1, 1, 1, 2, 1, 4, 1, 1, 3, 1, …
$ PANASD2_18_Guilty     &lt;dbl&gt; 2, 1, 2, 1, 1, 3, 3, 1, 1, 3, 1, 4, 1, 1, 3, 1, …
$ PANASD2_19_Nervous    &lt;dbl&gt; 1, 1, 2, 1, 2, 4, 4, 1, 1, 4, 2, 4, 2, 1, 5, 1, …
$ PANASD2_20_Jittery    &lt;dbl&gt; 1, 2, 3, 1, 1, 2, 3, 3, 2, 1, 2, 2, 1, 1, 4, 1, …
$ age                   &lt;dbl&gt; 27, 32, 21, 27, 20, 22, 23, 25, 21, 26, 38, 36, …
$ Sex                   &lt;chr&gt; "Male", "Male", "Female", "Male", "Male", "Male"…
$ Group                 &lt;chr&gt; "Later Start", "Later Start", "Later Start", "La…</code></pre>
</div>
</div>
<p>We have 1856 rows, ie. respondents. All variables except Sex and Group are of class <code>dbl</code>, which means they are numeric and can have decimals. Integer (numeric with no decimals) would also be fine for our purposes. The two demographic variables currently of class <code>chr</code> (character) will need to be converted to factors (<code>fct</code>), and we will do that later on.</p>
<p>(If you import a dataset where item variables are of class character, you will need to recode to numeric.)</p>
</section><section id="itemlabels" class="level3" data-number="1.2"><h3 data-number="1.2" class="anchored" data-anchor-id="itemlabels">
<span class="header-section-number">1.2</span> Itemlabels</h3>
<p>Then we set up the itemlabels dataframe. This could also be done using the free <a href="https://www.libreoffice.org/download/download-libreoffice/">LibreOffice Calc</a> or MS Excel. Just make sure the file has the same structure, with two variables named <code>itemnr</code> and <code>item</code> that contain the item variable names and item description. The item variable names have to match the variable names in the item dataframe.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-4_519bb9ee8714c15a6d4d1cd5538e2bd4">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">itemlabels</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"PAN"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate.html">separate</a></span><span class="op">(</span><span class="va">value</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"item"</span><span class="op">)</span>, sep <span class="op">=</span><span class="st">"_[0-9][0-9]_"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>itemnr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"PANAS_"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span>, .before <span class="op">=</span> <span class="st">"item"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The <code>itemlabels</code> dataframe looks like this.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-5_61c00db3f92092e1bef908d6c44b34d3">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">itemlabels</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   itemnr   item      
   &lt;chr&gt;    &lt;chr&gt;     
 1 PANAS_11 Distressed
 2 PANAS_12 Upset     
 3 PANAS_13 Hostile   
 4 PANAS_14 Irritable 
 5 PANAS_15 Scared    
 6 PANAS_16 Afraid    
 7 PANAS_17 Ashamed   
 8 PANAS_18 Guilty    
 9 PANAS_19 Nervous   
10 PANAS_20 Jittery   </code></pre>
</div>
</div>
</section><section id="demographics" class="level3" data-number="1.3"><h3 data-number="1.3" class="anchored" data-anchor-id="demographics">
<span class="header-section-number">1.3</span> Demographics</h3>
<p>Variables for invariance tests such as Differential Item Functioning (DIF) need to be separated into vectors (ideally as factors with specified levels and labels) with the same length as the number of rows in the dataset. This means that any kind of removal of respondents/rows with missing data needs to be done before separating the DIF variables.</p>
<p>We need to check how the <code>Sex</code> variable has been coded and which responses are present in the data.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-6_7d2669b58714b099b7f1f3e4257af273">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Sex</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>
  CONSENT REVOKED      DATA EXPIRED            Female              Male 
                2                 1               896               955 
Prefer not to say 
                2 </code></pre>
</div>
</div>
<p>Since there are only 5 respondents using labels outside of Female/Male (too few for meaningful statistical analysis), we will remove them to have a complete dataset for all variables in this example.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-7_eeb16a462808b986ffa4750e3a3cb543">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Sex</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Female"</span>,<span class="st">"Male"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s make the variable a factor (instead of class “character”) and put in in a vector separate from the item dataframe.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-8_671757ee6207d16f0fa05187d8e9529a">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dif.sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Sex</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>And remove our DIF demographic variable from the item dataset.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-9_531693a528402dd26930625248c2a182">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">Sex</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We can now make use of a very simple function included in this package!</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-10_7e4307364cf0fb4015bbc327e810ad66">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdemographics.html">RIdemographics</a></span><span class="op">(</span><span class="va">dif.sex</span>, <span class="st">"Sex"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Sex</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">n</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Percent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Female</td>
<td style="text-align: right;">896</td>
<td style="text-align: right;">48.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Male</td>
<td style="text-align: right;">955</td>
<td style="text-align: right;">51.6</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Let’s move on to the age variable.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-11_51d0411397d3e797a6b3e9a99b746875">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> num [1:1851] 27 32 21 27 20 22 23 25 21 26 ...</code></pre>
</div>
</div>
<p>Sometimes age is provided in categories, but here we have a numeric variable with age in years. Let’s have a quick look at the age distribution using a histogram, and calculate mean, sd and range.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-12_6cd46be29c6a78ad4d6cb5bfec4726d7">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">### simpler version of the ggplot below</span></span>
<span><span class="co"># hist(df$age, col = "#009ca6")</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># df %&gt;% </span></span>
<span><span class="co">#   summarise(Mean = round(mean(age, na.rm = T),1),</span></span>
<span><span class="co">#             StDev = round(sd(age, na.rm = T),1)</span></span>
<span><span class="co">#             )</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span><span class="op">)</span>, </span>
<span>                 fill <span class="op">=</span> <span class="st">"#009ca6"</span>,</span>
<span>                 col <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add the average as a vertical line</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span>, </span>
<span>             linewidth <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>             linetype <span class="op">=</span> <span class="fl">2</span>,</span>
<span>             col <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a light grey field indicating the standard deviation</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"rect"</span>, ymin <span class="op">=</span> <span class="fl">0</span>, ymax <span class="op">=</span> <span class="cn">Inf</span>, </span>
<span>           xmin <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span><span class="op">)</span>, xmax <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span><span class="op">)</span>, </span>
<span>           alpha <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">""</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"Age in years"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Number of respondents"</span>,</span>
<span>       caption <span class="op">=</span> <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"Note. Mean age is {round(mean(df$age, na.rm = T),1)} years with a standard deviation of {round(sd(df$age, na.rm = T),1)}. Age range is {min(df$age)} to {max(df$age)}."</span><span class="op">)</span></span>
<span>       <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>plot.caption <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0</span>, face <span class="op">=</span> <span class="st">"italic"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>Age also needs to be a separate vector, and removed from the item dataframe.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-13_041b4804acf9e37ff4d78cabfb384e7e">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dif.age</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">$</span><span class="va">age</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>There is also a grouping variable which needs to be converted to a factor.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-14_c5f2b04f6e4502d0ca506a9b4451d10d">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">dif.group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Group</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">Group</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdemographics.html">RIdemographics</a></span><span class="op">(</span><span class="va">dif.group</span>, <span class="st">"Group"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Group</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">n</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Percent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Earlier Start</td>
<td style="text-align: right;">901</td>
<td style="text-align: right;">48.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Later Start</td>
<td style="text-align: right;">950</td>
<td style="text-align: right;">51.3</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>With only item data remaining in the dataframe, we can easily rename the items in the item dataframe. These names match the <code>itemlabels</code> variable <code>itemnr</code>.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-15_31feabb586f66455663cf16279f0a638">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">itemlabels</span><span class="op">$</span><span class="va">itemnr</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now we are all set for the psychometric analysis!</p>
</section></section><section id="descriptives" class="level2 page-columns page-full" data-number="2"><h2 data-number="2" class="anchored" data-anchor-id="descriptives">
<span class="header-section-number">2</span> Descriptives</h2>
<p>Let’s familiarize ourselves with the data before diving into the analysis.</p>
<section id="missing-data" class="level3" data-number="2.1"><h3 data-number="2.1" class="anchored" data-anchor-id="missing-data">
<span class="header-section-number">2.1</span> Missing data</h3>
<p>First, we visualize the proportion of missing data on item level.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-16_3e2c705a923dbd2161048fa3fcb226de">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RImissing.html">RImissing</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>No missing data in this dataset. If we had missing data, we could also use <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RImissingP.html">RImissingP()</a></code> to look at which respondents have missing data and how much.</p>
</section><section id="overall-responses" class="level3" data-number="2.2"><h3 data-number="2.2" class="anchored" data-anchor-id="overall-responses">
<span class="header-section-number">2.2</span> Overall responses</h3>
<p>This provides us with an overall picture of the data distribution. As a bonus, any oddities/mistakes in recoding the item data from categories to numbers will be clearly visible.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-17_20aa3d1cd5279c46d9e407b3168adeff">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIallresp.html">RIallresp</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<table class="table table-striped" style="font-size: 15px;
                  font-family: Lato; width: 50%">
<thead><tr>
<th style="text-align:right;">
Response category
</th>
<th style="text-align:right;">
Number of responses
</th>
<th style="text-align:right;">
Percent
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">1</span>
</td>
<td style="text-align:right;">
9430
</td>
<td style="text-align:right;">
50.9
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">2</span>
</td>
<td style="text-align:right;">
4136
</td>
<td style="text-align:right;">
22.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">3</span>
</td>
<td style="text-align:right;">
2676
</td>
<td style="text-align:right;">
14.5
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">4</span>
</td>
<td style="text-align:right;">
1722
</td>
<td style="text-align:right;">
9.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">5</span>
</td>
<td style="text-align:right;">
546
</td>
<td style="text-align:right;">
2.9
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Most R packages for Rasch analysis require the lowest response category to be zero, which makes it necessary for us to recode our data, from using the range of 1-5 to 0-4.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-18_fa591c045b73432200d10d83a5a9efa2">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html">everything</a></span><span class="op">(</span><span class="op">)</span>, <span class="op">~</span> <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html">recode</a></span><span class="op">(</span><span class="va">.x</span>, <span class="st">"1=0;2=1;3=2;4=3;5=4"</span>, as.factor <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># always check that your recoding worked as intended.</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIallresp.html">RIallresp</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<table class="table table-striped" style="font-size: 15px;
                  font-family: Lato; width: 50%">
<thead><tr>
<th style="text-align:right;">
Response category
</th>
<th style="text-align:right;">
Number of responses
</th>
<th style="text-align:right;">
Percent
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">0</span>
</td>
<td style="text-align:right;">
9430
</td>
<td style="text-align:right;">
50.9
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">1</span>
</td>
<td style="text-align:right;">
4136
</td>
<td style="text-align:right;">
22.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">2</span>
</td>
<td style="text-align:right;">
2676
</td>
<td style="text-align:right;">
14.5
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">3</span>
</td>
<td style="text-align:right;">
1722
</td>
<td style="text-align:right;">
9.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">4</span>
</td>
<td style="text-align:right;">
546
</td>
<td style="text-align:right;">
2.9
</td>
</tr>
</tbody>
</table>
</div>
</div>
<section id="floorceiling-effects" class="level4" data-number="2.2.1"><h4 data-number="2.2.1" class="anchored" data-anchor-id="floorceiling-effects">
<span class="header-section-number">2.2.1</span> Floor/ceiling effects</h4>
<p>Now, we can also look at the raw distribution of sum scores. The <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIrawdist.html">RIrawdist()</a></code> function is a bit crude, since it requires responses in all response categories to accurately calculate max and min scores.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-19_9712ca591f9d9deb6e1e0c63a0e39056">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIrawdist.html">RIrawdist</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>We can see a floor effect with 11.8% of participants responding in the lowest category for all items.</p>
</section><section id="guttman-structure" class="level4" data-number="2.2.2"><h4 data-number="2.2.2" class="anchored" data-anchor-id="guttman-structure">
<span class="header-section-number">2.2.2</span> Guttman structure</h4>
<p>While not really necessary, it could be interesting to see whether the response patterns follow a Guttman-like structure. Items and persons are sorted based on lower-&gt;higher responses, and we should see the color move from yellow in the lower left corner to blue in the upper right corner.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-20_a792a6377616aa661ba65ae4f8b211d8">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIheatmap.html">RIheatmap</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>In this data, we see the floor effect on the left, with 11.8% of respondents all yellow, and a rather weak Guttman structure. This could also be due to a low variation in item locations/difficulties. Since we have a very large sample I added a <code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code> option to remove the x-axis text, which would anyway just be a blur of the 1851 respondent row numbers. Each thin vertical slice in the figure is one respondent.</p>
</section></section><section id="item-level-descriptives" class="level3 page-columns page-full" data-number="2.3"><h3 data-number="2.3" class="anchored" data-anchor-id="item-level-descriptives">
<span class="header-section-number">2.3</span> Item level descriptives</h3>
<p>There are many ways to look at the item level data, and we’ll get them all together in the tab-panel below. The <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RItileplot.html">RItileplot()</a></code> is probably most informative, since it provides the number of responses in each response category for each item. It is usually recommended to have at least ~10 responses in each category for psychometric analysis, no matter which methodology is used.</p>
<p>Kudos to <a href="https://solomonkurz.netlify.app/blog/2021-05-11-yes-you-can-fit-an-exploratory-factor-analysis-with-lavaan/">Solomon Kurz</a> for providing the idea and code on which the tile plot function is built!</p>
<p>Most people will be familiar with the barplot, and this is probably most intuitive to understand the response distribution within each item. However, if there are many items it will take a while to review, and does not provide the same overview as a tileplot or stacked bars.</p>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-21_17ebc48726e285e81d19b6d521fb1f13">
<details><summary>Code</summary><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># This code chunk creates a small table in the margin beside the panel-tabset output below, showing all items currently in the df dataframe.</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The Quarto code chunk option "#| column: margin" is necessary for the layout to work as intended.</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_15</span>
</td>
<td style="text-align:left;">
Scared
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_18</span>
</td>
<td style="text-align:left;">
Guilty
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div></div></div>
<div class="column-page-left">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Tile plot</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Stacked bars</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Barplots</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Expected Value Curves</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-22_a1215b3da2173bf0ed63e519697d0b5e">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RItileplot.html">RItileplot</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>While response patterns are skewed for all items, there are more than 10 responses in each category for all items which is helpful for the analysis.</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-23_f465fd4f1a139e826f87d10f1e6a8e3e">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIbarstack.html">RIbarstack</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co"># theming is optional, see section 11 for more on this</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/theme_rise.html">theme_rise</a></span><span class="op">(</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div>
<details open=""><summary>Code</summary><div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIbarplot.html">RIbarplot</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell quarto-layout-panel" data-hash="RaschRvign_cache/html/unnamed-chunk-24_6a5fc12880f47bfd1033806e35efad2e">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-2.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-3.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-4.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-5.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-6.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-7.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-8.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-9.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-24-10.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div>
<details open=""><summary>Code</summary><div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.edmeasurementsurveys.com/TAM/Tutorials/">TAM</a></span><span class="op">)</span></span>
<span><span class="va">tam1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/TAM/man/tam.mml.html">tam</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>, irtmodel <span class="op">=</span> <span class="st">"PCM"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># run TAM Rasch Partial Credit Model on our data, which uses Marginal Maximum Likelihood estimation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">tam1</span><span class="op">)</span> <span class="co"># create ICC plots</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell quarto-layout-panel" data-hash="RaschRvign_cache/html/unnamed-chunk-25_3b0cc854caa1cc0cad10fb3c5c0fdc64">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>Iteration in WLE/MLE estimation  1   | Maximal change  2.949 
Iteration in WLE/MLE estimation  2   | Maximal change  2.0344 
Iteration in WLE/MLE estimation  3   | Maximal change  0.7294 
Iteration in WLE/MLE estimation  4   | Maximal change  0.1271 
Iteration in WLE/MLE estimation  5   | Maximal change  0.0034 
Iteration in WLE/MLE estimation  6   | Maximal change  1e-04 
Iteration in WLE/MLE estimation  7   | Maximal change  0 
----
 WLE Reliability= 0.761 </code></pre>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-2.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-3.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-4.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-5.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-6.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-7.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-8.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-9.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-25-10.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<pre><code>....................................................
 Plots exported in png format into folder:
 /Users/magnuspjo/Library/CloudStorage/OneDrive-RISE/Dokument/R/RISEkbmVignette/raschrvignette/Plots</code></pre>
</div>
</div>
</div>
</div>
<p>The expected value curves are made using the <a href="https://cran.r-project.org/web/packages/TAM/index.html">TAM</a> package, which uses Marginal Maximum Likelihood (MML) estimation. It is a good way to check if any of your items may need reversed response categories, amongst other things.</p>
</div>
</div>
</div>
</div>
</section></section><section id="sec-rasch" class="level2 page-columns page-full" data-number="3"><h2 data-number="3" class="anchored" data-anchor-id="sec-rasch">
<span class="header-section-number">3</span> Rasch analysis 1</h2>
<p>The eRm package and Conditional Maximum Likelihood (CML) estimation will be used primarily, with the Partial Credit Model since this is polytomous data.</p>
<p>This is also where the <a href="https://doi.org/10.31219/osf.io/3htzc">five basic psychometric aspects</a> are good to recall.</p>
<ul>
<li>Unidimensionality</li>
<li>Response categories</li>
<li>Invariance</li>
<li>Targeting</li>
<li>Measurement uncertainties (reliability)</li>
</ul>
<p>We will begin by looking at unidimensionality, response categories, and targeting in parallel below. For unidimensionality, we are mostly interested in item fit and residual correlations, as well as PCA of residuals and loadings on the first residual contrast. At the same time, disordered response categories can influence item fit, and targeting can be useful if it is necessary to remove items due to residual correlations.</p>
<p>When unidimensionality and response categories are found to work adequately, we will move on to invariance testing. And when/if invariance looks good, we can investigate reliability/measurement uncertainties.</p>
<p>In the tabset-panel below, each tab will have some explanatory text.</p>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-26_0eb51ea908f341eb87861d693a3843d3">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_15</span>
</td>
<td style="text-align:left;">
Scared
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_18</span>
</td>
<td style="text-align:left;">
Guilty
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div></div></div>
<div class="column-page-left">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Item fit</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">PCA</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Residual correlations</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">1st contrast loadings</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false">Analysis of response categories</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-6" role="tab" aria-controls="tabset-2-6" aria-selected="false">Response categories MIRT</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-7" role="tab" aria-controls="tabset-2-7" aria-selected="false">Targeting</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-8" role="tab" aria-controls="tabset-2-8" aria-selected="false">Item hierarchy</a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-27_ba11ce69bb2d8d4056f0e69b4018b9d9">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemfitPCM2.html">RIitemfitPCM2</a></span><span class="op">(</span><span class="va">df</span>, <span class="fl">300</span>, <span class="fl">32</span>, cpu <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">OutfitMSQ</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">InfitMSQ</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">OutfitZSTD</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">InfitZSTD</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: left;"><span style="     color: black !important;">1.147</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.106</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.317</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.377</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_12</td>
<td style="text-align: left;"><span style="     color: black !important;">0.776</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.776</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.012</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.673</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: left;"><span style="     color: black !important;">1.238</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.093</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.905</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.082</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: left;"><span style="     color: black !important;">1.009</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.978</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.098</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.36</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_15</td>
<td style="text-align: left;"><span style="     color: red !important;">0.663</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.724</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.755</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-3.352</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: left;"><span style="     color: black !important;">0.709</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.735</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.356</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-3.014</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: left;"><span style="     color: black !important;">0.84</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.873</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.189</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.212</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_18</td>
<td style="text-align: left;"><span style="     color: black !important;">1.06</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.999</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.119</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.136</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_19</td>
<td style="text-align: left;"><span style="     color: black !important;">0.842</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.842</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.809</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.933</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: left;"><span style="     color: black !important;">1.161</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.123</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.64</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.003</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Since we have a sample size over 500, ZSTD item fit values would be inflated if we use the whole sample. To better estimate accurate ZSTD values the <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemfitPCM.html">RIitemfitPCM()</a></code> function allows for multiple subsampling. It is recommended to use a sample size between 250 and 500 <span class="citation" data-cites="hagell2016">(<a href="#ref-hagell2016" role="doc-biblioref">Hagell &amp; Westergren, 2016</a>)</span>. We will set the sample size to 300 and run 32 subsamples. If you just want to test things out, I highly recommend lowering the number 32 to 4 to enable faster rendering.</p>
<p>For faster processing, <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemfitPCM2.html">RIitemfitPCM2()</a></code> enables parallel processing with multiple CPUs/cores. You can check how many available cores you have by running <code><a href="https://rdrr.io/r/parallel/detectCores.html">parallel::detectCores()</a></code>. It is recommended to not use all of them (leave 1 or 2 free). There may be issues with multicore parallel processing, especially when having few responses in some response categories. If you run in to errors, try increasing the sample size, or just use the single cpu/core function <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemfitPCM.html">RIitemfitPCM()</a></code> instead.</p>
<p>“Outfit” refers to item fit when person location is relatively far away from the item location, while “infit” provides estimates for when person and item locations are close together. MSQ should be close to 1, with lower and upper cutoffs set to 0.7 and 1.3 as default values, while ZSTD should be around 0, with default cutoffs set to +/- 2.0. Infit is usually more important. You can change the cutoff values by using options in the function, see <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemfitPCM.html">?RIitemfitPCM</a></code> for details.</p>
<p>A low item fit indicates that responses are too predictable and provide little information. A high item fit can indicate several things, most often multidimensionality or, for questionnaires, a question that is difficult to interpret. This could for instance be a question that asks about two things at the same time.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-28_90f5a1b155d67ffd07251098c17bb5b4">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIpcmPCA.html">RIpcmPCA</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<caption>PCA of Rasch model residuals </caption>
<thead><tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Eigenvalues</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right; font-weight: bold;">1.79</td>
</tr>
<tr class="even">
<td style="text-align: right; font-weight: bold;">1.47</td>
</tr>
<tr class="odd">
<td style="text-align: right; font-weight: bold;">1.28</td>
</tr>
<tr class="even">
<td style="text-align: right; font-weight: bold;">1.14</td>
</tr>
<tr class="odd">
<td style="text-align: right; font-weight: bold;">1.06</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The first eigenvalue should be below 2.0 to support unidimensionality.</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-29_00c9d4d80ad16977160eb04370e0e0cc">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIresidcorr.html">RIresidcorr</a></span><span class="op">(</span><span class="va">df</span>, cutoff <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_11</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_12</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_13</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_14</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_15</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_16</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_17</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_18</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_19</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_20</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_12</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.1</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.05</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.01</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.11</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.09</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.07</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_15</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.14</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.13</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.22</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.29</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.17</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.1</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.25</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.27</span></td>
<td style="text-align: left;"><span style="     color: red !important;">0.38</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.18</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.09</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.09</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.19</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.13</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.08</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_18</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.19</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.15</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.16</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.18</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.15</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.13</span></td>
<td style="text-align: left;"><span style="     color: red !important;">0.32</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_19</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.13</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.13</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.25</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.14</span></td>
<td style="text-align: left;"><span style="     color: red !important;">0.1</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.08</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.21</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.12</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.06</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.22</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.07</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.05</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.13</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.19</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.16</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.15</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.07</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
</tbody>
<tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><span style="font-style: italic;">Note: </span></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;">
<sup></sup> Relative cut-off value (highlighted in red) is 0.098, which is 0.2 above the average correlation.</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tfoot>
</table>
</div>
</div>
<p>The matrix above shows item-pair correlations of item residuals, with highlights in red showing correlations 0.2 or more above the average item-pair correlation (for all item-pairs) <span class="citation" data-cites="christensen2017">(<a href="#ref-christensen2017" role="doc-biblioref">Christensen et al., 2017</a>)</span>. Rasch model residual correlations are calculated using the <a href="https://cran.r-project.org/web/packages/mirt/index.html">mirt</a> package. Again, you can set the cutoff value you desire in the function call, which will affect the values highlighted in the correlation matrix table and the caption text.</p>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-30_f429f177e1dc5881aa30ec55cbb89e87">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIloadLoc.html">RIloadLoc</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>Here we see item locations and their loadings on the first residual contrast. This figure can be helpful to identify clusters in data or multidimensionality.</p>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<p>The <code>xlims</code> setting changes the x-axis limits for the ICC plots. The default values usually make sense, and we mostly add this option to point out the possibility of doing so. You can also choose to only show the ICC plots for specific items.</p>
<div>
<details open=""><summary>Code</summary><div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemCats.html">RIitemCats</a></span><span class="op">(</span><span class="va">df</span>, xlims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell quarto-layout-panel" data-hash="RaschRvign_cache/html/unnamed-chunk-31_a82642bfeb2ead0e91f70d477b76c227">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-2.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-3.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-4.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-5.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-6.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-7.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-8.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-9.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-31-10.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
<p>Each response category for each item should have a curve that indicates it to be the most probably response at some point on the latent variable (x axis in the figure).</p>
</div>
<div id="tabset-2-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-6-tab">
<p>For a more compact figure.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-32_32f0f8347ef19ed59093da350589d9f6">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/mirt/man/mirt.html">mirt</a></span><span class="op">(</span><span class="va">df</span>, model<span class="op">=</span><span class="fl">1</span>, itemtype<span class="op">=</span><span class="st">'Rasch'</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span>type<span class="op">=</span><span class="st">"trace"</span>, as.table <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>       theta_lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-2-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-7-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-33_ab345a54e693bdde831e4eb55afd0b97">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># increase fig-height in the chunk option above if you have many items</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RItargeting.html">RItargeting</a></span><span class="op">(</span><span class="va">df</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="co"># xlim defaults to c(-5,6) if you omit this option</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>This figure shows how well the items fit the respondents/persons. It is a sort of <a href="https://www.rasch.org/rmt/rmt253b.htm">Wright Map</a> that shows person locations and item threshold locations on the same logit scale.</p>
<p>The top part shows person location histogram, the middle part an inverted histogram of item threshold locations, and the bottom part shows individual item threshold locations. The histograms also show means and standard deviations.</p>
</div>
<div id="tabset-2-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-8-tab">
<p>Here the items are sorted on their average threshold location (black diamonds). 95% confidence intervals are shown around each item threshold location. For further details, see the caption text below the figure.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-34_4a8d01fd7b32f2bf68d609341a0fada6">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemHierarchy.html">RIitemHierarchy</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Item 18 has issues with the second lowest category being disordered.</p>
<p>Item 15 shows low item fit.</p>
<p>Two item-pairs show residual correlations above the cutoff value:</p>
<ul>
<li>15 and 16 (scared and afraid)</li>
<li>17 and 18 (ashamed and guilty)</li>
</ul>
<p>Since item 15 also had low item fit, we will remove it. In the second pair, item 18 will be removed since it also had problems with disordered response categories.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-35_6faba9fa4c8f8e2cc9138b41103b7ab9">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">removed.items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"PANAS_15"</span>,<span class="st">"PANAS_18"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html">any_of</a></span><span class="op">(</span><span class="va">removed.items</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>As seen in the code above, I chose to create a copy of the dataframe with the removed items omitted. This can be useful if, at a later stage in the analysis, I want to be able to quickly “go back” and reinstate an item.</p>
</section><section id="rasch-analysis-2" class="level2 page-columns page-full" data-number="4"><h2 data-number="4" class="anchored" data-anchor-id="rasch-analysis-2">
<span class="header-section-number">4</span> Rasch analysis 2</h2>
<p>With items 15 and 18 removed.</p>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-36_6aea1e1c5c8333ae832509748b51a93c">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div></div></div>
<div class="column-page-left">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Item fit</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">PCA</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Residual correlations</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">1st contrast loadings</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-5" role="tab" aria-controls="tabset-3-5" aria-selected="false">Targeting</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-6" role="tab" aria-controls="tabset-3-6" aria-selected="false">Item hierarchy</a></li>
</ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-37_b66f7332028dc0eb03fae18b2642f39e">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemfitPCM2.html">RIitemfitPCM2</a></span><span class="op">(</span><span class="va">df2</span>, <span class="fl">300</span>, <span class="fl">32</span>, cpu <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">OutfitMSQ</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">InfitMSQ</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">OutfitZSTD</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">InfitZSTD</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: left;"><span style="     color: black !important;">1.06</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.032</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.506</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.229</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_12</td>
<td style="text-align: left;"><span style="     color: black !important;">0.713</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.722</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.621</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-3.602</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: left;"><span style="     color: black !important;">1.129</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.01</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.915</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.089</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: left;"><span style="     color: black !important;">0.908</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.878</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.829</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.126</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: left;"><span style="     color: black !important;">0.757</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.788</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.068</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.512</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: left;"><span style="     color: black !important;">0.898</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.926</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.609</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.552</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_19</td>
<td style="text-align: left;"><span style="     color: black !important;">0.845</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.838</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.651</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.274</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: left;"><span style="     color: black !important;">1.083</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.06</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.534</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.756</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-38_617dd22fe60a88658c37412447d4de2f">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIpcmPCA.html">RIpcmPCA</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<caption>PCA of Rasch model residuals </caption>
<thead><tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Eigenvalues</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right; font-weight: bold;">1.52</td>
</tr>
<tr class="even">
<td style="text-align: right; font-weight: bold;">1.33</td>
</tr>
<tr class="odd">
<td style="text-align: right; font-weight: bold;">1.19</td>
</tr>
<tr class="even">
<td style="text-align: right; font-weight: bold;">1.15</td>
</tr>
<tr class="odd">
<td style="text-align: right; font-weight: bold;">1.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-39_59bfaf249d7461e23ccb930b78ab7c58">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIresidcorr.html">RIresidcorr</a></span><span class="op">(</span><span class="va">df2</span>, cutoff <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_11</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_12</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_13</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_14</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_16</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_17</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_19</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_20</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_12</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.16</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.11</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.06</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.19</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.03</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.01</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.16</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.08</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.25</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.28</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.18</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.06</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.09</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.19</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_19</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.15</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.15</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.28</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.18</span></td>
<td style="text-align: left;"><span style="     color: red !important;">0.12</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.16</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.1</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.27</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.13</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.11</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.18</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.15</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.09</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
</tbody>
<tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><span style="font-style: italic;">Note: </span></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;">
<sup></sup> Relative cut-off value (highlighted in red) is 0.071, which is 0.2 above the average correlation.</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tfoot>
</table>
</div>
</div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-40_a9f819ed19650506b0a163948468a03d">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIloadLoc.html">RIloadLoc</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-3-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-5-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-41_e33347e1e7d6d026744d209e56f034fd">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># increase fig-height above as needed, if you have many items</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RItargeting.html">RItargeting</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-3-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-6-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-42_c8178b1a8dc3aac2eb0373c9841a10f8">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemHierarchy.html">RIitemHierarchy</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Items 12 and 16 are a bit low in item fit ZSTD.</p>
<p>Items 16 and 19 have a residual correlation at about 0.25 above the average level.</p>
<p>Let’s look at DIF before taking action upon this information.</p>
</section><section id="dif---differential-item-functioning" class="level2 page-columns page-full" data-number="5"><h2 data-number="5" class="anchored" data-anchor-id="dif---differential-item-functioning">
<span class="header-section-number">5</span> DIF - differential item functioning</h2>
<p>We’ll be looking at how/if item (threshold) locations are stable between demographic subgroups.</p>
<section id="sex" class="level3 page-columns page-full" data-number="5.1"><h3 data-number="5.1" class="anchored" data-anchor-id="sex">
<span class="header-section-number">5.1</span> Sex</h3>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-43_5208787c06db802db02bcf28458d0adc">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div></div></div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Table</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Figure items</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Figure thresholds</a></li>
</ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-44_2b474079e20e2b03c41a40c95be09ae2">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifTable.html">RIdifTable</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.sex</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display">

<table class="table table-striped" style="font-size: 15px; font-family: Lato">
<thead><tr>
<th style="text-align:right;">
Item
</th>
<th style="text-align:right;">
2
</th>
<th style="text-align:right;">
3
</th>
<th style="text-align:right;">
Mean location
</th>
<th style="text-align:right;">
StDev
</th>
<th style="text-align:right;">
MaxDiff
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
PANAS_11
</td>
<td style="text-align:right;">
-0.314
</td>
<td style="text-align:right;">
-0.196
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.083
</td>
<td style="text-align:right;">
<span style="color: black">0.117</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_12
</td>
<td style="text-align:right;">
0.028
</td>
<td style="text-align:right;">
-0.044
</td>
<td style="text-align:right;">
-0.008
</td>
<td style="text-align:right;">
0.051
</td>
<td style="text-align:right;">
<span style="color: black">0.073</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_13
</td>
<td style="text-align:right;">
0.553
</td>
<td style="text-align:right;">
0.402
</td>
<td style="text-align:right;">
0.478
</td>
<td style="text-align:right;">
0.107
</td>
<td style="text-align:right;">
<span style="color: black">0.151</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_14
</td>
<td style="text-align:right;">
-0.328
</td>
<td style="text-align:right;">
-0.183
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.103
</td>
<td style="text-align:right;">
<span style="color: black">0.146</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_16
</td>
<td style="text-align:right;">
0.004
</td>
<td style="text-align:right;">
0.114
</td>
<td style="text-align:right;">
0.059
</td>
<td style="text-align:right;">
0.078
</td>
<td style="text-align:right;">
<span style="color: black">0.111</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_17
</td>
<td style="text-align:right;">
0.520
</td>
<td style="text-align:right;">
0.290
</td>
<td style="text-align:right;">
0.405
</td>
<td style="text-align:right;">
0.163
</td>
<td style="text-align:right;">
<span style="color: black">0.230</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_19
</td>
<td style="text-align:right;">
-0.495
</td>
<td style="text-align:right;">
-0.355
</td>
<td style="text-align:right;">
-0.425
</td>
<td style="text-align:right;">
0.099
</td>
<td style="text-align:right;">
<span style="color: black">0.140</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_20
</td>
<td style="text-align:right;">
0.032
</td>
<td style="text-align:right;">
-0.028
</td>
<td style="text-align:right;">
0.002
</td>
<td style="text-align:right;">
0.042
</td>
<td style="text-align:right;">
<span style="color: black">0.059</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-45_b6d86201efa7a640b589f71c96a9faed">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifFigure.html">RIdifFigure</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.sex</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-46_ab8d1356a35bde555c08cc51e6b7769c">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifFigThresh.html">RIdifFigThresh</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.sex</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
<p>While no item shows problematic levels of DIF regarding item location, as shown by the table, there is an interesting pattern in the thresholds figure. The lowest threshold seems to be slightly lower for node 3 (Male) for all items.</p>
<p>The results do not require any action since the difference is small.</p>
</section><section id="age" class="level3" data-number="5.2"><h3 data-number="5.2" class="anchored" data-anchor-id="age">
<span class="header-section-number">5.2</span> Age</h3>
<p>The <code>psychotree</code> package uses a model-based recursive partitioning that is particularly useful when you have a continuous variable such as age in years and a large enough sample. It will test different ways to partition the age variable to determine potential group differences <span class="citation" data-cites="strobl2015 strobl2021">(<a href="#ref-strobl2015" role="doc-biblioref">Strobl et al., 2015b</a>, <a href="#ref-strobl2021" role="doc-biblioref">2021</a>)</span>.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-47_c4720a4994b272bc6e947a093de65841">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb50"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifTable.html">RIdifTable</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.age</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "No significant DIF found."</code></pre>
</div>
</div>
<p>No DIF found for age.</p>
</section><section id="group" class="level3" data-number="5.3"><h3 data-number="5.3" class="anchored" data-anchor-id="group">
<span class="header-section-number">5.3</span> Group</h3>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-48_1a9b77cb8e49b8a97fada8ce7b63dc11">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifTable.html">RIdifTable</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.group</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "No significant DIF found."</code></pre>
</div>
</div>
<p>And no DIF for group.</p>
</section><section id="sex-and-age" class="level3" data-number="5.4"><h3 data-number="5.4" class="anchored" data-anchor-id="sex-and-age">
<span class="header-section-number">5.4</span> Sex and age</h3>
<p>The <code>psychotree</code> package also allows for DIF interaction analysis with multiple DIF variables. We can use <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifTable2.html">RIdifTable2()</a></code> to input two DIF variables.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-49_51d1b890c27ebffd0319764d9b0d834b">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb54"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifTable2.html">RIdifTable2</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.sex</span>, <span class="va">dif.age</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display">

<table class="table table-striped" style="font-size: 15px; font-family: Lato">
<thead><tr>
<th style="text-align:right;">
Item
</th>
<th style="text-align:right;">
2
</th>
<th style="text-align:right;">
3
</th>
<th style="text-align:right;">
Mean location
</th>
<th style="text-align:right;">
StDev
</th>
<th style="text-align:right;">
MaxDiff
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
PANAS_11
</td>
<td style="text-align:right;">
-0.314
</td>
<td style="text-align:right;">
-0.196
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.083
</td>
<td style="text-align:right;">
<span style="color: black">0.117</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_12
</td>
<td style="text-align:right;">
0.028
</td>
<td style="text-align:right;">
-0.044
</td>
<td style="text-align:right;">
-0.008
</td>
<td style="text-align:right;">
0.051
</td>
<td style="text-align:right;">
<span style="color: black">0.073</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_13
</td>
<td style="text-align:right;">
0.553
</td>
<td style="text-align:right;">
0.402
</td>
<td style="text-align:right;">
0.478
</td>
<td style="text-align:right;">
0.107
</td>
<td style="text-align:right;">
<span style="color: black">0.151</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_14
</td>
<td style="text-align:right;">
-0.328
</td>
<td style="text-align:right;">
-0.183
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.103
</td>
<td style="text-align:right;">
<span style="color: black">0.146</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_16
</td>
<td style="text-align:right;">
0.004
</td>
<td style="text-align:right;">
0.114
</td>
<td style="text-align:right;">
0.059
</td>
<td style="text-align:right;">
0.078
</td>
<td style="text-align:right;">
<span style="color: black">0.111</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_17
</td>
<td style="text-align:right;">
0.520
</td>
<td style="text-align:right;">
0.290
</td>
<td style="text-align:right;">
0.405
</td>
<td style="text-align:right;">
0.163
</td>
<td style="text-align:right;">
<span style="color: black">0.230</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_19
</td>
<td style="text-align:right;">
-0.495
</td>
<td style="text-align:right;">
-0.355
</td>
<td style="text-align:right;">
-0.425
</td>
<td style="text-align:right;">
0.099
</td>
<td style="text-align:right;">
<span style="color: black">0.140</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_20
</td>
<td style="text-align:right;">
0.032
</td>
<td style="text-align:right;">
-0.028
</td>
<td style="text-align:right;">
0.002
</td>
<td style="text-align:right;">
0.042
</td>
<td style="text-align:right;">
<span style="color: black">0.059</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>No interaction effect found for sex and age. The analysis only shows the previously identified DIF for sex.</p>
</section><section id="sec-diflrt" class="level3 page-columns page-full" data-number="5.5"><h3 data-number="5.5" class="anchored" data-anchor-id="sec-diflrt">
<span class="header-section-number">5.5</span> LRT-based DIF example</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I advice not to use these LRT-based functions, unless you are certain that you understand their output. The <code><a href="https://rdrr.io/pkg/eRm/man/LRtest.html">LRtest()</a></code> itself is fine, but the functions have not yet been extensively tested and may have issues depending on the dataset. It seems that the DIF size indicated by these functions may be inflated.</p>
<p>I wrote these when I found a bug in the <code>psychotree</code>-based functions that produced errors when mixing polytomous and dichotomous variables, but this has been fixed upstream now.</p>
<p>At some point I hope to find time to update the “old” DIF-functions with some of the nice things I implemented below.</p>
</div>
</div>
<p>As of package version 0.1.16 there are four new functions for analyzing item location DIF. These are all making use of the function <code><a href="https://rdrr.io/pkg/eRm/man/LRtest.html">LRtest()</a></code> from the <code>eRm</code> package.</p>
<p>We’ll use the group variable as an example. First, we can simply run the test to get the overall result.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-50_f0486cf21148e30b74222ec355c0f207">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb55"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">erm.out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/eRm/man/PCM.html">PCM</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/eRm/man/LRtest.html">LRtest</a></span><span class="op">(</span><span class="va">erm.out</span>, splitcr <span class="op">=</span> <span class="va">dif.group</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>
Andersen LR-test: 
LR-value: 46.864 
Chi-square df: 31 
p-value:  0.034 </code></pre>
</div>
</div>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-51_354cc89ba052f8179952912f48c850ca">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div></div></div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Item location table</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Item location figure</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">Item threshold table</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">Item threshold figure</a></li>
</ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-52_7af008592094a9f29a188de0e11435ee">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb57"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifTableLR.html">RIdifTableLR</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.group</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; empty-cells: hide;"></th>
<th colspan="4" data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 5px; padding-right: 5px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Item locations
</div></th>
<th colspan="3" data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 5px; padding-right: 5px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Standard errors
</div></th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Item</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Earlier Start</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Later Start</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">MaxDiff</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">All</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">SE_Earlier Start</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">SE_Later Start</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">SE_All</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PANAS_11</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.977</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.944</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.033</span></td>
<td style="text-align: right; font-style: italic;">-0.953</td>
<td style="text-align: right;">0.145</td>
<td style="text-align: right;">0.130</td>
<td style="text-align: right; font-style: italic;">0.097</td>
</tr>
<tr class="even">
<td style="text-align: left;">PANAS_12</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.208</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.09</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.118</span></td>
<td style="text-align: right; font-style: italic;">0.143</td>
<td style="text-align: right;">0.149</td>
<td style="text-align: right;">0.132</td>
<td style="text-align: right; font-style: italic;">0.098</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PANAS_13</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.064</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.457</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.393</span></td>
<td style="text-align: right; font-style: italic;">1.266</td>
<td style="text-align: right;">0.175</td>
<td style="text-align: right;">0.180</td>
<td style="text-align: right; font-style: italic;">0.123</td>
</tr>
<tr class="even">
<td style="text-align: left;">PANAS_14</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.597</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.787</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.19</span></td>
<td style="text-align: right; font-style: italic;">-0.701</td>
<td style="text-align: right;">0.143</td>
<td style="text-align: right;">0.126</td>
<td style="text-align: right; font-style: italic;">0.094</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PANAS_16</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.415</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.218</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.197</span></td>
<td style="text-align: right; font-style: italic;">0.312</td>
<td style="text-align: right;">0.154</td>
<td style="text-align: right;">0.131</td>
<td style="text-align: right; font-style: italic;">0.100</td>
</tr>
<tr class="even">
<td style="text-align: left;">PANAS_17</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.253</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.547</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.294</span></td>
<td style="text-align: right; font-style: italic;">1.423</td>
<td style="text-align: right;">0.171</td>
<td style="text-align: right;">0.161</td>
<td style="text-align: right; font-style: italic;">0.117</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PANAS_19</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.202</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.288</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.086</span></td>
<td style="text-align: right; font-style: italic;">-1.254</td>
<td style="text-align: right;">0.142</td>
<td style="text-align: right;">0.125</td>
<td style="text-align: right; font-style: italic;">0.093</td>
</tr>
<tr class="even">
<td style="text-align: left;">PANAS_20</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.163</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.292</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.129</span></td>
<td style="text-align: right; font-style: italic;">-0.235</td>
<td style="text-align: right;">0.158</td>
<td style="text-align: right;">0.139</td>
<td style="text-align: right; font-style: italic;">0.104</td>
</tr>
</tbody>
<tfoot>
<tr class="even">
<td style="text-align: left; padding: 0;"><span style="font-style: italic;">Note: </span></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;">
<sup></sup> Values highlighted in red are above the chosen cutoff 0.5 logits. Background color brown and blue indicate the lowest and highest values among the DIF groups.</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
</tfoot>
</table>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-53_28efd2089a028472c4819beeffd97260">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb58"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifFigureLR.html">RIdifFigureLR</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.group</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/theme_rise.html">theme_rise</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-54_7dec4c4d2167106330b2a684d724f2cd">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifThreshTblLR.html">RIdifThreshTblLR</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.group</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="empty-cells: hide"></th>
<th colspan="4" data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 5px; padding-right: 5px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Treshold locations
</div></th>
<th colspan="3" data-quarto-table-cell-role="th" style="text-align: center; padding-bottom: 0; padding-left: 5px; padding-right: 5px; font-weight: bold;"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">
Standard errors
</div></th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Item threshold</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Earlier Start</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Later Start</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">MaxDiff</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">All</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">SE_Earlier Start</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">SE_Later Start</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">SE_All</th>
</tr>
</thead>
<tbody>
<tr class="odd" data-grouplength="4">
<td colspan="8" style="border-bottom: 0"><strong>PANAS_11</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c1</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.245</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.241</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.004</span></td>
<td style="text-align: right; font-style: italic;">-1.240</td>
<td style="text-align: right;">0.098</td>
<td style="text-align: right;">0.094</td>
<td style="text-align: right; font-style: italic;">0.068</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c2</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.61</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.461</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.149</span></td>
<td style="text-align: right; font-style: italic;">-1.524</td>
<td style="text-align: right;">0.117</td>
<td style="text-align: right;">0.111</td>
<td style="text-align: right; font-style: italic;">0.080</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c3</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.329</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.365</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.036</span></td>
<td style="text-align: right; font-style: italic;">-1.343</td>
<td style="text-align: right;">0.140</td>
<td style="text-align: right;">0.123</td>
<td style="text-align: right; font-style: italic;">0.092</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c4</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.275</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.29</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.015</span></td>
<td style="text-align: right; font-style: italic;">0.294</td>
<td style="text-align: right;">0.224</td>
<td style="text-align: right;">0.193</td>
<td style="text-align: right; font-style: italic;">0.146</td>
</tr>
<tr class="even" data-grouplength="4">
<td colspan="8" style="border-bottom: 0"><strong>PANAS_12</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c1</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.484</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.362</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.122</span></td>
<td style="text-align: right; font-style: italic;">-0.418</td>
<td style="text-align: right;">0.092</td>
<td style="text-align: right;">0.091</td>
<td style="text-align: right; font-style: italic;">0.065</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c2</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.243</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.56</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.317</span></td>
<td style="text-align: right; font-style: italic;">-0.423</td>
<td style="text-align: right;">0.125</td>
<td style="text-align: right;">0.105</td>
<td style="text-align: right; font-style: italic;">0.080</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c3</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.236</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.104</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.34</span></td>
<td style="text-align: right; font-style: italic;">0.044</td>
<td style="text-align: right;">0.159</td>
<td style="text-align: right;">0.129</td>
<td style="text-align: right; font-style: italic;">0.100</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c4</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.322</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.385</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.063</span></td>
<td style="text-align: right; font-style: italic;">1.367</td>
<td style="text-align: right;">0.220</td>
<td style="text-align: right;">0.201</td>
<td style="text-align: right; font-style: italic;">0.148</td>
</tr>
<tr class="odd" data-grouplength="4">
<td colspan="8" style="border-bottom: 0"><strong>PANAS_13</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c1</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.067</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.23</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.297</span></td>
<td style="text-align: right; font-style: italic;">0.093</td>
<td style="text-align: right;">0.092</td>
<td style="text-align: right;">0.089</td>
<td style="text-align: right; font-style: italic;">0.064</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c2</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.336</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.345</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.009</span></td>
<td style="text-align: right; font-style: italic;">0.341</td>
<td style="text-align: right;">0.129</td>
<td style="text-align: right;">0.109</td>
<td style="text-align: right; font-style: italic;">0.083</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c3</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.225</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.388</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.163</span></td>
<td style="text-align: right; font-style: italic;">1.325</td>
<td style="text-align: right;">0.183</td>
<td style="text-align: right;">0.158</td>
<td style="text-align: right; font-style: italic;">0.119</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c4</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">2.761</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">3.864</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: red !important;">1.103</span></td>
<td style="text-align: right; font-style: italic;">3.304</td>
<td style="text-align: right;">0.294</td>
<td style="text-align: right;">0.365</td>
<td style="text-align: right; font-style: italic;">0.225</td>
</tr>
<tr class="even" data-grouplength="4">
<td colspan="8" style="border-bottom: 0"><strong>PANAS_14</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c1</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.017</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.972</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.045</span></td>
<td style="text-align: right; font-style: italic;">-0.990</td>
<td style="text-align: right;">0.095</td>
<td style="text-align: right;">0.094</td>
<td style="text-align: right; font-style: italic;">0.066</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c2</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.151</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.244</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.093</span></td>
<td style="text-align: right; font-style: italic;">-1.195</td>
<td style="text-align: right;">0.118</td>
<td style="text-align: right;">0.109</td>
<td style="text-align: right; font-style: italic;">0.080</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c3</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.694</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.149</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.455</span></td>
<td style="text-align: right; font-style: italic;">-0.956</td>
<td style="text-align: right;">0.148</td>
<td style="text-align: right;">0.123</td>
<td style="text-align: right; font-style: italic;">0.094</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c4</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.473</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.217</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.256</span></td>
<td style="text-align: right; font-style: italic;">0.338</td>
<td style="text-align: right;">0.210</td>
<td style="text-align: right;">0.178</td>
<td style="text-align: right; font-style: italic;">0.135</td>
</tr>
<tr class="odd" data-grouplength="4">
<td colspan="8" style="border-bottom: 0"><strong>PANAS_16</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c1</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.156</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.25</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.094</span></td>
<td style="text-align: right; font-style: italic;">-0.202</td>
<td style="text-align: right;">0.097</td>
<td style="text-align: right;">0.091</td>
<td style="text-align: right; font-style: italic;">0.066</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c2</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.147</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.34</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.193</span></td>
<td style="text-align: right; font-style: italic;">-0.248</td>
<td style="text-align: right;">0.123</td>
<td style="text-align: right;">0.108</td>
<td style="text-align: right; font-style: italic;">0.081</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c3</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.177</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.013</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.164</span></td>
<td style="text-align: right; font-style: italic;">0.095</td>
<td style="text-align: right;">0.149</td>
<td style="text-align: right;">0.129</td>
<td style="text-align: right; font-style: italic;">0.098</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c4</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.787</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.449</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.338</span></td>
<td style="text-align: right; font-style: italic;">1.604</td>
<td style="text-align: right;">0.245</td>
<td style="text-align: right;">0.197</td>
<td style="text-align: right; font-style: italic;">0.153</td>
</tr>
<tr class="even" data-grouplength="4">
<td colspan="8" style="border-bottom: 0"><strong>PANAS_17</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c1</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.264</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.368</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.104</span></td>
<td style="text-align: right; font-style: italic;">0.324</td>
<td style="text-align: right;">0.097</td>
<td style="text-align: right;">0.089</td>
<td style="text-align: right; font-style: italic;">0.066</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c2</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.653</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.789</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.136</span></td>
<td style="text-align: right; font-style: italic;">0.736</td>
<td style="text-align: right;">0.136</td>
<td style="text-align: right;">0.119</td>
<td style="text-align: right; font-style: italic;">0.089</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c3</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.457</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.744</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.287</span></td>
<td style="text-align: right; font-style: italic;">1.630</td>
<td style="text-align: right;">0.187</td>
<td style="text-align: right;">0.168</td>
<td style="text-align: right; font-style: italic;">0.125</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c4</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">2.639</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">3.289</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: red !important;">0.65</span></td>
<td style="text-align: right; font-style: italic;">3.003</td>
<td style="text-align: right;">0.264</td>
<td style="text-align: right;">0.269</td>
<td style="text-align: right; font-style: italic;">0.188</td>
</tr>
<tr class="odd" data-grouplength="4">
<td colspan="8" style="border-bottom: 0"><strong>PANAS_19</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c1</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.339</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.263</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.076</span></td>
<td style="text-align: right; font-style: italic;">-1.297</td>
<td style="text-align: right;">0.100</td>
<td style="text-align: right;">0.098</td>
<td style="text-align: right; font-style: italic;">0.070</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c2</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.727</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.533</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.194</span></td>
<td style="text-align: right; font-style: italic;">-1.621</td>
<td style="text-align: right;">0.120</td>
<td style="text-align: right;">0.116</td>
<td style="text-align: right; font-style: italic;">0.083</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c3</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.626</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.866</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.24</span></td>
<td style="text-align: right; font-style: italic;">-1.763</td>
<td style="text-align: right;">0.137</td>
<td style="text-align: right;">0.120</td>
<td style="text-align: right; font-style: italic;">0.090</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c4</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.115</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.489</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.374</span></td>
<td style="text-align: right; font-style: italic;">-0.334</td>
<td style="text-align: right;">0.211</td>
<td style="text-align: right;">0.168</td>
<td style="text-align: right; font-style: italic;">0.131</td>
</tr>
<tr class="even" data-grouplength="4">
<td colspan="8" style="border-bottom: 0"><strong>PANAS_20</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c1</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.906</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.877</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.029</span></td>
<td style="text-align: right; font-style: italic;">-0.887</td>
<td style="text-align: right;">0.093</td>
<td style="text-align: right;">0.090</td>
<td style="text-align: right; font-style: italic;">0.065</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c2</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.095</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.134</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.039</span></td>
<td style="text-align: right; font-style: italic;">-1.110</td>
<td style="text-align: right;">0.113</td>
<td style="text-align: right;">0.104</td>
<td style="text-align: right; font-style: italic;">0.076</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c3</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.058</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.55</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.492</span></td>
<td style="text-align: right; font-style: italic;">-0.350</td>
<td style="text-align: right;">0.165</td>
<td style="text-align: right;">0.130</td>
<td style="text-align: right; font-style: italic;">0.101</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em; font-weight: bold;" data-indentlevel="1">c4</td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.405</span></td>
<td style="text-align: left;"><span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.391</span></td>
<td style="text-align: left; font-weight: bold;"><span style="     color: black !important;">0.014</span></td>
<td style="text-align: right; font-style: italic;">1.406</td>
<td style="text-align: right;">0.260</td>
<td style="text-align: right;">0.234</td>
<td style="text-align: right; font-style: italic;">0.174</td>
</tr>
</tbody>
<tfoot>
<tr class="even">
<td style="padding: 0"><span style="font-style: italic;">Note: </span></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td style="padding: 0">
<sup></sup> Values highlighted in red are above the chosen cutoff 0.5 logits. Background color brown and blue indicate the lowest and highest values among the DIF groups.</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tfoot>
</table>
</div>
</div>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-55_b17c1b4dd6d215ed4fea36002eaf08cc">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb60"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIdifThreshFigLR.html">RIdifThreshFigLR</a></span><span class="op">(</span><span class="va">df2</span>, <span class="va">dif.group</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/theme_rise.html">theme_rise</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
<p>The item threshold table shows that the highest thresholds for items 13 and 17 differ more than 0.5 logits between groups. In this set of 8 items with 4 thresholds each, it is unlikely to result in problematic differences in estimated person scores.</p>
</section></section><section id="rasch-analysis-3" class="level2 page-columns page-full" data-number="6"><h2 data-number="6" class="anchored" data-anchor-id="rasch-analysis-3">
<span class="header-section-number">6</span> Rasch analysis 3</h2>
<p>While there were no significant issues with DIF for any item/subgroup combination, we need to address the previously identified problems</p>
<p>Items 12 and 16 are a bit low in item fit ZSTD.</p>
<p>Items 16 and 19 have a residual correlation at about 0.25 above the average level.</p>
<p>We’ll remove item 19 since item 16 has better targeting.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-56_3565e0f43b4d14666071038d2dad1d33">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">removed.items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">removed.items</span>,<span class="st">"PANAS_19"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="va">df2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html">any_of</a></span><span class="op">(</span><span class="va">removed.items</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-57_cdf4ed28bf14e9f2fe4787e644a60881">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div></div></div>
<div class="column-page-left">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Item fit</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Residual correlations</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">Targeting</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Item hierarchy</a></li>
</ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-58_c5ed3667da3df7c88c665269dbb73e4b">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb62"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemfitPCM2.html">RIitemfitPCM2</a></span><span class="op">(</span><span class="va">df2</span>, <span class="fl">350</span>, <span class="fl">32</span>, <span class="fl">8</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">OutfitMSQ</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">InfitMSQ</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">OutfitZSTD</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">InfitZSTD</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: left;"><span style="     color: black !important;">1.01</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.002</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.215</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.054</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_12</td>
<td style="text-align: left;"><span style="     color: red !important;">0.686</span></td>
<td style="text-align: left;"><span style="     color: red !important;">0.695</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-3.357</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-3.975</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: left;"><span style="     color: black !important;">1.001</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.941</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.218</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.648</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: left;"><span style="     color: black !important;">0.86</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.841</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.653</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.083</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: left;"><span style="     color: black !important;">0.834</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.83</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.471</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.128</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: left;"><span style="     color: black !important;">0.858</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.879</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.099</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.214</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: left;"><span style="     color: black !important;">1.07</span></td>
<td style="text-align: left;"><span style="     color: black !important;">1.047</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.571</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.643</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-59_99cbcab5c4652034ecb5a29148a9c625">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIresidcorr.html">RIresidcorr</a></span><span class="op">(</span><span class="va">df2</span>, cutoff <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_11</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_12</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_13</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_14</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_16</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_17</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_20</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_12</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.18</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.15</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.11</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.22</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.01</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.04</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.14</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.06</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.26</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.26</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.2</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.09</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.14</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.22</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.12</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.29</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.16</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.13</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.15</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.17</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
</tbody>
<tfoot>
<tr class="even">
<td style="text-align: left; padding: 0;"><span style="font-style: italic;">Note: </span></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0;">
<sup></sup> Relative cut-off value (highlighted in red) is 0.053, which is 0.2 above the average correlation.</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tfoot>
</table>
</div>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-60_fc5bf938248f09d69730eef889290101">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb64"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RItargeting.html">RItargeting</a></span><span class="op">(</span><span class="va">df2</span>, bins <span class="op">=</span> <span class="fl">45</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-61_50ba27f46ef8abcf35171bb9302ae54f">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemHierarchy.html">RIitemHierarchy</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>No problematic residual correlations, but item 12 is a bit low in item fit.</p>
</section><section id="rasch-analysis-4" class="level2 page-columns page-full" data-number="7"><h2 data-number="7" class="anchored" data-anchor-id="rasch-analysis-4">
<span class="header-section-number">7</span> Rasch analysis 4</h2>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-62_7d92bca12679749d2ac89f7cd2be7e76">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb66"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">removed.items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">removed.items</span>,<span class="st">"PANAS_12"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="va">df2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html">any_of</a></span><span class="op">(</span><span class="va">removed.items</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-63_e8fcee60d01b1213f7a354d919786646">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div></div></div>
<div class="column-page-left">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Item fit</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Residual correlations</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">Targeting</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-4" role="tab" aria-controls="tabset-7-4" aria-selected="false">Item hierarchy</a></li>
</ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-64_dc7bcae34631a9f6b880c2b724ad2b04">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemfitPCM2.html">RIitemfitPCM2</a></span><span class="op">(</span><span class="va">df2</span>, <span class="fl">350</span>, <span class="fl">32</span>, <span class="fl">8</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">OutfitMSQ</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">InfitMSQ</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">OutfitZSTD</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">InfitZSTD</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: left;"><span style="     color: black !important;">0.926</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.932</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.875</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.887</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: left;"><span style="     color: black !important;">0.907</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.894</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.653</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.977</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: left;"><span style="     color: black !important;">0.85</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.83</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.079</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.227</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: left;"><span style="     color: black !important;">0.795</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.8</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.913</span></td>
<td style="text-align: left;"><span style="     color: red !important;">-2.509</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: left;"><span style="     color: black !important;">0.802</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.834</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.348</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-1.871</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: left;"><span style="     color: black !important;">0.96</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.946</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.351</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.838</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-65_952d3480b4cff41d0b36267b2a8427fb">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb68"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIresidcorr.html">RIresidcorr</a></span><span class="op">(</span><span class="va">df2</span>, cutoff <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_11</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_13</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_14</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_16</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_17</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">PANAS_20</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.17</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.22</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.03</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.15</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.26</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.24</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.22</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.14</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.21</span></td>
<td style="text-align: left;"><span style="     color: black !important;">0.01</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: left;"><span style="     color: black !important;">-0.17</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.2</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.16</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.19</span></td>
<td style="text-align: left;"><span style="     color: black !important;">-0.2</span></td>
<td style="text-align: left;"><span style="     color: black !important;"></span></td>
</tr>
</tbody>
<tfoot>
<tr class="odd">
<td style="text-align: left; padding: 0;"><span style="font-style: italic;">Note: </span></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0;">
<sup></sup> Relative cut-off value (highlighted in red) is 0.03, which is 0.2 above the average correlation.</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tfoot>
</table>
</div>
</div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-66_af84b681da96b28f36c943863f3e1c67">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RItargeting.html">RItargeting</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-66-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-7-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-4-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-67_144bd12e03daf2e63259c3afc51e66f5">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb70"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemHierarchy.html">RIitemHierarchy</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-67-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>There are several item thresholds that are very closely located, as shown in the item hierarchy figure. This is not ideal, since it will inflate reliability estimates.</p>
<p>However, we will not modify the response categories for this sample/simple analysis, we only note that this is not ideal.</p>
</section><section id="reliability" class="level2" data-number="8"><h2 data-number="8" class="anchored" data-anchor-id="reliability">
<span class="header-section-number">8</span> Reliability</h2>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-68_4009ea2b48c75e63a5d5fc73aad8699d">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb71"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RItif.html">RItif</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-68-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>While 11.8% of respondents had a floor effect based on the raw sum scored data, the figure above shows us that 41.8% are located below the point where the items produce a person separation index (reliability) of 0.7 or higher.</p>
</section><section id="person-fit" class="level2" data-number="9"><h2 data-number="9" class="anchored" data-anchor-id="person-fit">
<span class="header-section-number">9</span> Person fit</h2>
<p>We can also look at how the respondents fit the Rasch model with these items.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-69_d849ad46b171c166732d53b3a355755f">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb72"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIpfit.html">RIpfit</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-69-1.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-69-2.png" class="img-fluid" width="1050"></p>
</div>
</div>
</section><section id="item-parameters" class="level2" data-number="10"><h2 data-number="10" class="anchored" data-anchor-id="item-parameters">
<span class="header-section-number">10</span> Item parameters</h2>
<p>To allow others (and oneself) to use the item parameters estimated for estimation of person locations/thetas, we should make the item parameters available. The function will also write a csv-file with the item threshold locations. Estimations of person locations/thetas can be done with the <code><a href="https://rdrr.io/pkg/catR/man/thetaEst.html">thetaEst()</a></code> function from the <code>catR</code> package.</p>
<p>It can also be done by using the new (as of 2023-02-04) <code>RIestTheta()</code> function in this package (does not yet work with dichotomous data), which uses <code><a href="https://rdrr.io/pkg/catR/man/thetaEst.html">thetaEst()</a></code> across all the participants in your dataframe.</p>
<p>First, we’ll output the parameters into a table.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-70_f433009a6f45064c3c503ec1db909b35">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb73"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemparams.html">RIitemparams</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Threshold 1</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Threshold 2</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Threshold 3</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Threshold 4</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">Item location</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: right;">-1.24</td>
<td style="text-align: right;">-0.33</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">1.47</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">-0.01</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.82</td>
<td style="text-align: right;">1.77</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0.7</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: right;">-0.99</td>
<td style="text-align: right;">-0.26</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">1.12</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: right;">-0.22</td>
<td style="text-align: right;">-0.12</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: right;">1.32</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0.3</span></td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: right;">0.29</td>
<td style="text-align: right;">0.31</td>
<td style="text-align: right;">0.73</td>
<td style="text-align: right;">1.17</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0.62</span></td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: right;">-0.89</td>
<td style="text-align: right;">-0.29</td>
<td style="text-align: right;">0.63</td>
<td style="text-align: right;">1.57</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0.26</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<p>We can get more detailed information, such as the relative item locations and highest/lowest thresholds, by using the <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemparams.html">RIitemparams()</a></code> function with the option <code>detail = all</code>.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-71_f959ee0b04153ef141eaab353abd8ef1">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb74"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemparams.html">RIitemparams</a></span><span class="op">(</span><span class="va">df2</span>, detail <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">itemnr</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">Item location</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Threshold 1</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Threshold 2</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Threshold 3</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Threshold 4</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Relative item location</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Relative lowest threshold</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">Relative highest threshold</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_11</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">-0.01</span></td>
<td style="text-align: right;">-1.24</td>
<td style="text-align: right;">-0.33</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">1.47</td>
<td style="text-align: right;">-0.32</td>
<td style="text-align: right;">-1.55</td>
<td style="text-align: right;">1.47</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_13</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0.7</span></td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.82</td>
<td style="text-align: right;">1.77</td>
<td style="text-align: right;">0.39</td>
<td style="text-align: right;">-0.25</td>
<td style="text-align: right;">1.77</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_14</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0</span></td>
<td style="text-align: right;">-0.99</td>
<td style="text-align: right;">-0.26</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">1.12</td>
<td style="text-align: right;">-0.31</td>
<td style="text-align: right;">-1.30</td>
<td style="text-align: right;">1.12</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_16</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0.3</span></td>
<td style="text-align: right;">-0.22</td>
<td style="text-align: right;">-0.12</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: right;">1.32</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">-0.53</td>
<td style="text-align: right;">1.32</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">PANAS_17</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0.62</span></td>
<td style="text-align: right;">0.29</td>
<td style="text-align: right;">0.31</td>
<td style="text-align: right;">0.73</td>
<td style="text-align: right;">1.17</td>
<td style="text-align: right;">0.31</td>
<td style="text-align: right;">-0.02</td>
<td style="text-align: right;">1.17</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">PANAS_20</td>
<td style="text-align: left;"><span style=" font-weight: bold;    text-align: right;">0.26</span></td>
<td style="text-align: right;">-0.89</td>
<td style="text-align: right;">-0.29</td>
<td style="text-align: right;">0.63</td>
<td style="text-align: right;">1.57</td>
<td style="text-align: right;">-0.06</td>
<td style="text-align: right;">-1.20</td>
<td style="text-align: right;">1.57</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The parameters can also be output to a dataframe or a file, using the option <code>output = "dataframe"</code> or <code>output = "file"</code>.</p>
</section><section id="ordinal-sum-score-to-interval-score" class="level2" data-number="11"><h2 data-number="11" class="anchored" data-anchor-id="ordinal-sum-score-to-interval-score">
<span class="header-section-number">11</span> Ordinal sum score to interval score</h2>
<p>This table shows the corresponding “raw” ordinal sum score values and logit scores, with standard errors for each logit value. Interval scores are estimated using WL based on a simulated dataset using the item parameters estimated from the input dataset. The choice of WL as default is due to the lower bias compared to ML estimation <span class="citation" data-cites="warm1989">(<a href="#ref-warm1989" role="doc-biblioref">Warm, 1989</a>)</span>.</p>
<p>(An option will be added <em>later</em> to create this table based on only item parameters.)</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-72_ec2bdcbc8bf5b00fb15f3a7f25e0115c">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb75"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIscoreSE.html">RIscoreSE</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-striped table-hover lightable-classic table-sm small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Ordinal sum score</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Logit score</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF; font-weight: bold;">Logit std.error</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">-3.136</td>
<td style="text-align: right;">1.411</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">-2.045</td>
<td style="text-align: right;">0.817</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">-1.539</td>
<td style="text-align: right;">0.637</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">-1.204</td>
<td style="text-align: right;">0.545</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">-0.949</td>
<td style="text-align: right;">0.488</td>
</tr>
<tr class="even">
<td style="text-align: right;">5</td>
<td style="text-align: right;">-0.740</td>
<td style="text-align: right;">0.450</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6</td>
<td style="text-align: right;">-0.559</td>
<td style="text-align: right;">0.423</td>
</tr>
<tr class="even">
<td style="text-align: right;">7</td>
<td style="text-align: right;">-0.398</td>
<td style="text-align: right;">0.403</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8</td>
<td style="text-align: right;">-0.250</td>
<td style="text-align: right;">0.389</td>
</tr>
<tr class="even">
<td style="text-align: right;">9</td>
<td style="text-align: right;">-0.111</td>
<td style="text-align: right;">0.380</td>
</tr>
<tr class="odd">
<td style="text-align: right;">10</td>
<td style="text-align: right;">0.023</td>
<td style="text-align: right;">0.373</td>
</tr>
<tr class="even">
<td style="text-align: right;">11</td>
<td style="text-align: right;">0.152</td>
<td style="text-align: right;">0.370</td>
</tr>
<tr class="odd">
<td style="text-align: right;">12</td>
<td style="text-align: right;">0.281</td>
<td style="text-align: right;">0.369</td>
</tr>
<tr class="even">
<td style="text-align: right;">13</td>
<td style="text-align: right;">0.410</td>
<td style="text-align: right;">0.371</td>
</tr>
<tr class="odd">
<td style="text-align: right;">14</td>
<td style="text-align: right;">0.541</td>
<td style="text-align: right;">0.376</td>
</tr>
<tr class="even">
<td style="text-align: right;">15</td>
<td style="text-align: right;">0.678</td>
<td style="text-align: right;">0.385</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16</td>
<td style="text-align: right;">0.823</td>
<td style="text-align: right;">0.397</td>
</tr>
<tr class="even">
<td style="text-align: right;">17</td>
<td style="text-align: right;">0.979</td>
<td style="text-align: right;">0.414</td>
</tr>
<tr class="odd">
<td style="text-align: right;">18</td>
<td style="text-align: right;">1.151</td>
<td style="text-align: right;">0.436</td>
</tr>
<tr class="even">
<td style="text-align: right;">19</td>
<td style="text-align: right;">1.348</td>
<td style="text-align: right;">0.467</td>
</tr>
<tr class="odd">
<td style="text-align: right;">20</td>
<td style="text-align: right;">1.579</td>
<td style="text-align: right;">0.510</td>
</tr>
<tr class="even">
<td style="text-align: right;">21</td>
<td style="text-align: right;">1.864</td>
<td style="text-align: right;">0.572</td>
</tr>
<tr class="odd">
<td style="text-align: right;">22</td>
<td style="text-align: right;">2.237</td>
<td style="text-align: right;">0.669</td>
</tr>
<tr class="even">
<td style="text-align: right;">23</td>
<td style="text-align: right;">2.789</td>
<td style="text-align: right;">0.853</td>
</tr>
<tr class="odd">
<td style="text-align: right;">24</td>
<td style="text-align: right;">3.931</td>
<td style="text-align: right;">1.456</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Note that if your transformation table does not show the full range of ordinal sum scores, you can try to increase the option <code>sdx</code> from the default setting of <code>5</code>. Also, if you find the the default range of logit scores is insufficient, it can be adjusted by changing the option <code>score_range</code> (default is <code>c(-4,4)</code>).</p>
<section id="ordinalinterval-figure" class="level3" data-number="11.1"><h3 data-number="11.1" class="anchored" data-anchor-id="ordinalinterval-figure">
<span class="header-section-number">11.1</span> Ordinal/interval figure</h3>
<p>The figure below can also be generated to illustrate the relationship between ordinal sum score and logit interval score. The errorbars default to show the standard error at each point, multiplied by 1.96.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-73_a8e34cc97835e7ebc8b5c813aab86488">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb76"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIscoreSE.html">RIscoreSE</a></span><span class="op">(</span><span class="va">df2</span>, output <span class="op">=</span> <span class="st">"figure"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-73-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</section><section id="estimating-interval-level-person-scores" class="level3" data-number="11.2"><h3 data-number="11.2" class="anchored" data-anchor-id="estimating-interval-level-person-scores">
<span class="header-section-number">11.2</span> Estimating interval level person scores</h3>
<p>Based on the Rasch analysis output of item parameters, we can estimate each individuals location or score (also known as “theta”). Similarly to the <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemfitPCM.html">RIitemfitPCM()</a></code> function there is also a parallel processing version of the function available, which makes use of 4 cores by default.</p>
<p><code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIestThetas.html">RIestThetas()</a></code> by default uses WL estimation of a partial credit model and outputs a vector of person locations on the logit scale. If you do not supply a matrix of item (threshold) locations, the function will use eRm’s CML PCM to automatically calculate the item parameters based on the dataframe input.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-74_35f3304ae3c7f21ecdf0e03060554efd">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb77"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DavisVaughan/furrr">furrr</a></span><span class="op">)</span> <span class="co"># for a parallel processing version of purrr::map_dbl</span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">personScores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIestThetas2.html">RIestThetas2</a></span><span class="op">(</span><span class="va">df2</span>, cpu <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIestThetas.html">RIestThetas()</a></code> can also be used with a pre-specified item (threshold) location matrix. The choice of WL as default is due to the lower bias compared to ML estimation <span class="citation" data-cites="warm1989">(<a href="#ref-warm1989" role="doc-biblioref">Warm, 1989</a>)</span>. Similarly to <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIscoreSE.html">RIscoreSE()</a></code> you can change the range of logit scores, using the option <code>theta_range</code> (default is <code>c(-4,4)</code>).</p>
<p>If you would like to use an existing item matrix, this code may be helpful:</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-75_4efcbb70c7aeae6c3e6cf4b5532333a0">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb78"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">itemParameters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"itemParameters.csv"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">itemParameters</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>     Threshold 1 Threshold 2 Threshold 3 Threshold 4
[1,]     -1.2382     -0.3288      0.0666      1.4649
[2,]      0.0623      0.1480      0.8241      1.7680
[3,]     -0.9915     -0.2566      0.1231      1.1222
[4,]     -0.2179     -0.1217      0.2099      1.3248
[5,]      0.2868      0.3061      0.7319      1.1655
[6,]     -0.8929     -0.2860      0.6297      1.5673</code></pre>
</div>
</div>
<p>As you can see, this is a matrix object (not a dataframe), with each item as a row, and the threshold locations as columns.</p>
<p>Finally, we’ll look at the distribution of person scores using a simple histogram.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-76_799dc103a5a3639faa06d0b03f58bba7">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb80"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">personScores</span>, col <span class="op">=</span> <span class="st">"#009ca6"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-76-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<section id="estimating-individual-measurement-error" class="level4" data-number="11.2.1"><h4 data-number="11.2.1" class="anchored" data-anchor-id="estimating-individual-measurement-error">
<span class="header-section-number">11.2.1</span> Estimating individual measurement error</h4>
<p>Each individual has a standard error of measurement associated with their estimated location/score. This has not yet been implemented as a function in this package, but can be calculated using the following code, using the <code><a href="https://rdrr.io/pkg/catR/man/semTheta.html">semTheta()</a></code> function from <code><a href="https://rdrr.io/r/base/library.html">library(catR)</a></code>:</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-77_198edd35235790fa30c2750058a20894">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb81"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df2</span><span class="op">$</span><span class="va">personSEM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map_vec</a></span><span class="op">(</span><span class="va">df2</span><span class="op">$</span><span class="va">personScores</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/catR/man/semTheta.html">semTheta</a></span><span class="op">(</span>thEst <span class="op">=</span> <span class="va">.x</span>,</span>
<span>                                                      it <span class="op">=</span> <span class="va">itemParameters</span>,</span>
<span>                                                      model <span class="op">=</span> <span class="st">"PCM"</span>,</span>
<span>                                                      method <span class="op">=</span> <span class="st">"WL"</span>,</span>
<span>                                                      range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span></span>
<span>                                                      <span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The function <code><a href="https://purrr.tidyverse.org/reference/map.html">map_vec()</a></code> allows us to apply a function to all variables in a vector. As you can see, the first argument is the vector of estimated person locations, then we use the <code><a href="https://rdrr.io/pkg/catR/man/semTheta.html">semTheta()</a></code> function from <code>catR</code> to calculate the standard error of measurement for each individual. The <code>it</code> argument is the item parameters matrix, and the <code>range</code> argument is the range of logit scores. The range should match the range set when estimating the person locations with <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIestThetas.html">RIestThetas()</a></code>, and -4 to 4 is the default setting for both functions.</p>
</section></section></section><section id="figure-design" class="level2" data-number="12"><h2 data-number="12" class="anchored" data-anchor-id="figure-design">
<span class="header-section-number">12</span> Figure design</h2>
<p>Most of the figures created by the functions can be styled (colors, fonts, etc) by adding theme settings to them. You can use the standard ggplot function <code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code> and related theme-functions. As usual it is possible to “stack” theme functions, as seen in the example below.</p>
<p>You can also change coloring, axis limits/breaks, etc, just by adding ggplot options with a <code>+</code> sign.</p>
<p>A custom theme function, <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/theme_rise.html">theme_rise()</a></code>, is included in the RISEkbmRasch package. It might be easier to use if you are not familiar with <code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code>.</p>
<p>For instance, you might like to change the font to “Lato” for the item hierarchy figure, and make the background transparent.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-78_20fa8daddf3bf9bba272c2efd12f9668">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb82"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># first we need to remove the `personScores` and `personSEM` variable from the `df2` dataframe, to ensure that `df2` contains only item data before using it with the item hierarchy function.</span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">personScores</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">df2</span><span class="op">$</span><span class="va">personSEM</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIitemHierarchy.html">RIitemHierarchy</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co"># first apply the minimal theme to make the background transparent</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/RISEkbmRasch/man/theme_rise.html">theme_rise</a></span><span class="op">(</span>fontfamily <span class="op">=</span> <span class="st">"Lato"</span><span class="op">)</span> <span class="co"># then apply theme_rise, which simplifies making changes to all plot elements</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-78-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>As of package version 0.1.30.0, the <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RItargeting.html">RItargeting()</a></code> function allows more flexibility in styling too, by having an option to return a list object with the three separate plots. See the <a href="https://github.com/pgmj/RISEkbmRasch/blob/main/NEWS.md#01300">NEWS</a> file for more details.</p>
<p>In order to change font for text inside plots you will need to add an additional line of code.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">update_geom_defaults</span>(<span class="st">"text"</span>, <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Lato))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Please note that this updates the default settings for <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text()</a></code> for the whole session. Also, some functions, such as <code><a href="https://rdrr.io/pkg/RISEkbmRasch/man/RIloadLoc.html">RIloadLoc()</a></code> make use of <code><a href="https://rdrr.io/pkg/ggrepel/man/geom_text_repel.html">geom_text_repel()</a></code>, for which you would need to change the function above from “text” to “text_repel”.</p>
<p>A simple way to only change font family and font size would be to use <code>theme_minimal(base_family = "Calibri", base_size = 14)</code>. Please see the <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">reference page</a> for default ggplot themes for alternatives to <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal()</a></code>.</p>
</section><section id="software-used" class="level2" data-number="13"><h2 data-number="13" class="anchored" data-anchor-id="software-used">
<span class="header-section-number">13</span> Software used</h2>
<p>The <code>grateful</code> package is a nice way to give credit to the packages used in making the analysis. The package can create both a bibliography file and a table object, which is handy for automatically creating a reference list based on the packages used (or at least explicitly loaded).</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-79_07a959b74592098eb2a9492108f312d0">
<details open=""><summary>Code</summary><div class="sourceCode" id="cb84"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://pakillo.github.io/grateful/">grateful</a></span><span class="op">)</span></span>
<span><span class="va">pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pakillo.github.io/grateful/reference/cite_packages.html">cite_packages</a></span><span class="op">(</span>cite.tidyverse <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                      output <span class="op">=</span> <span class="st">"table"</span>,</span>
<span>                      bib.file <span class="op">=</span> <span class="st">"grateful-refs.bib"</span>,</span>
<span>                      include.RStudio <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                      out.dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># If kbl() is used to generate this table, the references will not be added to the Reference list.</span></span>
<span><span class="fu"><a href="https://renkun-ken.github.io/formattable/reference/formattable.html">formattable</a></span><span class="op">(</span><span class="va">pkgs</span>, </span>
<span>            table.attr <span class="op">=</span> <span class="st">'class=\"table table-striped\" style="font-size: 13px; font-family: Lato; width: 80%"'</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato; width: 80%">
<thead><tr>
<th style="text-align:right;">
Package
</th>
<th style="text-align:right;">
Version
</th>
<th style="text-align:right;">
Citation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
base
</td>
<td style="text-align:right;">
4.2.3
</td>
<td style="text-align:right;">
<span class="citation" data-cites="base">R Core Team (<a href="#ref-base" role="doc-biblioref">2023</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
car
</td>
<td style="text-align:right;">
3.1.2
</td>
<td style="text-align:right;">
<span class="citation" data-cites="car">Fox &amp; Weisberg (<a href="#ref-car" role="doc-biblioref">2019</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
eRm
</td>
<td style="text-align:right;">
1.0.4
</td>
<td style="text-align:right;">
<span class="citation" data-cites="eRm2007a">Mair &amp; Hatzinger (<a href="#ref-eRm2007a" role="doc-biblioref">2007b</a>)</span>; <span class="citation" data-cites="eRm2007b">Mair &amp; Hatzinger (<a href="#ref-eRm2007b" role="doc-biblioref">2007a</a>)</span>; <span class="citation" data-cites="eRm2009c">Hatzinger &amp; Rusch (<a href="#ref-eRm2009c" role="doc-biblioref">2009</a>)</span>; <span class="citation" data-cites="eRm2013d">Rusch et al. (<a href="#ref-eRm2013d" role="doc-biblioref">2013</a>)</span>; <span class="citation" data-cites="eRm2015e">Koller et al. (<a href="#ref-eRm2015e" role="doc-biblioref">2015</a>)</span>; <span class="citation" data-cites="eRm2019f">Debelak &amp; Koller (<a href="#ref-eRm2019f" role="doc-biblioref">2019</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
foreach
</td>
<td style="text-align:right;">
1.5.2
</td>
<td style="text-align:right;">
<span class="citation" data-cites="foreach">Microsoft &amp; Weston (<a href="#ref-foreach" role="doc-biblioref">2022</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
formattable
</td>
<td style="text-align:right;">
0.2.1
</td>
<td style="text-align:right;">
<span class="citation" data-cites="formattable">Ren &amp; Russell (<a href="#ref-formattable" role="doc-biblioref">2021</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
furrr
</td>
<td style="text-align:right;">
0.3.1
</td>
<td style="text-align:right;">
<span class="citation" data-cites="furrr">Vaughan &amp; Dancho (<a href="#ref-furrr" role="doc-biblioref">2022</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
ggrepel
</td>
<td style="text-align:right;">
0.9.3
</td>
<td style="text-align:right;">
<span class="citation" data-cites="ggrepel">Slowikowski (<a href="#ref-ggrepel" role="doc-biblioref">2023</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
glue
</td>
<td style="text-align:right;">
1.6.2
</td>
<td style="text-align:right;">
<span class="citation" data-cites="glue">Hester &amp; Bryan (<a href="#ref-glue" role="doc-biblioref">2022</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
kableExtra
</td>
<td style="text-align:right;">
1.3.4
</td>
<td style="text-align:right;">
<span class="citation" data-cites="kableExtra">Zhu (<a href="#ref-kableExtra" role="doc-biblioref">2021</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
knitr
</td>
<td style="text-align:right;">
1.42
</td>
<td style="text-align:right;">
<span class="citation" data-cites="knitr2014">Xie (<a href="#ref-knitr2014" role="doc-biblioref">2014</a>)</span>; <span class="citation" data-cites="knitr2015">Xie (<a href="#ref-knitr2015" role="doc-biblioref">2015</a>)</span>; <span class="citation" data-cites="knitr2023">Xie (<a href="#ref-knitr2023" role="doc-biblioref">2023</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
matrixStats
</td>
<td style="text-align:right;">
0.63.0
</td>
<td style="text-align:right;">
<span class="citation" data-cites="matrixStats">Bengtsson (<a href="#ref-matrixStats" role="doc-biblioref">2022</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
mirt
</td>
<td style="text-align:right;">
1.41
</td>
<td style="text-align:right;">
<span class="citation" data-cites="mirt">Chalmers (<a href="#ref-mirt" role="doc-biblioref">2012</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
patchwork
</td>
<td style="text-align:right;">
1.1.3
</td>
<td style="text-align:right;">
<span class="citation" data-cites="patchwork">Pedersen (<a href="#ref-patchwork" role="doc-biblioref">2023</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
psych
</td>
<td style="text-align:right;">
2.3.6
</td>
<td style="text-align:right;">
<span class="citation" data-cites="psych">William Revelle (<a href="#ref-psych" role="doc-biblioref">2023</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
psychotree
</td>
<td style="text-align:right;">
0.16.0
</td>
<td style="text-align:right;">
<span class="citation" data-cites="psychotree2010e">Trepte &amp; Verbeet (<a href="#ref-psychotree2010e" role="doc-biblioref">2010</a>)</span>; <span class="citation" data-cites="psychotree2011a">Strobl et al. (<a href="#ref-psychotree2011a" role="doc-biblioref">2011</a>)</span>; <span class="citation" data-cites="psychotree2015b">Strobl et al. (<a href="#ref-psychotree2015b" role="doc-biblioref">2015a</a>)</span>; <span class="citation" data-cites="psychotree2018c">Komboz et al. (<a href="#ref-psychotree2018c" role="doc-biblioref">2018</a>)</span>; <span class="citation" data-cites="psychotree2018d">Wickelmaier &amp; Zeileis (<a href="#ref-psychotree2018d" role="doc-biblioref">2018</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
reshape
</td>
<td style="text-align:right;">
0.8.9
</td>
<td style="text-align:right;">
<span class="citation" data-cites="reshape">Wickham (<a href="#ref-reshape" role="doc-biblioref">2007</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
RISEkbmRasch
</td>
<td style="text-align:right;">
0.1.30.0
</td>
<td style="text-align:right;">
<span class="citation" data-cites="RISEkbmRasch">Johansson (<a href="#ref-RISEkbmRasch" role="doc-biblioref">2023</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
rmarkdown
</td>
<td style="text-align:right;">
2.22
</td>
<td style="text-align:right;">
<span class="citation" data-cites="rmarkdown2018">Xie et al. (<a href="#ref-rmarkdown2018" role="doc-biblioref">2018</a>)</span>; <span class="citation" data-cites="rmarkdown2020">Xie et al. (<a href="#ref-rmarkdown2020" role="doc-biblioref">2020</a>)</span>; <span class="citation" data-cites="rmarkdown2023">Allaire et al. (<a href="#ref-rmarkdown2023" role="doc-biblioref">2023</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
TAM
</td>
<td style="text-align:right;">
4.1.4
</td>
<td style="text-align:right;">
@
</td>
</tr>
<tr>
<td style="text-align:right;">
tidyverse
</td>
<td style="text-align:right;">
2.0.0
</td>
<td style="text-align:right;">
<span class="citation" data-cites="tidyverse">Wickham et al. (<a href="#ref-tidyverse" role="doc-biblioref">2019</a>)</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section id="additional-credits" class="level2" data-number="14"><h2 data-number="14" class="anchored" data-anchor-id="additional-credits">
<span class="header-section-number">14</span> Additional credits</h2>
<p>Thanks to my <a href="https://www.ri.se/en/what-we-do/projects/center-for-category-based-measurements">colleagues at RISE</a> for providing feedback and testing the package on Windows and MacOS platforms. Also, thanks to <a href="https://www.winsteps.com/linacre.htm">Mike Linacre</a> and <a href="https://www.ri.se/en/person/jeanette-melin">Jeanette Melin</a> for providing useful feedback to improve this vignette.</p>
</section><section id="references" class="level2" data-number="15">


<!-- -->


</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">
15 References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-line-spacing="2" role="list">
<div id="ref-rmarkdown2023" class="csl-entry" role="listitem">
Allaire, J., Xie, Y., Dervieux, C., McPherson, J., Luraschi, J., Ushey, K., Atkins, A., Wickham, H., Cheng, J., Chang, W., &amp; Iannone, R. (2023). <em><span class="nocase">rmarkdown</span>: Dynamic documents for r</em>. <a href="https://github.com/rstudio/rmarkdown">https://github.com/rstudio/rmarkdown</a>
</div>
<div id="ref-anvari2022" class="csl-entry" role="listitem">
Anvari, F., Efendić, E., Olsen, J., Arslan, R. C., Elson, M., &amp; Schneider, I. K. (2022). Bias in Self-Reports: An Initial Elevation Phenomenon. <em>Social Psychological and Personality Science</em>, 19485506221129160. <a href="https://doi.org/10.1177/19485506221129160">https://doi.org/10.1177/19485506221129160</a>
</div>
<div id="ref-matrixStats" class="csl-entry" role="listitem">
Bengtsson, H. (2022). <em><span class="nocase">matrixStats</span>: Functions that apply to rows and columns of matrices (and to vectors)</em>. <a href="https://CRAN.R-project.org/package=matrixStats">https://CRAN.R-project.org/package=matrixStats</a>
</div>
<div id="ref-mirt" class="csl-entry" role="listitem">
Chalmers, R. P. (2012). <span class="nocase">mirt</span>: A multidimensional item response theory package for the <span>R</span> environment. <em>Journal of Statistical Software</em>, <em>48</em>(6), 1–29. <a href="https://doi.org/10.18637/jss.v048.i06">https://doi.org/10.18637/jss.v048.i06</a>
</div>
<div id="ref-christensen2017" class="csl-entry" role="listitem">
Christensen, K. B., Makransky, G., &amp; Horton, M. (2017). Critical Values for Yen<span>’</span>s Q3: Identification of Local Dependence in the Rasch Model Using Residual Correlations. <em>Applied Psychological Measurement</em>, <em>41</em>(3), 178–194. <a href="https://doi.org/10.1177/0146621616677520">https://doi.org/10.1177/0146621616677520</a>
</div>
<div id="ref-eRm2019f" class="csl-entry" role="listitem">
Debelak, R., &amp; Koller, I. (2019). Testing the local independence assumption of the rasch model with Q3-based nonparametric model tests. <em>Applied Psychological Measurement</em>, <em>44</em>. <a href="https://doi.org/10.1177/0146621619835501">https://doi.org/10.1177/0146621619835501</a>
</div>
<div id="ref-car" class="csl-entry" role="listitem">
Fox, J., &amp; Weisberg, S. (2019). <em>An <span>R</span> companion to applied regression</em> (Third). Sage. <a href="https://socialsciences.mcmaster.ca/jfox/Books/Companion/">https://socialsciences.mcmaster.ca/jfox/Books/Companion/</a>
</div>
<div id="ref-hagell2016" class="csl-entry" role="listitem">
Hagell, P., &amp; Westergren, A. (2016). Sample size and statistical conclusions from tests of fit to the rasch model according to the rasch unidimensional measurement model (RUMM) program in health outcome measurement. <em>Journal of Applied Measurement</em>, <em>17</em>(4), 416–431.
</div>
<div id="ref-eRm2009c" class="csl-entry" role="listitem">
Hatzinger, R., &amp; Rusch, T. (2009). IRT models with relaxed assumptions in eRm: A manual-like instruction. <em>Psychology Science Quarterly</em>, <em>51</em>.
</div>
<div id="ref-glue" class="csl-entry" role="listitem">
Hester, J., &amp; Bryan, J. (2022). <em><span class="nocase">glue</span>: Interpreted string literals</em>. <a href="https://CRAN.R-project.org/package=glue">https://CRAN.R-project.org/package=glue</a>
</div>
<div id="ref-RISEkbmRasch" class="csl-entry" role="listitem">
Johansson, M. (2023). <em><span>RISEkbmRasch</span>: Psychometric analysis in r with rasch measurement theory</em>. <a href="https://github.com/pgmj/RISEkbmRasch">https://github.com/pgmj/RISEkbmRasch</a>
</div>
<div id="ref-johansson" class="csl-entry" role="listitem">
Johansson, M., Preuter, M., Karlsson, S., Möllerberg, M.-L., Svensson, H., &amp; Melin, J. (2023). <em>Valid and reliable? Basic and expanded recommendations for psychometric reporting and quality assessment.</em> <a href="https://doi.org/10.31219/osf.io/3htzc">https://doi.org/10.31219/osf.io/3htzc</a>
</div>
<div id="ref-eRm2015e" class="csl-entry" role="listitem">
Koller, I., Maier, M., &amp; Hatzinger, R. (2015). An empirical power analysis of quasi-exact tests for the rasch model: Measurement invariance in small samples. <em>Methodology</em>, <em>11</em>. <a href="https://doi.org/10.1027/1614-2241/a000090">https://doi.org/10.1027/1614-2241/a000090</a>
</div>
<div id="ref-psychotree2018c" class="csl-entry" role="listitem">
Komboz, B., Zeileis, A., &amp; Strobl, C. (2018). Tree-based global model tests for polytomous <span>R</span>asch models. <em>Educational and Psychological Measurement</em>, <em>78</em>(1), 128–166. <a href="https://doi.org/10.1177/0013164416664394">https://doi.org/10.1177/0013164416664394</a>
</div>
<div id="ref-eRm2007b" class="csl-entry" role="listitem">
Mair, P., &amp; Hatzinger, R. (2007a). CML based estimation of extended rasch models with the eRm package in r. <em>Psychology Science</em>, <em>49</em>. <a href="https://doi.org/10.18637/jss.v020.i09">https://doi.org/10.18637/jss.v020.i09</a>
</div>
<div id="ref-eRm2007a" class="csl-entry" role="listitem">
Mair, P., &amp; Hatzinger, R. (2007b). Extended rasch modeling: The eRm package for the application of IRT models in r. <em>Journal of Statistical Software</em>, <em>20</em>. <a href="https://doi.org/10.18637/jss.v020.i09">https://doi.org/10.18637/jss.v020.i09</a>
</div>
<div id="ref-foreach" class="csl-entry" role="listitem">
Microsoft, &amp; Weston, S. (2022). <em><span class="nocase">foreach</span>: Provides foreach looping construct</em>. <a href="https://CRAN.R-project.org/package=foreach">https://CRAN.R-project.org/package=foreach</a>
</div>
<div id="ref-patchwork" class="csl-entry" role="listitem">
Pedersen, T. L. (2023). <em><span class="nocase">patchwork</span>: The composer of plots</em>. <a href="https://CRAN.R-project.org/package=patchwork">https://CRAN.R-project.org/package=patchwork</a>
</div>
<div id="ref-base" class="csl-entry" role="listitem">
R Core Team. (2023). <em><span>R</span>: A language and environment for statistical computing</em>. R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>
</div>
<div id="ref-formattable" class="csl-entry" role="listitem">
Ren, K., &amp; Russell, K. (2021). <em><span class="nocase">formattable</span>: Create <span>“<span>Formattable</span>”</span> data structures</em>. <a href="https://CRAN.R-project.org/package=formattable">https://CRAN.R-project.org/package=formattable</a>
</div>
<div id="ref-eRm2013d" class="csl-entry" role="listitem">
Rusch, T., Maier, M., &amp; Hatzinger, R. (2013). Linear logistic models with relaxed assumptions in r. In B. Lausen, D. van den Poel, &amp; A. Ultsch (Eds.), <em>Algorithms from and for nature and life</em>. Springer. <a href="https://doi.org/10.1007/978-3-319-00035-0_34">https://doi.org/10.1007/978-3-319-00035-0_34</a>
</div>
<div id="ref-ggrepel" class="csl-entry" role="listitem">
Slowikowski, K. (2023). <em><span class="nocase">ggrepel</span>: Automatically position non-overlapping text labels with <span>“<span class="nocase">ggplot2</span>”</span></em>. <a href="https://CRAN.R-project.org/package=ggrepel">https://CRAN.R-project.org/package=ggrepel</a>
</div>
<div id="ref-psychotree2015b" class="csl-entry" role="listitem">
Strobl, C., Kopf, J., &amp; Zeileis, A. (2015a). Rasch trees: A new method for detecting differential item functioning in the <span>R</span>asch model. <em>Psychometrika</em>, <em>80</em>(2), 289–316. <a href="https://doi.org/10.1007/s11336-013-9388-3">https://doi.org/10.1007/s11336-013-9388-3</a>
</div>
<div id="ref-strobl2015" class="csl-entry" role="listitem">
Strobl, C., Kopf, J., &amp; Zeileis, A. (2015b). Rasch Trees: A New Method for Detecting Differential Item Functioning in the Rasch Model. <em>Psychometrika</em>, <em>80</em>(2), 289–316. <a href="https://doi.org/10.1007/s11336-013-9388-3">https://doi.org/10.1007/s11336-013-9388-3</a>
</div>
<div id="ref-strobl2021" class="csl-entry" role="listitem">
Strobl, C., Schneider, L., Kopf, J., &amp; Zeileis, A. (2021). <em>Using the raschtree function for detecting differential item functioning in the Rasch model</em>. 12.
</div>
<div id="ref-psychotree2011a" class="csl-entry" role="listitem">
Strobl, C., Wickelmaier, F., &amp; Zeileis, A. (2011). Accounting for individual differences in <span>B</span>radley-<span>T</span>erry models by means of recursive partitioning. <em>Journal of Educational and Behavioral Statistics</em>, <em>36</em>(2), 135–153. <a href="https://doi.org/10.3102/1076998609359791">https://doi.org/10.3102/1076998609359791</a>
</div>
<div id="ref-psychotree2010e" class="csl-entry" role="listitem">
Trepte, S., &amp; Verbeet, M. (Eds.). (2010). <em><span>A</span>llgemeinbildung in <span>D</span>eutschland – erkenntnisse aus dem <span>SPIEGEL</span> <span>S</span>tudentenpisa-<span>T</span>est</em>. VS Verlag.
</div>
<div id="ref-furrr" class="csl-entry" role="listitem">
Vaughan, D., &amp; Dancho, M. (2022). <em><span class="nocase">furrr</span>: Apply mapping functions in parallel using futures</em>. <a href="https://CRAN.R-project.org/package=furrr">https://CRAN.R-project.org/package=furrr</a>
</div>
<div id="ref-warm1989" class="csl-entry" role="listitem">
Warm, T. A. (1989). Weighted likelihood estimation of ability in item response theory. <em>Psychometrika</em>, <em>54</em>(3), 427–450. <a href="https://doi.org/10.1007/BF02294627">https://doi.org/10.1007/BF02294627</a>
</div>
<div id="ref-psychotree2018d" class="csl-entry" role="listitem">
Wickelmaier, F., &amp; Zeileis, A. (2018). Using recursive partitioning to account for parameter heterogeneity in multinomial processing tree models. <em>Behavior Research Methods</em>, <em>50</em>(3), 1217–1233. <a href="https://doi.org/10.3758/s13428-017-0937-z">https://doi.org/10.3758/s13428-017-0937-z</a>
</div>
<div id="ref-reshape" class="csl-entry" role="listitem">
Wickham, H. (2007). Reshaping data with the reshape package. <em>Journal of Statistical Software</em>, <em>21</em>(12). <a href="https://www.jstatsoft.org/v21/i12/">https://www.jstatsoft.org/v21/i12/</a>
</div>
<div id="ref-tidyverse" class="csl-entry" role="listitem">
Wickham, H., Averick, M., Bryan, J., Chang, W., McGowan, L. D., François, R., Grolemund, G., Hayes, A., Henry, L., Hester, J., Kuhn, M., Pedersen, T. L., Miller, E., Bache, S. M., Müller, K., Ooms, J., Robinson, D., Seidel, D. P., Spinu, V., … Yutani, H. (2019). Welcome to the <span class="nocase">tidyverse</span>. <em>Journal of Open Source Software</em>, <em>4</em>(43), 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>
</div>
<div id="ref-psych" class="csl-entry" role="listitem">
William Revelle. (2023). <em><span class="nocase">psych</span>: Procedures for psychological, psychometric, and personality research</em>. Northwestern University. <a href="https://CRAN.R-project.org/package=psych">https://CRAN.R-project.org/package=psych</a>
</div>
<div id="ref-knitr2014" class="csl-entry" role="listitem">
Xie, Y. (2014). <span class="nocase">knitr</span>: A comprehensive tool for reproducible research in <span>R</span>. In V. Stodden, F. Leisch, &amp; R. D. Peng (Eds.), <em>Implementing reproducible computational research</em>. Chapman; Hall/CRC.
</div>
<div id="ref-knitr2015" class="csl-entry" role="listitem">
Xie, Y. (2015). <em>Dynamic documents with <span>R</span> and knitr</em> (2nd ed.). Chapman; Hall/CRC. <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>
</div>
<div id="ref-knitr2023" class="csl-entry" role="listitem">
Xie, Y. (2023). <em><span class="nocase">knitr</span>: A general-purpose package for dynamic report generation in r</em>. <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>
</div>
<div id="ref-rmarkdown2018" class="csl-entry" role="listitem">
Xie, Y., Allaire, J. J., &amp; Grolemund, G. (2018). <em>R markdown: The definitive guide</em>. Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>
</div>
<div id="ref-rmarkdown2020" class="csl-entry" role="listitem">
Xie, Y., Dervieux, C., &amp; Riederer, E. (2020). <em>R markdown cookbook</em>. Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown-cookbook">https://bookdown.org/yihui/rmarkdown-cookbook</a>
</div>
<div id="ref-kableExtra" class="csl-entry" role="listitem">
Zhu, H. (2021). <em><span class="nocase">kableExtra</span>: Construct complex table with <span>“<span class="nocase">kable</span>”</span> and pipe syntax</em>. <a href="https://CRAN.R-project.org/package=kableExtra">https://CRAN.R-project.org/package=kableExtra</a>
</div>
</div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></div></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{johansson2023,
  author = {Johansson, Magnus},
  title = {RISEkbmRasch Vignette},
  date = {2023-12-07},
  url = {https://pgmj.github.io/raschrvignette/RaschRvign.html},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-johansson2023" class="csl-entry quarto-appendix-citeas" role="listitem">
Johansson, M. (2023, December 7). <em>RISEkbmRasch vignette</em>. <a href="https://pgmj.github.io/raschrvignette/RaschRvign.html">https://pgmj.github.io/raschrvignette/RaschRvign.html</a>
</div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb85" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "RISEkbmRasch vignette"</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "An R package for Rasch analysis"</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> </span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="co">  name: 'Magnus Johansson'</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="co">  affiliation: 'RISE Research Institutes of Sweden'</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a><span class="co">  affiliation-url: 'https://www.ri.se/en/what-we-do/expertises/category-based-measurements'</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a><span class="co">  orcid: '0000-0003-1669-592X'</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> last-modified</span></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a><span class="an">google-scholar:</span><span class="co"> true</span></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a><span class="an">citation:</span><span class="co"> true</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a><span class="an">website:</span></span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a><span class="co">  open-graph:</span></span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a><span class="co">    image: "/RaschRvign_files/figure-html/unnamed-chunk-34-1.png"</span></span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span><span class="co"> </span></span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a><span class="co">  cache: true</span></span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb85-19"><a href="#cb85-19" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> </span></span>
<span id="cb85-20"><a href="#cb85-20" aria-hidden="true" tabindex="-1"></a><span class="co">- references.bib</span></span>
<span id="cb85-21"><a href="#cb85-21" aria-hidden="true" tabindex="-1"></a><span class="co">- grateful-refs.bib</span></span>
<span id="cb85-22"><a href="#cb85-22" aria-hidden="true" tabindex="-1"></a><span class="an">csl:</span><span class="co"> apa.csl</span></span>
<span id="cb85-23"><a href="#cb85-23" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb85-24"><a href="#cb85-24" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb85-25"><a href="#cb85-25" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb85-26"><a href="#cb85-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-27"><a href="#cb85-27" aria-hidden="true" tabindex="-1"></a>This is an introduction to using the <span class="co">[</span><span class="ot">RISEkbmRasch R package</span><span class="co">](https://github.com/pgmj/RISEkbmRasch)</span>. A changelog for package updates is available <span class="co">[</span><span class="ot">here</span><span class="co">](https://github.com/pgmj/RISEkbmRasch/blob/main/NEWS.md)</span>.</span>
<span id="cb85-28"><a href="#cb85-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-29"><a href="#cb85-29" aria-hidden="true" tabindex="-1"></a>Details on installation are available at the <span class="co">[</span><span class="ot">package GitHub page</span><span class="co">](https://github.com/pgmj/RISEkbmRasch)</span>. This vignette will walk through a sample analysis using an open dataset with polytomous questionnaire data. This will include some data wrangling to structure the item data and itemlabels, then provide examples of the different functions. The full source code of this document can be found either <span class="co">[</span><span class="ot">in this repository</span><span class="co">](https://github.com/pgmj/pgmj.github.io/blob/main/raschrvignette/RaschRvign.qmd)</span> or by clicking on **\&lt;/\&gt; CODE** at the top beside the table of contents. You should be able to use the source code "as is" and reproduce this document locally, as long as you have the required packages installed. This page and this website are built using the open source publishing tool <span class="co">[</span><span class="ot">Quarto</span><span class="co">](https://www.quarto.org)</span>.</span>
<span id="cb85-30"><a href="#cb85-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-31"><a href="#cb85-31" aria-hidden="true" tabindex="-1"></a>One of the aims with this package is to simplify psychometric analysis to shed light on the measurement properties of a scale, questionnaire or test. In a paper recently made available as a preprint <span class="co">[</span><span class="ot">@johansson</span><span class="co">]</span>, our <span class="co">[</span><span class="ot">research group</span><span class="co">](https://www.ri.se/en/what-we-do/projects/center-for-categorically-based-measurements)</span> propose that the basic aspects of a psychometric analysis should include information about:</span>
<span id="cb85-32"><a href="#cb85-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-33"><a href="#cb85-33" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Unidimensionality</span>
<span id="cb85-34"><a href="#cb85-34" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Response categories</span>
<span id="cb85-35"><a href="#cb85-35" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Invariance</span>
<span id="cb85-36"><a href="#cb85-36" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Targeting</span>
<span id="cb85-37"><a href="#cb85-37" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Measurement uncertainties (reliability)</span>
<span id="cb85-38"><a href="#cb85-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-39"><a href="#cb85-39" aria-hidden="true" tabindex="-1"></a>We'll include several ways to investigate these measurement properties, using Rasch Measurement Theory. There are also functions in the package less directly related to the criteria above, that will be shown in this vignette.</span>
<span id="cb85-40"><a href="#cb85-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-41"><a href="#cb85-41" aria-hidden="true" tabindex="-1"></a>Please note that this is a sample analysis to showcase the R package. It is not intended as a "best practice" psychometric analysis example.</span>
<span id="cb85-42"><a href="#cb85-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-43"><a href="#cb85-43" aria-hidden="true" tabindex="-1"></a>You can skip ahead to the Rasch analysis part in @sec-rasch if you are eager to look at the package output :)</span>
<span id="cb85-44"><a href="#cb85-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-45"><a href="#cb85-45" aria-hidden="true" tabindex="-1"></a>::: {.callout-note icon="true"}</span>
<span id="cb85-46"><a href="#cb85-46" aria-hidden="true" tabindex="-1"></a><span class="fu">## Note</span></span>
<span id="cb85-47"><a href="#cb85-47" aria-hidden="true" tabindex="-1"></a>Quarto version 1.3 introduced changes that make the tables in this document look a bit different than intended. The width settings are disregarded and other oddities. This will be fixed in a future update.</span>
<span id="cb85-48"><a href="#cb85-48" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-49"><a href="#cb85-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-50"><a href="#cb85-50" aria-hidden="true" tabindex="-1"></a><span class="fu">## Getting started</span></span>
<span id="cb85-51"><a href="#cb85-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-52"><a href="#cb85-52" aria-hidden="true" tabindex="-1"></a>Since the package is intended for use with Quarto, this vignette has also been created with Quarto. A "template" .qmd file <span class="co">[</span><span class="ot">is available</span><span class="co">](https://github.com/pgmj/RISEkbmRasch/blob/main/Quarto/RISEkbmRasch%20Quarto%20template.qmd)</span> that can be useful to have handy for copy&amp;paste when running a new analysis. You can also download a complete copy of the Quarto/R code to produce this document <span class="co">[</span><span class="ot">here</span><span class="co">](https://github.com/pgmj/pgmj.github.io/blob/main/raschrvignette/RaschRvign.qmd)</span>.</span>
<span id="cb85-53"><a href="#cb85-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-54"><a href="#cb85-54" aria-hidden="true" tabindex="-1"></a>Loading the <span class="in">`RISEkbmRasch`</span> package should also get all the dependencies loaded. You may need to make sure that ggplot2 is updated to version 3.4.0 or later. However, it could be desirable to explicitly load the packages used, to simplify the automatic creation of citations for them, using the <span class="in">`grateful`</span> package.</span>
<span id="cb85-55"><a href="#cb85-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-58"><a href="#cb85-58" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-59"><a href="#cb85-59" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RISEkbmRasch) <span class="co"># devtools::install_github("pgmj/RISEkbmRasch")</span></span>
<span id="cb85-60"><a href="#cb85-60" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grateful)</span>
<span id="cb85-61"><a href="#cb85-61" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb85-62"><a href="#cb85-62" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb85-63"><a href="#cb85-63" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb85-64"><a href="#cb85-64" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb85-65"><a href="#cb85-65" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb85-66"><a href="#cb85-66" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(eRm)</span>
<span id="cb85-67"><a href="#cb85-67" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mirt)</span>
<span id="cb85-68"><a href="#cb85-68" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb85-69"><a href="#cb85-69" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb85-70"><a href="#cb85-70" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psychotree)</span>
<span id="cb85-71"><a href="#cb85-71" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(matrixStats)</span>
<span id="cb85-72"><a href="#cb85-72" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape)</span>
<span id="cb85-73"><a href="#cb85-73" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb85-74"><a href="#cb85-74" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb85-75"><a href="#cb85-75" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(formattable) </span>
<span id="cb85-76"><a href="#cb85-76" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb85-77"><a href="#cb85-77" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(foreach)</span>
<span id="cb85-78"><a href="#cb85-78" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-79"><a href="#cb85-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-80"><a href="#cb85-80" aria-hidden="true" tabindex="-1"></a>::: {.callout-note icon="true"}</span>
<span id="cb85-81"><a href="#cb85-81" aria-hidden="true" tabindex="-1"></a><span class="fu">## Note</span></span>
<span id="cb85-82"><a href="#cb85-82" aria-hidden="true" tabindex="-1"></a>Quarto automatically adds links to R packages and functions throughout this document. However, this feature only works properly for packages available on <span class="co">[</span><span class="ot">CRAN</span><span class="co">](https://cran.r-project.org/)</span>. Since the <span class="in">`RISEkbmRasch`</span> package is not on CRAN the links related to functions starting with **RI** will not work.</span>
<span id="cb85-83"><a href="#cb85-83" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-84"><a href="#cb85-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-85"><a href="#cb85-85" aria-hidden="true" tabindex="-1"></a><span class="fu">### Loading data</span></span>
<span id="cb85-86"><a href="#cb85-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-87"><a href="#cb85-87" aria-hidden="true" tabindex="-1"></a>We will use data from a recent paper investigating the "initial elevation effect" <span class="co">[</span><span class="ot">@anvari2022</span><span class="co">]</span>, and focus on the 10 negative items from the PANAS. The data is available at the OSF website.</span>
<span id="cb85-88"><a href="#cb85-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-91"><a href="#cb85-91" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-92"><a href="#cb85-92" aria-hidden="true" tabindex="-1"></a>df.all <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://osf.io/download/6fbr5/"</span>)</span>
<span id="cb85-93"><a href="#cb85-93" aria-hidden="true" tabindex="-1"></a><span class="co"># if you have issues with the link, please try downloading manually using the same URL as above</span></span>
<span id="cb85-94"><a href="#cb85-94" aria-hidden="true" tabindex="-1"></a><span class="co"># and read the file from your local drive.</span></span>
<span id="cb85-95"><a href="#cb85-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-96"><a href="#cb85-96" aria-hidden="true" tabindex="-1"></a><span class="co"># subset items and demographic variables</span></span>
<span id="cb85-97"><a href="#cb85-97" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df.all <span class="sc">%&gt;%</span> </span>
<span id="cb85-98"><a href="#cb85-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"PANASD2_1"</span>),</span>
<span id="cb85-99"><a href="#cb85-99" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"PANASD2_20"</span>),</span>
<span id="cb85-100"><a href="#cb85-100" aria-hidden="true" tabindex="-1"></a>         age,Sex,Group) <span class="sc">%&gt;%</span> </span>
<span id="cb85-101"><a href="#cb85-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>PANASD2_10_Active) <span class="sc">%&gt;%</span> </span>
<span id="cb85-102"><a href="#cb85-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>PANASD2_1_Attentive)</span>
<span id="cb85-103"><a href="#cb85-103" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-104"><a href="#cb85-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-105"><a href="#cb85-105" aria-hidden="true" tabindex="-1"></a>The <span class="in">`glimpse()`</span> function provides a quick overview of our dataframe.</span>
<span id="cb85-106"><a href="#cb85-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-109"><a href="#cb85-109" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-110"><a href="#cb85-110" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df)</span>
<span id="cb85-111"><a href="#cb85-111" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-112"><a href="#cb85-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-113"><a href="#cb85-113" aria-hidden="true" tabindex="-1"></a>We have <span class="in">`r nrow(df)`</span> rows, ie. respondents. All variables except Sex and Group are of class <span class="in">`dbl`</span>, which means they are numeric and can have decimals. Integer (numeric with no decimals) would also be fine for our purposes. The two demographic variables currently of class <span class="in">`chr`</span> (character) will need to be converted to factors (<span class="in">`fct`</span>), and we will do that later on.</span>
<span id="cb85-114"><a href="#cb85-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-115"><a href="#cb85-115" aria-hidden="true" tabindex="-1"></a>(If you import a dataset where item variables are of class character, you will need to recode to numeric.)</span>
<span id="cb85-116"><a href="#cb85-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-117"><a href="#cb85-117" aria-hidden="true" tabindex="-1"></a><span class="fu">### Itemlabels</span></span>
<span id="cb85-118"><a href="#cb85-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-119"><a href="#cb85-119" aria-hidden="true" tabindex="-1"></a>Then we set up the itemlabels dataframe. This could also be done using the free <span class="co">[</span><span class="ot">LibreOffice Calc</span><span class="co">](https://www.libreoffice.org/download/download-libreoffice/)</span> or MS Excel. Just make sure the file has the same structure, with two variables named <span class="in">`itemnr`</span> and <span class="in">`item`</span> that contain the item variable names and item description. The item variable names have to match the variable names in the item dataframe.</span>
<span id="cb85-120"><a href="#cb85-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-123"><a href="#cb85-123" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-124"><a href="#cb85-124" aria-hidden="true" tabindex="-1"></a>itemlabels <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb85-125"><a href="#cb85-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"PAN"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-126"><a href="#cb85-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-127"><a href="#cb85-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-128"><a href="#cb85-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(value, <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">"item"</span>), <span class="at">sep =</span><span class="st">"_[0-9][0-9]_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb85-129"><a href="#cb85-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">itemnr =</span> <span class="fu">paste0</span>(<span class="st">"PANAS_"</span>,<span class="fu">c</span>(<span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>)), <span class="at">.before =</span> <span class="st">"item"</span>)</span>
<span id="cb85-130"><a href="#cb85-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-131"><a href="#cb85-131" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-132"><a href="#cb85-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-133"><a href="#cb85-133" aria-hidden="true" tabindex="-1"></a>The <span class="in">`itemlabels`</span> dataframe looks like this.</span>
<span id="cb85-134"><a href="#cb85-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-137"><a href="#cb85-137" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-138"><a href="#cb85-138" aria-hidden="true" tabindex="-1"></a>itemlabels</span>
<span id="cb85-139"><a href="#cb85-139" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-140"><a href="#cb85-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-141"><a href="#cb85-141" aria-hidden="true" tabindex="-1"></a><span class="fu">### Demographics</span></span>
<span id="cb85-142"><a href="#cb85-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-143"><a href="#cb85-143" aria-hidden="true" tabindex="-1"></a>Variables for invariance tests such as Differential Item Functioning (DIF) need to be separated into vectors (ideally as factors with specified levels and labels) with the same length as the number of rows in the dataset. This means that any kind of removal of respondents/rows with missing data needs to be done before separating the DIF variables.</span>
<span id="cb85-144"><a href="#cb85-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-145"><a href="#cb85-145" aria-hidden="true" tabindex="-1"></a>We need to check how the <span class="in">`Sex`</span> variable has been coded and which responses are present in the data.</span>
<span id="cb85-146"><a href="#cb85-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-149"><a href="#cb85-149" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-150"><a href="#cb85-150" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df<span class="sc">$</span>Sex)</span>
<span id="cb85-151"><a href="#cb85-151" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-152"><a href="#cb85-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-153"><a href="#cb85-153" aria-hidden="true" tabindex="-1"></a>Since there are only 5 respondents using labels outside of Female/Male (too few for meaningful statistical analysis), we will remove them to have a complete dataset for all variables in this example.</span>
<span id="cb85-154"><a href="#cb85-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-157"><a href="#cb85-157" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-158"><a href="#cb85-158" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb85-159"><a href="#cb85-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Female"</span>,<span class="st">"Male"</span>))</span>
<span id="cb85-160"><a href="#cb85-160" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-161"><a href="#cb85-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-162"><a href="#cb85-162" aria-hidden="true" tabindex="-1"></a>Let's make the variable a factor (instead of class "character") and put in in a vector separate from the item dataframe.</span>
<span id="cb85-163"><a href="#cb85-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-166"><a href="#cb85-166" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-167"><a href="#cb85-167" aria-hidden="true" tabindex="-1"></a>dif.sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>Sex)</span>
<span id="cb85-168"><a href="#cb85-168" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-169"><a href="#cb85-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-170"><a href="#cb85-170" aria-hidden="true" tabindex="-1"></a>And remove our DIF demographic variable from the item dataset.</span>
<span id="cb85-171"><a href="#cb85-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-174"><a href="#cb85-174" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-175"><a href="#cb85-175" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Sex <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb85-176"><a href="#cb85-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-177"><a href="#cb85-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-178"><a href="#cb85-178" aria-hidden="true" tabindex="-1"></a>We can now make use of a very simple function included in this package!</span>
<span id="cb85-179"><a href="#cb85-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-182"><a href="#cb85-182" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-183"><a href="#cb85-183" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdemographics</span>(dif.sex, <span class="st">"Sex"</span>)</span>
<span id="cb85-184"><a href="#cb85-184" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-185"><a href="#cb85-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-186"><a href="#cb85-186" aria-hidden="true" tabindex="-1"></a>Let's move on to the age variable.</span>
<span id="cb85-187"><a href="#cb85-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-190"><a href="#cb85-190" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-191"><a href="#cb85-191" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df<span class="sc">$</span>age)</span>
<span id="cb85-192"><a href="#cb85-192" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-193"><a href="#cb85-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-194"><a href="#cb85-194" aria-hidden="true" tabindex="-1"></a>Sometimes age is provided in categories, but here we have a numeric variable with age in years. Let's have a quick look at the age distribution using a histogram, and calculate mean, sd and range.</span>
<span id="cb85-195"><a href="#cb85-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-198"><a href="#cb85-198" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-199"><a href="#cb85-199" aria-hidden="true" tabindex="-1"></a><span class="do">### simpler version of the ggplot below</span></span>
<span id="cb85-200"><a href="#cb85-200" aria-hidden="true" tabindex="-1"></a><span class="co"># hist(df$age, col = "#009ca6")</span></span>
<span id="cb85-201"><a href="#cb85-201" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb85-202"><a href="#cb85-202" aria-hidden="true" tabindex="-1"></a><span class="co"># df %&gt;% </span></span>
<span id="cb85-203"><a href="#cb85-203" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(Mean = round(mean(age, na.rm = T),1),</span></span>
<span id="cb85-204"><a href="#cb85-204" aria-hidden="true" tabindex="-1"></a><span class="co">#             StDev = round(sd(age, na.rm = T),1)</span></span>
<span id="cb85-205"><a href="#cb85-205" aria-hidden="true" tabindex="-1"></a><span class="co">#             )</span></span>
<span id="cb85-206"><a href="#cb85-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-207"><a href="#cb85-207" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df) <span class="sc">+</span></span>
<span id="cb85-208"><a href="#cb85-208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> age), </span>
<span id="cb85-209"><a href="#cb85-209" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">"#009ca6"</span>,</span>
<span id="cb85-210"><a href="#cb85-210" aria-hidden="true" tabindex="-1"></a>                 <span class="at">col =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb85-211"><a href="#cb85-211" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add the average as a vertical line</span></span>
<span id="cb85-212"><a href="#cb85-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(df<span class="sc">$</span>age), </span>
<span id="cb85-213"><a href="#cb85-213" aria-hidden="true" tabindex="-1"></a>             <span class="at">linewidth =</span> <span class="fl">1.5</span>,</span>
<span id="cb85-214"><a href="#cb85-214" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="dv">2</span>,</span>
<span id="cb85-215"><a href="#cb85-215" aria-hidden="true" tabindex="-1"></a>             <span class="at">col =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb85-216"><a href="#cb85-216" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add a light grey field indicating the standard deviation</span></span>
<span id="cb85-217"><a href="#cb85-217" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="cn">Inf</span>, </span>
<span id="cb85-218"><a href="#cb85-218" aria-hidden="true" tabindex="-1"></a>           <span class="at">xmin =</span> (<span class="fu">mean</span>(df<span class="sc">$</span>age) <span class="sc">-</span> <span class="fu">sd</span>(df<span class="sc">$</span>age)), <span class="at">xmax =</span> (<span class="fu">mean</span>(df<span class="sc">$</span>age) <span class="sc">+</span> <span class="fu">sd</span>(df<span class="sc">$</span>age)), </span>
<span id="cb85-219"><a href="#cb85-219" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb85-220"><a href="#cb85-220" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb85-221"><a href="#cb85-221" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age in years"</span>,</span>
<span id="cb85-222"><a href="#cb85-222" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of respondents"</span>,</span>
<span id="cb85-223"><a href="#cb85-223" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="fu">glue</span>(<span class="st">"Note. Mean age is {round(mean(df$age, na.rm = T),1)} years with a standard deviation of {round(sd(df$age, na.rm = T),1)}. Age range is {min(df$age)} to {max(df$age)}."</span>)</span>
<span id="cb85-224"><a href="#cb85-224" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span></span>
<span id="cb85-225"><a href="#cb85-225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">face =</span> <span class="st">"italic"</span>))</span>
<span id="cb85-226"><a href="#cb85-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-227"><a href="#cb85-227" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-228"><a href="#cb85-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-229"><a href="#cb85-229" aria-hidden="true" tabindex="-1"></a>Age also needs to be a separate vector, and removed from the item dataframe.</span>
<span id="cb85-230"><a href="#cb85-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-233"><a href="#cb85-233" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-234"><a href="#cb85-234" aria-hidden="true" tabindex="-1"></a>dif.age <span class="ot">&lt;-</span> df<span class="sc">$</span>age</span>
<span id="cb85-235"><a href="#cb85-235" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb85-236"><a href="#cb85-236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-237"><a href="#cb85-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-238"><a href="#cb85-238" aria-hidden="true" tabindex="-1"></a>There is also a grouping variable which needs to be converted to a factor.</span>
<span id="cb85-239"><a href="#cb85-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-242"><a href="#cb85-242" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-243"><a href="#cb85-243" aria-hidden="true" tabindex="-1"></a>dif.group <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>Group)</span>
<span id="cb85-244"><a href="#cb85-244" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Group <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb85-245"><a href="#cb85-245" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdemographics</span>(dif.group, <span class="st">"Group"</span>)</span>
<span id="cb85-246"><a href="#cb85-246" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-247"><a href="#cb85-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-248"><a href="#cb85-248" aria-hidden="true" tabindex="-1"></a>With only item data remaining in the dataframe, we can easily rename the items in the item dataframe. These names match the <span class="in">`itemlabels`</span> variable <span class="in">`itemnr`</span>.</span>
<span id="cb85-249"><a href="#cb85-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-252"><a href="#cb85-252" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-253"><a href="#cb85-253" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> itemlabels<span class="sc">$</span>itemnr</span>
<span id="cb85-254"><a href="#cb85-254" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-255"><a href="#cb85-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-256"><a href="#cb85-256" aria-hidden="true" tabindex="-1"></a>Now we are all set for the psychometric analysis!</span>
<span id="cb85-257"><a href="#cb85-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-258"><a href="#cb85-258" aria-hidden="true" tabindex="-1"></a><span class="fu">## Descriptives</span></span>
<span id="cb85-259"><a href="#cb85-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-260"><a href="#cb85-260" aria-hidden="true" tabindex="-1"></a>Let's familiarize ourselves with the data before diving into the analysis.</span>
<span id="cb85-261"><a href="#cb85-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-262"><a href="#cb85-262" aria-hidden="true" tabindex="-1"></a><span class="fu">### Missing data</span></span>
<span id="cb85-263"><a href="#cb85-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-264"><a href="#cb85-264" aria-hidden="true" tabindex="-1"></a>First, we visualize the proportion of missing data on item level.</span>
<span id="cb85-265"><a href="#cb85-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-268"><a href="#cb85-268" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-269"><a href="#cb85-269" aria-hidden="true" tabindex="-1"></a><span class="fu">RImissing</span>(df)</span>
<span id="cb85-270"><a href="#cb85-270" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-271"><a href="#cb85-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-272"><a href="#cb85-272" aria-hidden="true" tabindex="-1"></a>No missing data in this dataset. If we had missing data, we could also use <span class="in">`RImissingP()`</span> to look at which respondents have missing data and how much.</span>
<span id="cb85-273"><a href="#cb85-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-274"><a href="#cb85-274" aria-hidden="true" tabindex="-1"></a><span class="fu">### Overall responses</span></span>
<span id="cb85-275"><a href="#cb85-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-276"><a href="#cb85-276" aria-hidden="true" tabindex="-1"></a>This provides us with an overall picture of the data distribution. As a bonus, any oddities/mistakes in recoding the item data from categories to numbers will be clearly visible.</span>
<span id="cb85-277"><a href="#cb85-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-280"><a href="#cb85-280" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-281"><a href="#cb85-281" aria-hidden="true" tabindex="-1"></a><span class="fu">RIallresp</span>(df)</span>
<span id="cb85-282"><a href="#cb85-282" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-283"><a href="#cb85-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-284"><a href="#cb85-284" aria-hidden="true" tabindex="-1"></a>Most R packages for Rasch analysis require the lowest response category to be zero, which makes it necessary for us to recode our data, from using the range of 1-5 to 0-4.</span>
<span id="cb85-285"><a href="#cb85-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-288"><a href="#cb85-288" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-289"><a href="#cb85-289" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb85-290"><a href="#cb85-290" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> car<span class="sc">::</span><span class="fu">recode</span>(.x, <span class="st">"1=0;2=1;3=2;4=3;5=4"</span>, <span class="at">as.factor =</span> F)))</span>
<span id="cb85-291"><a href="#cb85-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-292"><a href="#cb85-292" aria-hidden="true" tabindex="-1"></a><span class="co"># always check that your recoding worked as intended.</span></span>
<span id="cb85-293"><a href="#cb85-293" aria-hidden="true" tabindex="-1"></a><span class="fu">RIallresp</span>(df)</span>
<span id="cb85-294"><a href="#cb85-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-295"><a href="#cb85-295" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-296"><a href="#cb85-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-297"><a href="#cb85-297" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Floor/ceiling effects</span></span>
<span id="cb85-298"><a href="#cb85-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-299"><a href="#cb85-299" aria-hidden="true" tabindex="-1"></a>Now, we can also look at the raw distribution of sum scores. The <span class="in">`RIrawdist()`</span> function is a bit crude, since it requires responses in all response categories to accurately calculate max and min scores.</span>
<span id="cb85-300"><a href="#cb85-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-303"><a href="#cb85-303" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-304"><a href="#cb85-304" aria-hidden="true" tabindex="-1"></a><span class="fu">RIrawdist</span>(df)</span>
<span id="cb85-305"><a href="#cb85-305" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-306"><a href="#cb85-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-307"><a href="#cb85-307" aria-hidden="true" tabindex="-1"></a>We can see a floor effect with 11.8% of participants responding in the lowest category for all items.</span>
<span id="cb85-308"><a href="#cb85-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-309"><a href="#cb85-309" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Guttman structure</span></span>
<span id="cb85-310"><a href="#cb85-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-311"><a href="#cb85-311" aria-hidden="true" tabindex="-1"></a>While not really necessary, it could be interesting to see whether the response patterns follow a Guttman-like structure. Items and persons are sorted based on lower-<span class="sc">\&gt;</span>higher responses, and we should see the color move from yellow in the lower left corner to blue in the upper right corner.</span>
<span id="cb85-312"><a href="#cb85-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-315"><a href="#cb85-315" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-316"><a href="#cb85-316" aria-hidden="true" tabindex="-1"></a><span class="fu">RIheatmap</span>(df) <span class="sc">+</span></span>
<span id="cb85-317"><a href="#cb85-317" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>())</span>
<span id="cb85-318"><a href="#cb85-318" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-319"><a href="#cb85-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-320"><a href="#cb85-320" aria-hidden="true" tabindex="-1"></a>In this data, we see the floor effect on the left, with 11.8% of respondents all yellow, and a rather weak Guttman structure. This could also be due to a low variation in item locations/difficulties. Since we have a very large sample I added a <span class="in">`theme()`</span> option to remove the x-axis text, which would anyway just be a blur of the <span class="in">`r nrow(df)`</span> respondent row numbers. Each thin vertical slice in the figure is one respondent.</span>
<span id="cb85-321"><a href="#cb85-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-322"><a href="#cb85-322" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item level descriptives</span></span>
<span id="cb85-323"><a href="#cb85-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-324"><a href="#cb85-324" aria-hidden="true" tabindex="-1"></a>There are many ways to look at the item level data, and we'll get them all together in the tab-panel below. The <span class="in">`RItileplot()`</span> is probably most informative, since it provides the number of responses in each response category for each item. It is usually recommended to have at least \~10 responses in each category for psychometric analysis, no matter which methodology is used.</span>
<span id="cb85-325"><a href="#cb85-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-326"><a href="#cb85-326" aria-hidden="true" tabindex="-1"></a>Kudos to <span class="co">[</span><span class="ot">Solomon Kurz</span><span class="co">](https://solomonkurz.netlify.app/blog/2021-05-11-yes-you-can-fit-an-exploratory-factor-analysis-with-lavaan/)</span> for providing the idea and code on which the tile plot function is built!</span>
<span id="cb85-327"><a href="#cb85-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-328"><a href="#cb85-328" aria-hidden="true" tabindex="-1"></a>Most people will be familiar with the barplot, and this is probably most intuitive to understand the response distribution within each item. However, if there are many items it will take a while to review, and does not provide the same overview as a tileplot or stacked bars.</span>
<span id="cb85-329"><a href="#cb85-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-332"><a href="#cb85-332" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-333"><a href="#cb85-333" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb85-334"><a href="#cb85-334" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb85-335"><a href="#cb85-335" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: fenced</span></span>
<span id="cb85-336"><a href="#cb85-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-337"><a href="#cb85-337" aria-hidden="true" tabindex="-1"></a><span class="co"># This code chunk creates a small table in the margin beside the panel-tabset output below, showing all items currently in the df dataframe.</span></span>
<span id="cb85-338"><a href="#cb85-338" aria-hidden="true" tabindex="-1"></a><span class="co"># The Quarto code chunk option "#| column: margin" is necessary for the layout to work as intended.</span></span>
<span id="cb85-339"><a href="#cb85-339" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb85-340"><a href="#cb85-340" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-341"><a href="#cb85-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-342"><a href="#cb85-342" aria-hidden="true" tabindex="-1"></a>::: column-page-left</span>
<span id="cb85-343"><a href="#cb85-343" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb85-344"><a href="#cb85-344" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Tile plot</span></span>
<span id="cb85-345"><a href="#cb85-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-348"><a href="#cb85-348" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-349"><a href="#cb85-349" aria-hidden="true" tabindex="-1"></a><span class="fu">RItileplot</span>(df)</span>
<span id="cb85-350"><a href="#cb85-350" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-351"><a href="#cb85-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-352"><a href="#cb85-352" aria-hidden="true" tabindex="-1"></a>While response patterns are skewed for all items, there are more than 10 responses in each category for all items which is helpful for the analysis.</span>
<span id="cb85-353"><a href="#cb85-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-354"><a href="#cb85-354" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Stacked bars</span></span>
<span id="cb85-355"><a href="#cb85-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-358"><a href="#cb85-358" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-359"><a href="#cb85-359" aria-hidden="true" tabindex="-1"></a><span class="fu">RIbarstack</span>(df) <span class="sc">+</span></span>
<span id="cb85-360"><a href="#cb85-360" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="co"># theming is optional, see section 11 for more on this</span></span>
<span id="cb85-361"><a href="#cb85-361" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_rise</span>() </span>
<span id="cb85-362"><a href="#cb85-362" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-363"><a href="#cb85-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-364"><a href="#cb85-364" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Barplots</span></span>
<span id="cb85-365"><a href="#cb85-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-368"><a href="#cb85-368" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-369"><a href="#cb85-369" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb85-370"><a href="#cb85-370" aria-hidden="true" tabindex="-1"></a><span class="fu">RIbarplot</span>(df)</span>
<span id="cb85-371"><a href="#cb85-371" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-372"><a href="#cb85-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-373"><a href="#cb85-373" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Expected Value Curves</span></span>
<span id="cb85-374"><a href="#cb85-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-377"><a href="#cb85-377" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-378"><a href="#cb85-378" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb85-379"><a href="#cb85-379" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(TAM)</span>
<span id="cb85-380"><a href="#cb85-380" aria-hidden="true" tabindex="-1"></a>tam1 <span class="ot">&lt;-</span> <span class="fu">tam</span>(<span class="fu">as.matrix</span>(df), <span class="at">irtmodel =</span> <span class="st">"PCM"</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>) <span class="co"># run TAM Rasch Partial Credit Model on our data, which uses Marginal Maximum Likelihood estimation</span></span>
<span id="cb85-381"><a href="#cb85-381" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tam1) <span class="co"># create ICC plots</span></span>
<span id="cb85-382"><a href="#cb85-382" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-383"><a href="#cb85-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-384"><a href="#cb85-384" aria-hidden="true" tabindex="-1"></a>The expected value curves are made using the <span class="co">[</span><span class="ot">TAM</span><span class="co">](https://cran.r-project.org/web/packages/TAM/index.html)</span> package, which uses Marginal Maximum Likelihood (MML) estimation. It is a good way to check if any of your items may need reversed response categories, amongst other things.</span>
<span id="cb85-385"><a href="#cb85-385" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-386"><a href="#cb85-386" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-387"><a href="#cb85-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-388"><a href="#cb85-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-389"><a href="#cb85-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-390"><a href="#cb85-390" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rasch analysis 1 {#sec-rasch}</span></span>
<span id="cb85-391"><a href="#cb85-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-392"><a href="#cb85-392" aria-hidden="true" tabindex="-1"></a>The eRm package and Conditional Maximum Likelihood (CML) estimation will be used primarily, with the Partial Credit Model since this is polytomous data.</span>
<span id="cb85-393"><a href="#cb85-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-394"><a href="#cb85-394" aria-hidden="true" tabindex="-1"></a>This is also where the <span class="co">[</span><span class="ot">five basic psychometric aspects</span><span class="co">](https://doi.org/10.31219/osf.io/3htzc)</span> are good to recall.</span>
<span id="cb85-395"><a href="#cb85-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-396"><a href="#cb85-396" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Unidimensionality</span>
<span id="cb85-397"><a href="#cb85-397" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Response categories</span>
<span id="cb85-398"><a href="#cb85-398" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Invariance</span>
<span id="cb85-399"><a href="#cb85-399" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Targeting</span>
<span id="cb85-400"><a href="#cb85-400" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Measurement uncertainties (reliability)</span>
<span id="cb85-401"><a href="#cb85-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-402"><a href="#cb85-402" aria-hidden="true" tabindex="-1"></a>We will begin by looking at unidimensionality, response categories, and targeting in parallel below. For unidimensionality, we are mostly interested in item fit and residual correlations, as well as PCA of residuals and loadings on the first residual contrast. At the same time, disordered response categories can influence item fit, and targeting can be useful if it is necessary to remove items due to residual correlations.</span>
<span id="cb85-403"><a href="#cb85-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-404"><a href="#cb85-404" aria-hidden="true" tabindex="-1"></a>When unidimensionality and response categories are found to work adequately, we will move on to invariance testing. And when/if invariance looks good, we can investigate reliability/measurement uncertainties.</span>
<span id="cb85-405"><a href="#cb85-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-406"><a href="#cb85-406" aria-hidden="true" tabindex="-1"></a>In the tabset-panel below, each tab will have some explanatory text.</span>
<span id="cb85-407"><a href="#cb85-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-410"><a href="#cb85-410" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-411"><a href="#cb85-411" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb85-412"><a href="#cb85-412" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb85-413"><a href="#cb85-413" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb85-414"><a href="#cb85-414" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-415"><a href="#cb85-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-416"><a href="#cb85-416" aria-hidden="true" tabindex="-1"></a>::: column-page-left</span>
<span id="cb85-417"><a href="#cb85-417" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb85-418"><a href="#cb85-418" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item fit {.smaller}</span></span>
<span id="cb85-419"><a href="#cb85-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-422"><a href="#cb85-422" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-423"><a href="#cb85-423" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df, <span class="dv">300</span>, <span class="dv">32</span>, <span class="at">cpu =</span> <span class="dv">8</span>)</span>
<span id="cb85-424"><a href="#cb85-424" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-425"><a href="#cb85-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-426"><a href="#cb85-426" aria-hidden="true" tabindex="-1"></a>Since we have a sample size over 500, ZSTD item fit values would be inflated if we use the whole sample. To better estimate accurate ZSTD values the <span class="in">`RIitemfitPCM()`</span> function allows for multiple subsampling. It is recommended to use a sample size between 250 and 500 <span class="co">[</span><span class="ot">@hagell2016</span><span class="co">]</span>. We will set the sample size to 300 and run 32 subsamples. If you just want to test things out, I highly recommend lowering the number 32 to 4 to enable faster rendering.</span>
<span id="cb85-427"><a href="#cb85-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-428"><a href="#cb85-428" aria-hidden="true" tabindex="-1"></a>For faster processing, <span class="in">`RIitemfitPCM2()`</span> enables parallel processing with multiple CPUs/cores. You can check how many available cores you have by running <span class="in">`parallel::detectCores()`</span>. It is recommended to not use all of them (leave 1 or 2 free). There may be issues with multicore parallel processing, especially when having few responses in some response categories. If you run in to errors, try increasing the sample size, or just use the single cpu/core function <span class="in">`RIitemfitPCM()`</span> instead.</span>
<span id="cb85-429"><a href="#cb85-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-430"><a href="#cb85-430" aria-hidden="true" tabindex="-1"></a>"Outfit" refers to item fit when person location is relatively far away from the item location, while "infit" provides estimates for when person and item locations are close together. MSQ should be close to 1, with lower and upper cutoffs set to 0.7 and 1.3 as default values, while ZSTD should be around 0, with default cutoffs set to +/- 2.0. Infit is usually more important. You can change the cutoff values by using options in the function, see <span class="in">`?RIitemfitPCM`</span> for details.</span>
<span id="cb85-431"><a href="#cb85-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-432"><a href="#cb85-432" aria-hidden="true" tabindex="-1"></a>A low item fit indicates that responses are too predictable and provide little information. A high item fit can indicate several things, most often multidimensionality or, for questionnaires, a question that is difficult to interpret. This could for instance be a question that asks about two things at the same time.</span>
<span id="cb85-433"><a href="#cb85-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-434"><a href="#cb85-434" aria-hidden="true" tabindex="-1"></a><span class="fu">### PCA</span></span>
<span id="cb85-435"><a href="#cb85-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-438"><a href="#cb85-438" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-439"><a href="#cb85-439" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "PCA of Rasch model residuals"</span></span>
<span id="cb85-440"><a href="#cb85-440" aria-hidden="true" tabindex="-1"></a><span class="fu">RIpcmPCA</span>(df)</span>
<span id="cb85-441"><a href="#cb85-441" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-442"><a href="#cb85-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-443"><a href="#cb85-443" aria-hidden="true" tabindex="-1"></a>The first eigenvalue should be below 2.0 to support unidimensionality.</span>
<span id="cb85-444"><a href="#cb85-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-445"><a href="#cb85-445" aria-hidden="true" tabindex="-1"></a><span class="fu">### Residual correlations</span></span>
<span id="cb85-446"><a href="#cb85-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-449"><a href="#cb85-449" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-450"><a href="#cb85-450" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span>
<span id="cb85-451"><a href="#cb85-451" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-452"><a href="#cb85-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-453"><a href="#cb85-453" aria-hidden="true" tabindex="-1"></a>The matrix above shows item-pair correlations of item residuals, with highlights in red showing correlations 0.2 or more above the average item-pair correlation (for all item-pairs) <span class="co">[</span><span class="ot">@christensen2017</span><span class="co">]</span>. Rasch model residual correlations are calculated using the <span class="co">[</span><span class="ot">mirt</span><span class="co">](https://cran.r-project.org/web/packages/mirt/index.html)</span> package. Again, you can set the cutoff value you desire in the function call, which will affect the values highlighted in the correlation matrix table and the caption text.</span>
<span id="cb85-454"><a href="#cb85-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-455"><a href="#cb85-455" aria-hidden="true" tabindex="-1"></a><span class="fu">### 1st contrast loadings</span></span>
<span id="cb85-456"><a href="#cb85-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-459"><a href="#cb85-459" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-460"><a href="#cb85-460" aria-hidden="true" tabindex="-1"></a><span class="fu">RIloadLoc</span>(df)</span>
<span id="cb85-461"><a href="#cb85-461" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-462"><a href="#cb85-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-463"><a href="#cb85-463" aria-hidden="true" tabindex="-1"></a>Here we see item locations and their loadings on the first residual contrast. This figure can be helpful to identify clusters in data or multidimensionality.</span>
<span id="cb85-464"><a href="#cb85-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-465"><a href="#cb85-465" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analysis of response categories</span></span>
<span id="cb85-466"><a href="#cb85-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-467"><a href="#cb85-467" aria-hidden="true" tabindex="-1"></a>The <span class="in">`xlims`</span> setting changes the x-axis limits for the ICC plots. The default values usually make sense, and we mostly add this option to point out the possibility of doing so. You can also choose to only show the ICC plots for specific items.</span>
<span id="cb85-468"><a href="#cb85-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-471"><a href="#cb85-471" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-472"><a href="#cb85-472" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb85-473"><a href="#cb85-473" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemCats</span>(df, <span class="at">xlims =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="dv">5</span>))</span>
<span id="cb85-474"><a href="#cb85-474" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-475"><a href="#cb85-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-476"><a href="#cb85-476" aria-hidden="true" tabindex="-1"></a>Each response category for each item should have a curve that indicates it to be the most probably response at some point on the latent variable (x axis in the figure).</span>
<span id="cb85-477"><a href="#cb85-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-478"><a href="#cb85-478" aria-hidden="true" tabindex="-1"></a><span class="fu">### Response categories MIRT</span></span>
<span id="cb85-479"><a href="#cb85-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-480"><a href="#cb85-480" aria-hidden="true" tabindex="-1"></a>For a more compact figure.</span>
<span id="cb85-481"><a href="#cb85-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-484"><a href="#cb85-484" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-485"><a href="#cb85-485" aria-hidden="true" tabindex="-1"></a><span class="fu">mirt</span>(df, <span class="at">model=</span><span class="dv">1</span>, <span class="at">itemtype=</span><span class="st">'Rasch'</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb85-486"><a href="#cb85-486" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">type=</span><span class="st">"trace"</span>, <span class="at">as.table =</span> <span class="cn">TRUE</span>, </span>
<span id="cb85-487"><a href="#cb85-487" aria-hidden="true" tabindex="-1"></a>       <span class="at">theta_lim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="dv">5</span>))</span>
<span id="cb85-488"><a href="#cb85-488" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-489"><a href="#cb85-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-490"><a href="#cb85-490" aria-hidden="true" tabindex="-1"></a><span class="fu">### Targeting</span></span>
<span id="cb85-491"><a href="#cb85-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-494"><a href="#cb85-494" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-495"><a href="#cb85-495" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 7</span></span>
<span id="cb85-496"><a href="#cb85-496" aria-hidden="true" tabindex="-1"></a><span class="co"># increase fig-height in the chunk option above if you have many items</span></span>
<span id="cb85-497"><a href="#cb85-497" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="dv">4</span>)) <span class="co"># xlim defaults to c(-5,6) if you omit this option</span></span>
<span id="cb85-498"><a href="#cb85-498" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-499"><a href="#cb85-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-500"><a href="#cb85-500" aria-hidden="true" tabindex="-1"></a>This figure shows how well the items fit the respondents/persons. It is a sort of <span class="co">[</span><span class="ot">Wright Map</span><span class="co">](https://www.rasch.org/rmt/rmt253b.htm)</span> that shows person locations and item threshold locations on the same logit scale.</span>
<span id="cb85-501"><a href="#cb85-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-502"><a href="#cb85-502" aria-hidden="true" tabindex="-1"></a>The top part shows person location histogram, the middle part an inverted histogram of item threshold locations, and the bottom part shows individual item threshold locations. The histograms also show means and standard deviations.</span>
<span id="cb85-503"><a href="#cb85-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-504"><a href="#cb85-504" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item hierarchy</span></span>
<span id="cb85-505"><a href="#cb85-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-506"><a href="#cb85-506" aria-hidden="true" tabindex="-1"></a>Here the items are sorted on their average threshold location (black diamonds). 95% confidence intervals are shown around each item threshold location. For further details, see the caption text below the figure.</span>
<span id="cb85-507"><a href="#cb85-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-510"><a href="#cb85-510" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-511"><a href="#cb85-511" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 6</span></span>
<span id="cb85-512"><a href="#cb85-512" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df)</span>
<span id="cb85-513"><a href="#cb85-513" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-514"><a href="#cb85-514" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-515"><a href="#cb85-515" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-516"><a href="#cb85-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-517"><a href="#cb85-517" aria-hidden="true" tabindex="-1"></a>Item 18 has issues with the second lowest category being disordered.</span>
<span id="cb85-518"><a href="#cb85-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-519"><a href="#cb85-519" aria-hidden="true" tabindex="-1"></a>Item 15 shows low item fit.</span>
<span id="cb85-520"><a href="#cb85-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-521"><a href="#cb85-521" aria-hidden="true" tabindex="-1"></a>Two item-pairs show residual correlations above the cutoff value:</span>
<span id="cb85-522"><a href="#cb85-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-523"><a href="#cb85-523" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>15 and 16 (scared and afraid)</span>
<span id="cb85-524"><a href="#cb85-524" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>17 and 18 (ashamed and guilty)</span>
<span id="cb85-525"><a href="#cb85-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-526"><a href="#cb85-526" aria-hidden="true" tabindex="-1"></a>Since item 15 also had low item fit, we will remove it. In the second pair, item 18 will be removed since it also had problems with disordered response categories.</span>
<span id="cb85-527"><a href="#cb85-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-530"><a href="#cb85-530" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-531"><a href="#cb85-531" aria-hidden="true" tabindex="-1"></a>removed.items <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PANAS_15"</span>,<span class="st">"PANAS_18"</span>)</span>
<span id="cb85-532"><a href="#cb85-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-533"><a href="#cb85-533" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb85-534"><a href="#cb85-534" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">any_of</span>(removed.items))</span>
<span id="cb85-535"><a href="#cb85-535" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-536"><a href="#cb85-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-537"><a href="#cb85-537" aria-hidden="true" tabindex="-1"></a>As seen in the code above, I chose to create a copy of the dataframe with the removed items omitted. This can be useful if, at a later stage in the analysis, I want to be able to quickly "go back" and reinstate an item.</span>
<span id="cb85-538"><a href="#cb85-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-539"><a href="#cb85-539" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rasch analysis 2</span></span>
<span id="cb85-540"><a href="#cb85-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-541"><a href="#cb85-541" aria-hidden="true" tabindex="-1"></a>With items 15 and 18 removed.</span>
<span id="cb85-542"><a href="#cb85-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-545"><a href="#cb85-545" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-546"><a href="#cb85-546" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb85-547"><a href="#cb85-547" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb85-548"><a href="#cb85-548" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df2, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb85-549"><a href="#cb85-549" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-550"><a href="#cb85-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-551"><a href="#cb85-551" aria-hidden="true" tabindex="-1"></a>::: column-page-left</span>
<span id="cb85-552"><a href="#cb85-552" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb85-553"><a href="#cb85-553" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item fit {.smaller}</span></span>
<span id="cb85-554"><a href="#cb85-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-557"><a href="#cb85-557" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-558"><a href="#cb85-558" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df2, <span class="dv">300</span>, <span class="dv">32</span>, <span class="at">cpu =</span> <span class="dv">8</span>)</span>
<span id="cb85-559"><a href="#cb85-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-560"><a href="#cb85-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-561"><a href="#cb85-561" aria-hidden="true" tabindex="-1"></a><span class="fu">### PCA</span></span>
<span id="cb85-562"><a href="#cb85-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-565"><a href="#cb85-565" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-566"><a href="#cb85-566" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "PCA of Rasch model residuals"</span></span>
<span id="cb85-567"><a href="#cb85-567" aria-hidden="true" tabindex="-1"></a><span class="fu">RIpcmPCA</span>(df2)</span>
<span id="cb85-568"><a href="#cb85-568" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-569"><a href="#cb85-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-570"><a href="#cb85-570" aria-hidden="true" tabindex="-1"></a><span class="fu">### Residual correlations</span></span>
<span id="cb85-571"><a href="#cb85-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-574"><a href="#cb85-574" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-575"><a href="#cb85-575" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df2, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span>
<span id="cb85-576"><a href="#cb85-576" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-577"><a href="#cb85-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-578"><a href="#cb85-578" aria-hidden="true" tabindex="-1"></a><span class="fu">### 1st contrast loadings</span></span>
<span id="cb85-579"><a href="#cb85-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-582"><a href="#cb85-582" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-583"><a href="#cb85-583" aria-hidden="true" tabindex="-1"></a><span class="fu">RIloadLoc</span>(df2)</span>
<span id="cb85-584"><a href="#cb85-584" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-585"><a href="#cb85-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-586"><a href="#cb85-586" aria-hidden="true" tabindex="-1"></a><span class="fu">### Targeting</span></span>
<span id="cb85-587"><a href="#cb85-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-590"><a href="#cb85-590" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-591"><a href="#cb85-591" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb85-592"><a href="#cb85-592" aria-hidden="true" tabindex="-1"></a><span class="co"># increase fig-height above as needed, if you have many items</span></span>
<span id="cb85-593"><a href="#cb85-593" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df2)</span>
<span id="cb85-594"><a href="#cb85-594" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-595"><a href="#cb85-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-596"><a href="#cb85-596" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item hierarchy</span></span>
<span id="cb85-597"><a href="#cb85-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-600"><a href="#cb85-600" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-601"><a href="#cb85-601" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb85-602"><a href="#cb85-602" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2)</span>
<span id="cb85-603"><a href="#cb85-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-604"><a href="#cb85-604" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-605"><a href="#cb85-605" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-606"><a href="#cb85-606" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-607"><a href="#cb85-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-608"><a href="#cb85-608" aria-hidden="true" tabindex="-1"></a>Items 12 and 16 are a bit low in item fit ZSTD.</span>
<span id="cb85-609"><a href="#cb85-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-610"><a href="#cb85-610" aria-hidden="true" tabindex="-1"></a>Items 16 and 19 have a residual correlation at about 0.25 above the average level.</span>
<span id="cb85-611"><a href="#cb85-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-612"><a href="#cb85-612" aria-hidden="true" tabindex="-1"></a>Let's look at DIF before taking action upon this information.</span>
<span id="cb85-613"><a href="#cb85-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-614"><a href="#cb85-614" aria-hidden="true" tabindex="-1"></a><span class="fu">## DIF - differential item functioning</span></span>
<span id="cb85-615"><a href="#cb85-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-616"><a href="#cb85-616" aria-hidden="true" tabindex="-1"></a>We'll be looking at how/if item (threshold) locations are stable between demographic subgroups.</span>
<span id="cb85-617"><a href="#cb85-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-618"><a href="#cb85-618" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sex</span></span>
<span id="cb85-619"><a href="#cb85-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-622"><a href="#cb85-622" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-623"><a href="#cb85-623" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb85-624"><a href="#cb85-624" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb85-625"><a href="#cb85-625" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df2, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb85-626"><a href="#cb85-626" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-627"><a href="#cb85-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-628"><a href="#cb85-628" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb85-629"><a href="#cb85-629" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Table</span></span>
<span id="cb85-630"><a href="#cb85-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-633"><a href="#cb85-633" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-634"><a href="#cb85-634" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb85-635"><a href="#cb85-635" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable</span>(df2, dif.sex)</span>
<span id="cb85-636"><a href="#cb85-636" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-637"><a href="#cb85-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-638"><a href="#cb85-638" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Figure items</span></span>
<span id="cb85-639"><a href="#cb85-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-642"><a href="#cb85-642" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-643"><a href="#cb85-643" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifFigure</span>(df2, dif.sex)</span>
<span id="cb85-644"><a href="#cb85-644" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-645"><a href="#cb85-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-646"><a href="#cb85-646" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Figure thresholds</span></span>
<span id="cb85-647"><a href="#cb85-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-650"><a href="#cb85-650" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-651"><a href="#cb85-651" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifFigThresh</span>(df2, dif.sex)</span>
<span id="cb85-652"><a href="#cb85-652" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-653"><a href="#cb85-653" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-654"><a href="#cb85-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-655"><a href="#cb85-655" aria-hidden="true" tabindex="-1"></a>While no item shows problematic levels of DIF regarding item location, as shown by the table, there is an interesting pattern in the thresholds figure. The lowest threshold seems to be slightly lower for node 3 (Male) for all items.</span>
<span id="cb85-656"><a href="#cb85-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-657"><a href="#cb85-657" aria-hidden="true" tabindex="-1"></a>The results do not require any action since the difference is small.</span>
<span id="cb85-658"><a href="#cb85-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-659"><a href="#cb85-659" aria-hidden="true" tabindex="-1"></a><span class="fu">### Age</span></span>
<span id="cb85-660"><a href="#cb85-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-661"><a href="#cb85-661" aria-hidden="true" tabindex="-1"></a>The <span class="in">`psychotree`</span> package uses a model-based recursive partitioning that is particularly useful when you have a continuous variable such as age in years and a large enough sample. It will test different ways to partition the age variable to determine potential group differences <span class="co">[</span><span class="ot">@strobl2015; @strobl2021</span><span class="co">]</span>.</span>
<span id="cb85-662"><a href="#cb85-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-665"><a href="#cb85-665" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-666"><a href="#cb85-666" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable</span>(df2, dif.age)</span>
<span id="cb85-667"><a href="#cb85-667" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-668"><a href="#cb85-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-669"><a href="#cb85-669" aria-hidden="true" tabindex="-1"></a>No DIF found for age.</span>
<span id="cb85-670"><a href="#cb85-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-671"><a href="#cb85-671" aria-hidden="true" tabindex="-1"></a><span class="fu">### Group</span></span>
<span id="cb85-672"><a href="#cb85-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-675"><a href="#cb85-675" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-676"><a href="#cb85-676" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable</span>(df2, dif.group)</span>
<span id="cb85-677"><a href="#cb85-677" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-678"><a href="#cb85-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-679"><a href="#cb85-679" aria-hidden="true" tabindex="-1"></a>And no DIF for group.</span>
<span id="cb85-680"><a href="#cb85-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-681"><a href="#cb85-681" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sex and age</span></span>
<span id="cb85-682"><a href="#cb85-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-683"><a href="#cb85-683" aria-hidden="true" tabindex="-1"></a>The <span class="in">`psychotree`</span> package also allows for DIF interaction analysis with multiple DIF variables. We can use <span class="in">`RIdifTable2()`</span> to input two DIF variables.</span>
<span id="cb85-684"><a href="#cb85-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-687"><a href="#cb85-687" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-688"><a href="#cb85-688" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable2</span>(df2, dif.sex, dif.age)</span>
<span id="cb85-689"><a href="#cb85-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-690"><a href="#cb85-690" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-691"><a href="#cb85-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-692"><a href="#cb85-692" aria-hidden="true" tabindex="-1"></a>No interaction effect found for sex and age. The analysis only shows the previously identified DIF for sex.</span>
<span id="cb85-693"><a href="#cb85-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-694"><a href="#cb85-694" aria-hidden="true" tabindex="-1"></a><span class="fu">### LRT-based DIF example {#sec-diflrt}</span></span>
<span id="cb85-695"><a href="#cb85-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-696"><a href="#cb85-696" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb85-697"><a href="#cb85-697" aria-hidden="true" tabindex="-1"></a><span class="fu">### Note</span></span>
<span id="cb85-698"><a href="#cb85-698" aria-hidden="true" tabindex="-1"></a>I advice not to use these LRT-based functions, unless you are certain that you understand their output. The <span class="in">`LRtest()`</span> itself is fine, but the functions have not yet been extensively tested and may have issues depending on the dataset. It seems that the DIF size indicated by these functions may be inflated.</span>
<span id="cb85-699"><a href="#cb85-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-700"><a href="#cb85-700" aria-hidden="true" tabindex="-1"></a>I wrote these when I found a bug in the <span class="in">`psychotree`</span>-based functions that produced errors when mixing polytomous and dichotomous variables, but this has been fixed upstream now.</span>
<span id="cb85-701"><a href="#cb85-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-702"><a href="#cb85-702" aria-hidden="true" tabindex="-1"></a>At some point I hope to find time to update the "old" DIF-functions with some of the nice things I implemented below.</span>
<span id="cb85-703"><a href="#cb85-703" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-704"><a href="#cb85-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-705"><a href="#cb85-705" aria-hidden="true" tabindex="-1"></a>As of package version 0.1.16 there are four new functions for analyzing item location DIF. These are all making use of the function <span class="in">`LRtest()`</span> from the <span class="in">`eRm`</span> package.</span>
<span id="cb85-706"><a href="#cb85-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-707"><a href="#cb85-707" aria-hidden="true" tabindex="-1"></a>We'll use the group variable as an example. First, we can simply run the test to get the overall result.</span>
<span id="cb85-708"><a href="#cb85-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-711"><a href="#cb85-711" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-712"><a href="#cb85-712" aria-hidden="true" tabindex="-1"></a>erm.out <span class="ot">&lt;-</span> <span class="fu">PCM</span>(df2)</span>
<span id="cb85-713"><a href="#cb85-713" aria-hidden="true" tabindex="-1"></a><span class="fu">LRtest</span>(erm.out, <span class="at">splitcr =</span> dif.group)</span>
<span id="cb85-714"><a href="#cb85-714" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-715"><a href="#cb85-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-718"><a href="#cb85-718" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-719"><a href="#cb85-719" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb85-720"><a href="#cb85-720" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb85-721"><a href="#cb85-721" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df2, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb85-722"><a href="#cb85-722" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-723"><a href="#cb85-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-724"><a href="#cb85-724" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb85-725"><a href="#cb85-725" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Item location table</span></span>
<span id="cb85-728"><a href="#cb85-728" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-729"><a href="#cb85-729" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTableLR</span>(df2, dif.group)</span>
<span id="cb85-730"><a href="#cb85-730" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-731"><a href="#cb85-731" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Item location figure</span></span>
<span id="cb85-734"><a href="#cb85-734" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-735"><a href="#cb85-735" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 7</span></span>
<span id="cb85-736"><a href="#cb85-736" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifFigureLR</span>(df2, dif.group) <span class="sc">+</span> <span class="fu">theme_rise</span>()</span>
<span id="cb85-737"><a href="#cb85-737" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-738"><a href="#cb85-738" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Item threshold table</span></span>
<span id="cb85-741"><a href="#cb85-741" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-742"><a href="#cb85-742" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifThreshTblLR</span>(df2, dif.group)</span>
<span id="cb85-743"><a href="#cb85-743" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-744"><a href="#cb85-744" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Item threshold figure</span></span>
<span id="cb85-747"><a href="#cb85-747" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-748"><a href="#cb85-748" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 7</span></span>
<span id="cb85-749"><a href="#cb85-749" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifThreshFigLR</span>(df2, dif.group) <span class="sc">+</span> <span class="fu">theme_rise</span>()</span>
<span id="cb85-750"><a href="#cb85-750" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-751"><a href="#cb85-751" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-752"><a href="#cb85-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-753"><a href="#cb85-753" aria-hidden="true" tabindex="-1"></a>The item threshold table shows that the highest thresholds for items 13 and 17 differ more than 0.5 logits between groups. In this set of 8 items with 4 thresholds each, it is unlikely to result in problematic differences in estimated person scores.</span>
<span id="cb85-754"><a href="#cb85-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-755"><a href="#cb85-755" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rasch analysis 3</span></span>
<span id="cb85-756"><a href="#cb85-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-757"><a href="#cb85-757" aria-hidden="true" tabindex="-1"></a>While there were no significant issues with DIF for any item/subgroup combination, we need to address the previously identified problems</span>
<span id="cb85-758"><a href="#cb85-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-759"><a href="#cb85-759" aria-hidden="true" tabindex="-1"></a>Items 12 and 16 are a bit low in item fit ZSTD.</span>
<span id="cb85-760"><a href="#cb85-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-761"><a href="#cb85-761" aria-hidden="true" tabindex="-1"></a>Items 16 and 19 have a residual correlation at about 0.25 above the average level.</span>
<span id="cb85-762"><a href="#cb85-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-763"><a href="#cb85-763" aria-hidden="true" tabindex="-1"></a>We'll remove item 19 since item 16 has better targeting.</span>
<span id="cb85-764"><a href="#cb85-764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-767"><a href="#cb85-767" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-768"><a href="#cb85-768" aria-hidden="true" tabindex="-1"></a>removed.items <span class="ot">&lt;-</span> <span class="fu">c</span>(removed.items,<span class="st">"PANAS_19"</span>)</span>
<span id="cb85-769"><a href="#cb85-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-770"><a href="#cb85-770" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df2 <span class="sc">%&gt;%</span> </span>
<span id="cb85-771"><a href="#cb85-771" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">any_of</span>(removed.items))</span>
<span id="cb85-772"><a href="#cb85-772" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-773"><a href="#cb85-773" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-774"><a href="#cb85-774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-777"><a href="#cb85-777" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-778"><a href="#cb85-778" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb85-779"><a href="#cb85-779" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb85-780"><a href="#cb85-780" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df2, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb85-781"><a href="#cb85-781" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-782"><a href="#cb85-782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-783"><a href="#cb85-783" aria-hidden="true" tabindex="-1"></a>::: column-page-left</span>
<span id="cb85-784"><a href="#cb85-784" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb85-785"><a href="#cb85-785" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item fit</span></span>
<span id="cb85-786"><a href="#cb85-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-789"><a href="#cb85-789" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-790"><a href="#cb85-790" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df2, <span class="dv">350</span>, <span class="dv">32</span>, <span class="dv">8</span>)</span>
<span id="cb85-791"><a href="#cb85-791" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-792"><a href="#cb85-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-793"><a href="#cb85-793" aria-hidden="true" tabindex="-1"></a><span class="fu">### Residual correlations</span></span>
<span id="cb85-794"><a href="#cb85-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-797"><a href="#cb85-797" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-798"><a href="#cb85-798" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df2, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span>
<span id="cb85-799"><a href="#cb85-799" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-800"><a href="#cb85-800" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-801"><a href="#cb85-801" aria-hidden="true" tabindex="-1"></a><span class="fu">### Targeting</span></span>
<span id="cb85-802"><a href="#cb85-802" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-805"><a href="#cb85-805" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-806"><a href="#cb85-806" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb85-807"><a href="#cb85-807" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df2, <span class="at">bins =</span> <span class="dv">45</span>)</span>
<span id="cb85-808"><a href="#cb85-808" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-809"><a href="#cb85-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-810"><a href="#cb85-810" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item hierarchy</span></span>
<span id="cb85-811"><a href="#cb85-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-814"><a href="#cb85-814" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-815"><a href="#cb85-815" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb85-816"><a href="#cb85-816" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2)</span>
<span id="cb85-817"><a href="#cb85-817" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-818"><a href="#cb85-818" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-819"><a href="#cb85-819" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-820"><a href="#cb85-820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-821"><a href="#cb85-821" aria-hidden="true" tabindex="-1"></a>No problematic residual correlations, but item 12 is a bit low in item fit.</span>
<span id="cb85-822"><a href="#cb85-822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-823"><a href="#cb85-823" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rasch analysis 4</span></span>
<span id="cb85-824"><a href="#cb85-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-827"><a href="#cb85-827" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-828"><a href="#cb85-828" aria-hidden="true" tabindex="-1"></a>removed.items <span class="ot">&lt;-</span> <span class="fu">c</span>(removed.items,<span class="st">"PANAS_12"</span>)</span>
<span id="cb85-829"><a href="#cb85-829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-830"><a href="#cb85-830" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df2 <span class="sc">%&gt;%</span> </span>
<span id="cb85-831"><a href="#cb85-831" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">any_of</span>(removed.items))</span>
<span id="cb85-832"><a href="#cb85-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-833"><a href="#cb85-833" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-834"><a href="#cb85-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-837"><a href="#cb85-837" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-838"><a href="#cb85-838" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb85-839"><a href="#cb85-839" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb85-840"><a href="#cb85-840" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df2, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb85-841"><a href="#cb85-841" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-842"><a href="#cb85-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-843"><a href="#cb85-843" aria-hidden="true" tabindex="-1"></a>::: column-page-left</span>
<span id="cb85-844"><a href="#cb85-844" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb85-845"><a href="#cb85-845" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item fit</span></span>
<span id="cb85-846"><a href="#cb85-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-849"><a href="#cb85-849" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-850"><a href="#cb85-850" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df2, <span class="dv">350</span>, <span class="dv">32</span>, <span class="dv">8</span>)</span>
<span id="cb85-851"><a href="#cb85-851" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-852"><a href="#cb85-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-853"><a href="#cb85-853" aria-hidden="true" tabindex="-1"></a><span class="fu">### Residual correlations</span></span>
<span id="cb85-854"><a href="#cb85-854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-857"><a href="#cb85-857" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-858"><a href="#cb85-858" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df2, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span>
<span id="cb85-859"><a href="#cb85-859" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-860"><a href="#cb85-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-861"><a href="#cb85-861" aria-hidden="true" tabindex="-1"></a><span class="fu">### Targeting</span></span>
<span id="cb85-862"><a href="#cb85-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-865"><a href="#cb85-865" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-866"><a href="#cb85-866" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb85-867"><a href="#cb85-867" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df2)</span>
<span id="cb85-868"><a href="#cb85-868" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-869"><a href="#cb85-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-870"><a href="#cb85-870" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item hierarchy</span></span>
<span id="cb85-871"><a href="#cb85-871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-874"><a href="#cb85-874" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-875"><a href="#cb85-875" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb85-876"><a href="#cb85-876" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2)</span>
<span id="cb85-877"><a href="#cb85-877" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-878"><a href="#cb85-878" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-879"><a href="#cb85-879" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb85-880"><a href="#cb85-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-881"><a href="#cb85-881" aria-hidden="true" tabindex="-1"></a>There are several item thresholds that are very closely located, as shown in the item hierarchy figure. This is not ideal, since it will inflate reliability estimates.</span>
<span id="cb85-882"><a href="#cb85-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-883"><a href="#cb85-883" aria-hidden="true" tabindex="-1"></a>However, we will not modify the response categories for this sample/simple analysis, we only note that this is not ideal.</span>
<span id="cb85-884"><a href="#cb85-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-885"><a href="#cb85-885" aria-hidden="true" tabindex="-1"></a><span class="fu">## Reliability</span></span>
<span id="cb85-886"><a href="#cb85-886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-889"><a href="#cb85-889" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-890"><a href="#cb85-890" aria-hidden="true" tabindex="-1"></a><span class="fu">RItif</span>(df2)</span>
<span id="cb85-891"><a href="#cb85-891" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-892"><a href="#cb85-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-893"><a href="#cb85-893" aria-hidden="true" tabindex="-1"></a>While 11.8% of respondents had a floor effect based on the raw sum scored data, the figure above shows us that 41.8% are located below the point where the items produce a person separation index (reliability) of 0.7 or higher.</span>
<span id="cb85-894"><a href="#cb85-894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-895"><a href="#cb85-895" aria-hidden="true" tabindex="-1"></a><span class="fu">## Person fit</span></span>
<span id="cb85-896"><a href="#cb85-896" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-897"><a href="#cb85-897" aria-hidden="true" tabindex="-1"></a>We can also look at how the respondents fit the Rasch model with these items.</span>
<span id="cb85-898"><a href="#cb85-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-901"><a href="#cb85-901" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-902"><a href="#cb85-902" aria-hidden="true" tabindex="-1"></a><span class="fu">RIpfit</span>(df2)</span>
<span id="cb85-903"><a href="#cb85-903" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-904"><a href="#cb85-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-905"><a href="#cb85-905" aria-hidden="true" tabindex="-1"></a><span class="fu">## Item parameters</span></span>
<span id="cb85-906"><a href="#cb85-906" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-907"><a href="#cb85-907" aria-hidden="true" tabindex="-1"></a>To allow others (and oneself) to use the item parameters estimated for estimation of person locations/thetas, we should make the item parameters available. The function will also write a csv-file with the item threshold locations. Estimations of person locations/thetas can be done with the <span class="in">`thetaEst()`</span> function from the <span class="in">`catR`</span> package.</span>
<span id="cb85-908"><a href="#cb85-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-909"><a href="#cb85-909" aria-hidden="true" tabindex="-1"></a>It can also be done by using the new (as of 2023-02-04) <span class="in">`RIestTheta()`</span> function in this package (does not yet work with dichotomous data), which uses <span class="in">`thetaEst()`</span> across all the participants in your dataframe.</span>
<span id="cb85-910"><a href="#cb85-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-911"><a href="#cb85-911" aria-hidden="true" tabindex="-1"></a>First, we'll output the parameters into a table.</span>
<span id="cb85-912"><a href="#cb85-912" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-915"><a href="#cb85-915" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-916"><a href="#cb85-916" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemparams</span>(df2)</span>
<span id="cb85-917"><a href="#cb85-917" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-918"><a href="#cb85-918" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-919"><a href="#cb85-919" aria-hidden="true" tabindex="-1"></a>We can get more detailed information, such as the relative item locations and highest/lowest thresholds, by using the <span class="in">`RIitemparams()`</span> function with the option <span class="in">`detail = all`</span>.</span>
<span id="cb85-920"><a href="#cb85-920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-923"><a href="#cb85-923" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-924"><a href="#cb85-924" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemparams</span>(df2, <span class="at">detail =</span> <span class="st">"all"</span>)</span>
<span id="cb85-925"><a href="#cb85-925" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-926"><a href="#cb85-926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-927"><a href="#cb85-927" aria-hidden="true" tabindex="-1"></a>The parameters can also be output to a dataframe or a file, using the option <span class="in">`output = "dataframe"`</span> or <span class="in">`output = "file"`</span>.</span>
<span id="cb85-928"><a href="#cb85-928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-929"><a href="#cb85-929" aria-hidden="true" tabindex="-1"></a><span class="fu">## Ordinal sum score to interval score</span></span>
<span id="cb85-930"><a href="#cb85-930" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-931"><a href="#cb85-931" aria-hidden="true" tabindex="-1"></a>This table shows the corresponding "raw" ordinal sum score values and logit scores, with standard errors for each logit value. Interval scores are estimated using WL based on a simulated dataset using the item parameters estimated from the input dataset. The choice of WL as default is due to the lower bias compared to ML estimation <span class="co">[</span><span class="ot">@warm1989</span><span class="co">]</span>.</span>
<span id="cb85-932"><a href="#cb85-932" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-933"><a href="#cb85-933" aria-hidden="true" tabindex="-1"></a>(An option will be added *later* to create this table based on only item parameters.)</span>
<span id="cb85-934"><a href="#cb85-934" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-937"><a href="#cb85-937" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-938"><a href="#cb85-938" aria-hidden="true" tabindex="-1"></a><span class="fu">RIscoreSE</span>(df2)</span>
<span id="cb85-939"><a href="#cb85-939" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-940"><a href="#cb85-940" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-941"><a href="#cb85-941" aria-hidden="true" tabindex="-1"></a>Note that if your transformation table does not show the full range of ordinal sum scores, you can try to increase the option <span class="in">`sdx`</span> from the default setting of <span class="in">`5`</span>. Also, if you find the the default range of logit scores is insufficient, it can be adjusted by changing the option <span class="in">`score_range`</span> (default is <span class="in">`c(-4,4)`</span>).</span>
<span id="cb85-942"><a href="#cb85-942" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-943"><a href="#cb85-943" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ordinal/interval figure</span></span>
<span id="cb85-944"><a href="#cb85-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-945"><a href="#cb85-945" aria-hidden="true" tabindex="-1"></a>The figure below can also be generated to illustrate the relationship between ordinal sum score and logit interval score. The errorbars default to show the standard error at each point, multiplied by 1.96.</span>
<span id="cb85-946"><a href="#cb85-946" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-949"><a href="#cb85-949" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-950"><a href="#cb85-950" aria-hidden="true" tabindex="-1"></a><span class="fu">RIscoreSE</span>(df2, <span class="at">output =</span> <span class="st">"figure"</span>)</span>
<span id="cb85-951"><a href="#cb85-951" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-952"><a href="#cb85-952" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-953"><a href="#cb85-953" aria-hidden="true" tabindex="-1"></a><span class="fu">### Estimating interval level person scores</span></span>
<span id="cb85-954"><a href="#cb85-954" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-955"><a href="#cb85-955" aria-hidden="true" tabindex="-1"></a>Based on the Rasch analysis output of item parameters, we can estimate each individuals location or score (also known as "theta"). Similarly to the <span class="in">`RIitemfitPCM()`</span> function there is also a parallel processing version of the function available, which makes use of 4 cores by default.</span>
<span id="cb85-956"><a href="#cb85-956" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-957"><a href="#cb85-957" aria-hidden="true" tabindex="-1"></a><span class="in">`RIestThetas()`</span> by default uses WL estimation of a partial credit model and outputs a vector of person locations on the logit scale. If you do not supply a matrix of item (threshold) locations, the function will use eRm's CML PCM to automatically calculate the item parameters based on the dataframe input.</span>
<span id="cb85-958"><a href="#cb85-958" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-961"><a href="#cb85-961" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-962"><a href="#cb85-962" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(furrr) <span class="co"># for a parallel processing version of purrr::map_dbl</span></span>
<span id="cb85-963"><a href="#cb85-963" aria-hidden="true" tabindex="-1"></a>df2<span class="sc">$</span>personScores <span class="ot">&lt;-</span> <span class="fu">RIestThetas2</span>(df2, <span class="at">cpu =</span> <span class="dv">8</span>)</span>
<span id="cb85-964"><a href="#cb85-964" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-965"><a href="#cb85-965" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-966"><a href="#cb85-966" aria-hidden="true" tabindex="-1"></a><span class="in">`RIestThetas()`</span> can also be used with a pre-specified item (threshold) location matrix. The choice of WL as default is due to the lower bias compared to ML estimation <span class="co">[</span><span class="ot">@warm1989</span><span class="co">]</span>. Similarly to <span class="in">`RIscoreSE()`</span> you can change the range of logit scores, using the option <span class="in">`theta_range`</span> (default is <span class="in">`c(-4,4)`</span>).</span>
<span id="cb85-967"><a href="#cb85-967" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-968"><a href="#cb85-968" aria-hidden="true" tabindex="-1"></a>If you would like to use an existing item matrix, this code may be helpful:</span>
<span id="cb85-969"><a href="#cb85-969" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-972"><a href="#cb85-972" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-973"><a href="#cb85-973" aria-hidden="true" tabindex="-1"></a>itemParameters <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"itemParameters.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb85-974"><a href="#cb85-974" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>()</span>
<span id="cb85-975"><a href="#cb85-975" aria-hidden="true" tabindex="-1"></a>itemParameters</span>
<span id="cb85-976"><a href="#cb85-976" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-977"><a href="#cb85-977" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-978"><a href="#cb85-978" aria-hidden="true" tabindex="-1"></a>As you can see, this is a matrix object (not a dataframe), with each item as a row, and the threshold locations as columns.</span>
<span id="cb85-979"><a href="#cb85-979" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-980"><a href="#cb85-980" aria-hidden="true" tabindex="-1"></a>Finally, we'll look at the distribution of person scores using a simple histogram.</span>
<span id="cb85-981"><a href="#cb85-981" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-984"><a href="#cb85-984" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-985"><a href="#cb85-985" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df2<span class="sc">$</span>personScores, <span class="at">col =</span> <span class="st">"#009ca6"</span>)</span>
<span id="cb85-986"><a href="#cb85-986" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-987"><a href="#cb85-987" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-988"><a href="#cb85-988" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Estimating individual measurement error</span></span>
<span id="cb85-989"><a href="#cb85-989" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-990"><a href="#cb85-990" aria-hidden="true" tabindex="-1"></a>Each individual has a standard error of measurement associated with their estimated location/score. This has not yet been implemented as a function in this package, but can be calculated using the following code, using the <span class="in">`semTheta()`</span> function from <span class="in">`library(catR)`</span>:</span>
<span id="cb85-991"><a href="#cb85-991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-994"><a href="#cb85-994" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-995"><a href="#cb85-995" aria-hidden="true" tabindex="-1"></a>df2<span class="sc">$</span>personSEM <span class="ot">&lt;-</span> <span class="fu">map_vec</span>(df2<span class="sc">$</span>personScores, <span class="sc">~</span> <span class="fu">semTheta</span>(<span class="at">thEst =</span> .x,</span>
<span id="cb85-996"><a href="#cb85-996" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">it =</span> itemParameters,</span>
<span id="cb85-997"><a href="#cb85-997" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">model =</span> <span class="st">"PCM"</span>,</span>
<span id="cb85-998"><a href="#cb85-998" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">method =</span> <span class="st">"WL"</span>,</span>
<span id="cb85-999"><a href="#cb85-999" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">range =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb85-1000"><a href="#cb85-1000" aria-hidden="true" tabindex="-1"></a>                                                      ))</span>
<span id="cb85-1001"><a href="#cb85-1001" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1002"><a href="#cb85-1002" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1003"><a href="#cb85-1003" aria-hidden="true" tabindex="-1"></a>The function <span class="in">`map_vec()`</span> allows us to apply a function to all variables in a vector. As you can see, the first argument is the vector of estimated person locations, then we use the <span class="in">`semTheta()`</span> function from <span class="in">`catR`</span> to calculate the standard error of measurement for each individual. The <span class="in">`it`</span> argument is the item parameters matrix, and the <span class="in">`range`</span> argument is the range of logit scores. The range should match the range set when estimating the person locations with <span class="in">`RIestThetas()`</span>, and -4 to 4 is the default setting for both functions.</span>
<span id="cb85-1004"><a href="#cb85-1004" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1005"><a href="#cb85-1005" aria-hidden="true" tabindex="-1"></a><span class="fu">## Figure design</span></span>
<span id="cb85-1006"><a href="#cb85-1006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1007"><a href="#cb85-1007" aria-hidden="true" tabindex="-1"></a>Most of the figures created by the functions can be styled (colors, fonts, etc) by adding theme settings to them. You can use the standard ggplot function <span class="in">`theme()`</span> and related theme-functions. As usual it is possible to "stack" theme functions, as seen in the example below.</span>
<span id="cb85-1008"><a href="#cb85-1008" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1009"><a href="#cb85-1009" aria-hidden="true" tabindex="-1"></a>You can also change coloring, axis limits/breaks, etc, just by adding ggplot options with a <span class="in">`+`</span> sign.</span>
<span id="cb85-1010"><a href="#cb85-1010" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1011"><a href="#cb85-1011" aria-hidden="true" tabindex="-1"></a>A custom theme function, <span class="in">`theme_rise()`</span>, is included in the RISEkbmRasch package. It might be easier to use if you are not familiar with <span class="in">`theme()`</span>.</span>
<span id="cb85-1012"><a href="#cb85-1012" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1013"><a href="#cb85-1013" aria-hidden="true" tabindex="-1"></a>For instance, you might like to change the font to "Lato" for the item hierarchy figure, and make the background transparent.</span>
<span id="cb85-1014"><a href="#cb85-1014" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1017"><a href="#cb85-1017" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-1018"><a href="#cb85-1018" aria-hidden="true" tabindex="-1"></a><span class="co"># first we need to remove the `personScores` and `personSEM` variable from the `df2` dataframe, to ensure that `df2` contains only item data before using it with the item hierarchy function.</span></span>
<span id="cb85-1019"><a href="#cb85-1019" aria-hidden="true" tabindex="-1"></a>df2<span class="sc">$</span>personScores <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb85-1020"><a href="#cb85-1020" aria-hidden="true" tabindex="-1"></a>df2<span class="sc">$</span>personSEM <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb85-1021"><a href="#cb85-1021" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1022"><a href="#cb85-1022" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2) <span class="sc">+</span></span>
<span id="cb85-1023"><a href="#cb85-1023" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="co"># first apply the minimal theme to make the background transparent</span></span>
<span id="cb85-1024"><a href="#cb85-1024" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_rise</span>(<span class="at">fontfamily =</span> <span class="st">"Lato"</span>) <span class="co"># then apply theme_rise, which simplifies making changes to all plot elements</span></span>
<span id="cb85-1025"><a href="#cb85-1025" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb85-1026"><a href="#cb85-1026" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1027"><a href="#cb85-1027" aria-hidden="true" tabindex="-1"></a>As of package version 0.1.30.0, the <span class="in">`RItargeting()`</span> function allows more flexibility in styling too, by having an option to return a list object with the three separate plots. See the <span class="co">[</span><span class="ot">NEWS</span><span class="co">](https://github.com/pgmj/RISEkbmRasch/blob/main/NEWS.md#01300)</span> file for more details.</span>
<span id="cb85-1028"><a href="#cb85-1028" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1029"><a href="#cb85-1029" aria-hidden="true" tabindex="-1"></a>In order to change font for text inside plots you will need to add an additional line of code.</span>
<span id="cb85-1030"><a href="#cb85-1030" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1031"><a href="#cb85-1031" aria-hidden="true" tabindex="-1"></a><span class="in">``` r</span></span>
<span id="cb85-1032"><a href="#cb85-1032" aria-hidden="true" tabindex="-1"></a><span class="fu">update_geom_defaults</span>(<span class="st">"text"</span>, <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Lato))</span></span>
<span id="cb85-1033"><a href="#cb85-1033" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb85-1034"><a href="#cb85-1034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1035"><a href="#cb85-1035" aria-hidden="true" tabindex="-1"></a><span class="st">Please note that this updates the default settings for `geom_text()` for the whole session. Also, some functions, such as `RIloadLoc()` make use of `geom_text_repel()`, for which you would need to change the function above from "</span>text<span class="st">" to "</span>text_repel<span class="st">".</span></span>
<span id="cb85-1036"><a href="#cb85-1036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1037"><a href="#cb85-1037" aria-hidden="true" tabindex="-1"></a><span class="st">A simple way to only change font family and font size would be to use `theme_minimal(base_family = "</span>Calibri<span class="st">", base_size = 14)`. Please see the [reference page](https://ggplot2.tidyverse.org/reference/ggtheme.html) for default ggplot themes for alternatives to `theme_minimal()`.</span></span>
<span id="cb85-1038"><a href="#cb85-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1039"><a href="#cb85-1039" aria-hidden="true" tabindex="-1"></a><span class="st">## Software used</span></span>
<span id="cb85-1040"><a href="#cb85-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1041"><a href="#cb85-1041" aria-hidden="true" tabindex="-1"></a><span class="st">The `grateful` package is a nice way to give credit to the packages used in making the analysis. The package can create both a bibliography file and a table object, which is handy for automatically creating a reference list based on the packages used (or at least explicitly loaded).</span></span>
<span id="cb85-1042"><a href="#cb85-1042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1045"><a href="#cb85-1045" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb85-1046"><a href="#cb85-1046" aria-hidden="true" tabindex="-1"></a><span class="st">library(grateful)</span></span>
<span id="cb85-1047"><a href="#cb85-1047" aria-hidden="true" tabindex="-1"></a><span class="st">pkgs &lt;- cite_packages(cite.tidyverse = TRUE, </span></span>
<span id="cb85-1048"><a href="#cb85-1048" aria-hidden="true" tabindex="-1"></a><span class="st">                      output = "</span>table<span class="st">",</span></span>
<span id="cb85-1049"><a href="#cb85-1049" aria-hidden="true" tabindex="-1"></a><span class="st">                      bib.file = "</span>grateful<span class="sc">-</span>refs.bib<span class="st">",</span></span>
<span id="cb85-1050"><a href="#cb85-1050" aria-hidden="true" tabindex="-1"></a><span class="st">                      include.RStudio = TRUE,</span></span>
<span id="cb85-1051"><a href="#cb85-1051" aria-hidden="true" tabindex="-1"></a><span class="st">                      out.dir = getwd())</span></span>
<span id="cb85-1052"><a href="#cb85-1052" aria-hidden="true" tabindex="-1"></a><span class="st"># If kbl() is used to generate this table, the references will not be added to the Reference list.</span></span>
<span id="cb85-1053"><a href="#cb85-1053" aria-hidden="true" tabindex="-1"></a><span class="st">formattable(pkgs, </span></span>
<span id="cb85-1054"><a href="#cb85-1054" aria-hidden="true" tabindex="-1"></a><span class="st">            table.attr = 'class=</span><span class="sc">\"</span><span class="st">table table-striped</span><span class="sc">\"</span><span class="st"> style="</span>font<span class="sc">-</span>size<span class="sc">:</span> 13px; font<span class="sc">-</span>family<span class="sc">:</span> Lato; width<span class="sc">:</span> <span class="dv">80</span>%<span class="st">"')</span></span>
<span id="cb85-1055"><a href="#cb85-1055" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb85-1056"><a href="#cb85-1056" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1057"><a href="#cb85-1057" aria-hidden="true" tabindex="-1"></a><span class="st">## Additional credits</span></span>
<span id="cb85-1058"><a href="#cb85-1058" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1059"><a href="#cb85-1059" aria-hidden="true" tabindex="-1"></a><span class="st">Thanks to my [colleagues at RISE](https://www.ri.se/en/what-we-do/projects/center-for-category-based-measurements) for providing feedback and testing the package on Windows and MacOS platforms. Also, thanks to [Mike Linacre](https://www.winsteps.com/linacre.htm) and [Jeanette Melin](https://www.ri.se/en/person/jeanette-melin) for providing useful feedback to improve this vignette.</span></span>
<span id="cb85-1060"><a href="#cb85-1060" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-1061"><a href="#cb85-1061" aria-hidden="true" tabindex="-1"></a><span class="st">## References</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>