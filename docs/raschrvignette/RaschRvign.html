<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Magnus Johansson">
<meta name="dcterms.date" content="2022-12-19">

<title>R, Rasch, etc - RISEkbmRasch</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">R, Rasch, etc</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../raschrvignette/RaschRvign.html" aria-current="page">
 <span class="menu-text">RISEkbmRasch</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link active" data-scroll-target="#getting-started"><span class="toc-section-number">1</span>  Getting started</a>
  <ul class="collapse">
  <li><a href="#loading-data" id="toc-loading-data" class="nav-link" data-scroll-target="#loading-data"><span class="toc-section-number">1.1</span>  Loading data</a></li>
  <li><a href="#itemlabels" id="toc-itemlabels" class="nav-link" data-scroll-target="#itemlabels"><span class="toc-section-number">1.2</span>  Itemlabels</a></li>
  <li><a href="#demographics-and-invariance" id="toc-demographics-and-invariance" class="nav-link" data-scroll-target="#demographics-and-invariance"><span class="toc-section-number">1.3</span>  Demographics and invariance</a></li>
  </ul></li>
  <li><a href="#descriptives" id="toc-descriptives" class="nav-link" data-scroll-target="#descriptives"><span class="toc-section-number">2</span>  Descriptives</a>
  <ul class="collapse">
  <li><a href="#overall-responses" id="toc-overall-responses" class="nav-link" data-scroll-target="#overall-responses"><span class="toc-section-number">2.1</span>  Overall responses</a></li>
  <li><a href="#item-level-descriptives" id="toc-item-level-descriptives" class="nav-link" data-scroll-target="#item-level-descriptives"><span class="toc-section-number">2.2</span>  Item level descriptives</a></li>
  </ul></li>
  <li><a href="#rasch-analysis-1" id="toc-rasch-analysis-1" class="nav-link" data-scroll-target="#rasch-analysis-1"><span class="toc-section-number">3</span>  Rasch analysis 1</a></li>
  <li><a href="#rasch-analysis-2" id="toc-rasch-analysis-2" class="nav-link" data-scroll-target="#rasch-analysis-2"><span class="toc-section-number">4</span>  Rasch analysis 2</a></li>
  <li><a href="#invariancedif" id="toc-invariancedif" class="nav-link" data-scroll-target="#invariancedif"><span class="toc-section-number">5</span>  Invariance/DIF</a>
  <ul class="collapse">
  <li><a href="#sex" id="toc-sex" class="nav-link" data-scroll-target="#sex"><span class="toc-section-number">5.1</span>  Sex</a></li>
  <li><a href="#age" id="toc-age" class="nav-link" data-scroll-target="#age"><span class="toc-section-number">5.2</span>  Age</a></li>
  <li><a href="#group" id="toc-group" class="nav-link" data-scroll-target="#group"><span class="toc-section-number">5.3</span>  Group</a></li>
  <li><a href="#sex-and-age" id="toc-sex-and-age" class="nav-link" data-scroll-target="#sex-and-age"><span class="toc-section-number">5.4</span>  Sex and age</a></li>
  </ul></li>
  <li><a href="#rasch-analysis-3" id="toc-rasch-analysis-3" class="nav-link" data-scroll-target="#rasch-analysis-3"><span class="toc-section-number">6</span>  Rasch analysis 3</a></li>
  <li><a href="#rasch-analysis-4" id="toc-rasch-analysis-4" class="nav-link" data-scroll-target="#rasch-analysis-4"><span class="toc-section-number">7</span>  Rasch analysis 4</a></li>
  <li><a href="#reliability" id="toc-reliability" class="nav-link" data-scroll-target="#reliability"><span class="toc-section-number">8</span>  Reliability</a></li>
  <li><a href="#person-fit" id="toc-person-fit" class="nav-link" data-scroll-target="#person-fit"><span class="toc-section-number">9</span>  Person fit</a></li>
  <li><a href="#item-parameters" id="toc-item-parameters" class="nav-link" data-scroll-target="#item-parameters"><span class="toc-section-number">10</span>  Item parameters</a>
  <ul class="collapse">
  <li><a href="#ordinal-sum-score-to-interval-score" id="toc-ordinal-sum-score-to-interval-score" class="nav-link" data-scroll-target="#ordinal-sum-score-to-interval-score"><span class="toc-section-number">10.1</span>  Ordinal sum score to interval score</a></li>
  </ul></li>
  <li><a href="#software-used" id="toc-software-used" class="nav-link" data-scroll-target="#software-used"><span class="toc-section-number">11</span>  Software used</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="toc-section-number">12</span>  References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">RISEkbmRasch</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead">An R package vignette</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    Magnus Johansson <a href="https://orcid.org/0000-0003-1669-592X" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://www.ri.se/sv/vad-vi-gor/expertiser/kategoriskt-baserade-matningar">
            RISE Research Institutes of Sweden
            </a>
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 19, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>This is a work-in-progress to create a proper vignette to introduce how to make use of the <a href="https://github.com/pgmj/RISEkbmRasch">RISEkbmRasch R package</a>.</p>
<p>Details on installation is at the package link above. This vignette will walk through a sample analysis using an open dataset with questionnaire data. This will include some data wrangling to structure the item data and itemlabels, then provide examples of the different functions. The full source code of this document can be found either <a href="https://github.com/pgmj/pgmj.github.io/blob/main/raschrvignette/RaschRvign.qmd">in this repository</a> or by clicking on <strong>&lt;/&gt; CODE</strong> at the top beside the table of contents.</p>
<p>One of the aims with this package is to simplify psychometric analysis to shed light on the measurement properties of a scale. In a forthcoming paper (preprint should be out in January 2023 and the link will be added here), our research group propose that the basic aspects of a psychometric analysis should include information about:</p>
<ul>
<li>Unidimensionality</li>
<li>Response categories</li>
<li>Invariance</li>
<li>Targeting</li>
<li>Measurement uncertainties (reliability)</li>
</ul>
<p>We’ll include several ways to investigate these measurement properties, using Rasch Measurement Theory.</p>
<section id="getting-started" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="getting-started"><span class="header-section-number">1</span> Getting started</h2>
<p>Since the package is intended for use with Quarto, this vignette has also been created with Quarto. A “template” .qmd file is available (insert link later) that is suggested to have at hand for copy&amp;paste when running a new analysis.</p>
<p>Loading the package should also get all the dependencies loaded. You may need to make sure that ggplot2 is updated to version 3.4.0 or later.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-1_da79fb0d10beb6544ee2478f97aecae4">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RISEkbmRasch) <span class="co"># devtools::install_github("pgmj/RISEkbmRasch")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="do">### some commands exist in multiple packages, here we define preferred ones that are frequently used</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>select <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>select</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>count</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>recode <span class="ot">&lt;-</span> car<span class="sc">::</span>recode</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>rename <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>rename</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="do">### set up color palette based on RISE guidelines</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>RISEprimGreen <span class="ot">&lt;-</span> <span class="st">"#009ca6"</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>RISEprimRed <span class="ot">&lt;-</span> <span class="st">"#e83c63"</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>RISEprimYellow <span class="ot">&lt;-</span> <span class="st">"#ffe500"</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>RISEprimGreenMid <span class="ot">&lt;-</span> <span class="st">"#8dc8c7"</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>RISEprimRedMid <span class="ot">&lt;-</span> <span class="st">"#f5a9ab"</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>RISEprimYellowMid <span class="ot">&lt;-</span> <span class="st">"#ffee8d"</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>RISEprimGreenLight <span class="ot">&lt;-</span> <span class="st">"#ebf5f0"</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>RISEprimRedLight <span class="ot">&lt;-</span> <span class="st">"#fde8df"</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>RISEprimYellowLight <span class="ot">&lt;-</span> <span class="st">"#fff7dd"</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>RISEcompPurple <span class="ot">&lt;-</span> <span class="st">"#482d55"</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>RISEcompGreenDark <span class="ot">&lt;-</span> <span class="st">"#0e4e65"</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>RISEgrey1 <span class="ot">&lt;-</span> <span class="st">"#f0f0f0"</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>RISEgrey2 <span class="ot">&lt;-</span> <span class="st">"#c8c8c8"</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>RISEgrey3 <span class="ot">&lt;-</span> <span class="st">"#828282"</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>RISEgrey4 <span class="ot">&lt;-</span> <span class="st">"#555555"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="loading-data" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="loading-data"><span class="header-section-number">1.1</span> Loading data</h3>
<p>We will use data from a recent paper investigating the “initial elevation effect” <span class="citation" data-cites="anvari2022">(<a href="#ref-anvari2022" role="doc-biblioref">Anvari et al. 2022</a>)</span>, and focus on the 10 negative items from the PANAS. The data is available at the OSF website.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-2_9da1bae082e1e7b08c9d78977a59a6ef">

</div>
</section>
<section id="itemlabels" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="itemlabels"><span class="header-section-number">1.2</span> Itemlabels</h3>
<p>Then we set up the itemlabels dataframe. This could also be done using the free LibreOffice Calc or MS Excel. Just make sure the file has the same structure, with two variables named <code>itemnr</code> and <code>item</code> that contain the item names and item description. The item names have to match the variable names in the item dataframe.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-3_e41f4075eef865c089d7b596860ea843">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>itemlabels <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"PAN"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(value, <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">"item"</span>), <span class="at">sep =</span><span class="st">"_[0-9][0-9]_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">itemnr =</span> <span class="fu">paste0</span>(<span class="st">"PANAS_"</span>,<span class="fu">c</span>(<span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>)), <span class="at">.before =</span> <span class="st">"item"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="demographics-and-invariance" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="demographics-and-invariance"><span class="header-section-number">1.3</span> Demographics and invariance</h3>
<p>Variables for invariance tests such as Differential Item Functioning need to be separated into vectors (ideally as factors with specified labels and levels) with the same length as the number of rows in the dataset. This means that any kind of removal of respondents with missing data needs to be done before separating the DIF variables.</p>
<p>Let’s first see whether any data is missing.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-4_0ce57f41483341855fcb162585169afe">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"PAN"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Missing =</span> <span class="fu">rowSums</span>(<span class="fu">is.na</span>(.))) <span class="sc">%&gt;%</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Missing) <span class="sc">%&gt;%</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Missing)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"Item"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Percentage =</span> Missing<span class="sc">/</span><span class="fu">nrow</span>(df)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Item =</span> <span class="fu">factor</span>(Item, <span class="at">levels =</span> <span class="fu">rev</span>(Item))) <span class="sc">%&gt;%</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Item, <span class="at">y =</span> Percentage)) <span class="sc">+</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Missing data per item"</span>) <span class="sc">+</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Items"</span>) <span class="sc">+</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Percentage of responses missing"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>No missing data, which makes this easier. We also need to check how the <code>Sex</code> variable has been coded and which responses are present in the data.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-5_d1c25142123822366e790ef72260d1a7">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 1
  Sex              
  &lt;chr&gt;            
1 Male             
2 Female           
3 CONSENT REVOKED  
4 Prefer not to say
5 DATA EXPIRED     </code></pre>
</div>
</div>
<p>We’ll recode all responses apart from Male/Female as missing (NA).</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-6_45b77d29f5d5ddb7db792713cc1e5b40">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Sex <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(df<span class="sc">$</span>Sex,<span class="st">"'CONSENT REVOKED'=NA;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="st">                      'Prefer not to say'=NA;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="st">                      'DATA EXPIRED'=NA"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>dif.sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>Sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now we can make use of a very simple function included in this package!</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-7_592fb5e0e90cb5001b896b1d8f91d49a">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdemographics</span>(dif.sex, <span class="st">"Sex"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table style="width:40%; font-size: 15px;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;" class="table table-striped table-hover lightable-classic table">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Sex </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> n </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Percent </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> Female </td>
   <td style="text-align:right;"> 896 </td>
   <td style="text-align:right;"> 48.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> Male </td>
   <td style="text-align:right;"> 955 </td>
   <td style="text-align:right;"> 51.6 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>And remove the DIF variable from the item dataset.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-8_6c8b6565d03f14c70b110863f3bc680e">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Sex <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s move on to the age variable.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-9_d9ea717b17e6968a655a5f387e5e0267">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df<span class="sc">$</span>age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:1856] 27 32 21 27 20 22 23 25 21 26 ...</code></pre>
</div>
</div>
<p>Sometimes age is provided in categories, but here we have a numeric variable with age in years. Let’s have a quick look at the age distribution using a histogram, and calculate mean, sd and range.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-10_b863535268e307e45988ebbfc71e4dff">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">### simpler version of the ggplot below</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># hist(df$age, col = "#009ca6")</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># df %&gt;% </span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(Mean = round(mean(age, na.rm = T),1),</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#             StDev = round(sd(age, na.rm = T),1)</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#             )</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df) <span class="sc">+</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> age), </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">"#009ca6"</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">col =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(df<span class="sc">$</span>age), </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">linewidth =</span> <span class="fl">1.5</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="dv">2</span>,</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">col =</span> <span class="st">"#ffe500"</span>) <span class="sc">+</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="cn">Inf</span>, </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">xmin =</span> (<span class="fu">mean</span>(df<span class="sc">$</span>age) <span class="sc">-</span> <span class="fu">sd</span>(df<span class="sc">$</span>age)), <span class="at">xmax =</span> (<span class="fu">mean</span>(df<span class="sc">$</span>age) <span class="sc">+</span> <span class="fu">sd</span>(df<span class="sc">$</span>age)), </span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> .<span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age in years"</span>,</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of respondents"</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="fu">glue</span>(<span class="st">"Note. Mean age is {round(mean(df$age, na.rm = T),1)} years with a standard deviation of {round(sd(df$age, na.rm = T),1)}. Age range is {min(df$age)} to {max(df$age)}."</span>)</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">face =</span> <span class="st">"italic"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>Age also needs to be a separate vector, and removed from the item dataframe.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-11_16db8de1c09dcd5c1904e19718a17551">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>dif.age <span class="ot">&lt;-</span> df<span class="sc">$</span>age</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>There is also a grouping variable which needs to be converted to a factor.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-12_3443c126b0c12f5c8094b0f5f39d8d27">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>dif.group <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>Group)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Group <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdemographics</span>(dif.group, <span class="st">"Group"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table style="width:40%; font-size: 15px;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;" class="table table-striped table-hover lightable-classic table">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Group </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> n </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Percent </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> Earlier Start </td>
   <td style="text-align:right;"> 903 </td>
   <td style="text-align:right;"> 48.7 </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> Later Start </td>
   <td style="text-align:right;"> 953 </td>
   <td style="text-align:right;"> 51.3 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>With only item data remaining in the dataframe, we can easily rename the items in the item dataframe. These names match the <code>itemlabels</code> variable <code>itemnr</code>.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-13_42773b4cb0da3ccb5efce16f42dd0c54">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> itemlabels<span class="sc">$</span>itemnr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now we are all set for the psychometric analysis!</p>
</section>
</section>
<section id="descriptives" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="descriptives"><span class="header-section-number">2</span> Descriptives</h2>
<p>First, let’s familiarize ourselves with the data.</p>
<section id="overall-responses" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="overall-responses"><span class="header-section-number">2.1</span> Overall responses</h3>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-14_d60589978fcc2bb745a55713d4a6cb63">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIallresp</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped" style="font-size: 15px;
                  font-family: Lato; width: 50%">
<thead>
<tr>
<th style="text-align:right;">
Response category
</th>
<th style="text-align:right;">
Number of responses
</th>
<th style="text-align:right;">
Percent
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">1</span>
</td>
<td style="text-align:right;">
9444
</td>
<td style="text-align:right;">
50.9
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">2</span>
</td>
<td style="text-align:right;">
4147
</td>
<td style="text-align:right;">
22.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">3</span>
</td>
<td style="text-align:right;">
2689
</td>
<td style="text-align:right;">
14.5
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">4</span>
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
9.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">5</span>
</td>
<td style="text-align:right;">
548
</td>
<td style="text-align:right;">
3.0
</td>
</tr>
</tbody>

</table>
</div>
</div>
<p>The Rasch model requires the lowest response category to be zero, which makes it necessary for us to recode our data from 1-5 to 0-4.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-15_5689720d1b3777d31c6a0b19d46af3fe">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> car<span class="sc">::</span><span class="fu">recode</span>(.x, <span class="st">"1=0;2=1;3=2;4=3;5=4"</span>, <span class="at">as.factor =</span> F)))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">RIallresp</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped" style="font-size: 15px;
                  font-family: Lato; width: 50%">
<thead>
<tr>
<th style="text-align:right;">
Response category
</th>
<th style="text-align:right;">
Number of responses
</th>
<th style="text-align:right;">
Percent
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">0</span>
</td>
<td style="text-align:right;">
9444
</td>
<td style="text-align:right;">
50.9
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">1</span>
</td>
<td style="text-align:right;">
4147
</td>
<td style="text-align:right;">
22.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">2</span>
</td>
<td style="text-align:right;">
2689
</td>
<td style="text-align:right;">
14.5
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">3</span>
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
9.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">4</span>
</td>
<td style="text-align:right;">
548
</td>
<td style="text-align:right;">
3.0
</td>
</tr>
</tbody>

</table>
</div>
</div>
<section id="floorceiling-effects" class="level4" data-number="2.1.1">
<h4 data-number="2.1.1" class="anchored" data-anchor-id="floorceiling-effects"><span class="header-section-number">2.1.1</span> Floor/ceiling effects</h4>
<p>Now, we can also look at the raw distribution of sum scores. The <code>RIrawdist()</code> function is a bit crude, since it requires responses in all response categories to accurately calculate max and min scores.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-16_b1d16dc9f9d926993091f19d151ce876">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIrawdist</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>We can see a floor effect with 11.8% of participants responding in the lowest category for all items.</p>
</section>
<section id="guttman-structure" class="level4" data-number="2.1.2">
<h4 data-number="2.1.2" class="anchored" data-anchor-id="guttman-structure"><span class="header-section-number">2.1.2</span> Guttman structure</h4>
<p>While not really necessary, it could be interesting to see whether the response patterns follow a Guttman-like structure. Items and persons are sorted based on lower-&gt;higher responses, and we should see the color move from yellow in the lower left corner to blue in the upper right corner.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-17_e4266204c7b8b7a7195dcc6584182568">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIheatmap</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>In this data, we see the floor effect on the left, with 11.8% of respondents all yellow, and a rather weak Guttman structure. This could also be due to a low variation in item locations/difficulties.</p>
</section>
</section>
<section id="item-level-descriptives" class="level3 page-columns page-full" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="item-level-descriptives"><span class="header-section-number">2.2</span> Item level descriptives</h3>
<p>There are many ways to look at the item level data, and we’ll get them all together in the tab-panel below. The <code>RItileplot()</code> is probably most informative, since it provides the number of responses in each response category for each item. It is usually recommended to have at least ~10 responses in each category for psychometric analysis, no matter which methodology is used.</p>
<p>Most people will be familiar with the barplot, and this is probably most intuitive to understand the response distribution within each item. However, if there are many items it will take a while to review, and does not provide the same overview as a tileplot or stacked bars.</p>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-18_2779911ceae81971967b5cc8e21ab810">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this code chunk creates a small table in the margin beside the panel-tabset output below,</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># showing all items currently in the df dataframe</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># the chunk option "#| column: margin" is necessary for the layout to work as intended</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df, <span class="at">fontsize =</span> <span class="dv">13</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead>
<tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_15</span>
</td>
<td style="text-align:left;">
Scared
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_18</span>
</td>
<td style="text-align:left;">
Guilty
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>

</table>
</div></div></div>
<div class="column-page-left">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Tile plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Stacked bars</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Barplots</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-19_06e2b35a5b0eaaf9c74d4699aaec28dc">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RItileplot</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-20_7e623020f1e746567de5faff86dc1f48">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIbarstack</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIbarplot</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel" data-hash="RaschRvign_cache/html/unnamed-chunk-21_8a37c99fa634168af703373589220ce4">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-2.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-3.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-4.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-5.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-6.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-7.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-8.png" class="img-fluid" width="1050"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-9.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-21-10.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>While response patterns are skewed for all items, there are more than 10 responses in each category for all items.</p>
</section>
</section>
<section id="rasch-analysis-1" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="rasch-analysis-1"><span class="header-section-number">3</span> Rasch analysis 1</h2>
<p>The eRm package and Conditional Maximum Likelihood (CML) estimation will be used primarily, with the Partial Credit Model.</p>
<p>This is also where the five basic psychometric aspects are good to recall.</p>
<ul>
<li>Unidimensionality</li>
<li>Response categories</li>
<li>Invariance</li>
<li>Targeting</li>
<li>Measurement uncertainties (reliability)</li>
</ul>
<p>We will look at all except invariance and reliability in parallel below. For unidimensionality, we are mostly interested in item fit and residual correlations, as well as PCA of residuals and loadings on the first residual contrast. At the same time, disordered response categories can influence item fit, and targeting can be useful if it is necessary to remove items due to residual correlations.</p>
<p>When unidimensionality and response categories are found to work adequately, we will move on to invariance testing. And when/if invariance looks good, we can investigate reliability/measurement uncertainties.</p>
<p>In the tabset-panel below, each tab will have some explanatory text.</p>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-22_c096cb323e5219cdd9ce2a89b3622a5e">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead>
<tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_15</span>
</td>
<td style="text-align:left;">
Scared
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_18</span>
</td>
<td style="text-align:left;">
Guilty
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>

</table>
</div></div></div>
<div class="column-page-left">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Item fit</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">PCA</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Residual correlations</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">1st contrast loadings</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false">Analysis of response categories</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-6" role="tab" aria-controls="tabset-2-6" aria-selected="false">Targeting</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-7" role="tab" aria-controls="tabset-2-7" aria-selected="false">Item hierarchy</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="smaller tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-23_3b14fcdab3404722d85a06e90d09cb2d">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df, <span class="dv">300</span>, <span class="dv">32</span>, <span class="at">cpu =</span> <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover lightable-classic table" style="font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> OutfitZSTD </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> InfitZSTD </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.146</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.105</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.781</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.332</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.776</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.776</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.972</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.573</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.237</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.091</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.364</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.926</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.01</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.979</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.145</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_15 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.664</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.724</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.63</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-3.323</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.71</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.736</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.419</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-3.038</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.839</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.872</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.047</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.103</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_18 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.061</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.426</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.322</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.844</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.844</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.793</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.056</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.121</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.231</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.359</span> </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Since we have a sample size over 500, ZSTD item fit values would be inflated if we use the whole sample. To better estimate accurate ZSTD values the <code>RIitemfitPCM()</code> function allows for multiple subsampling. It is recommended to use a sample size between 250 and 500 <span class="citation" data-cites="hagell2016">(<a href="#ref-hagell2016" role="doc-biblioref">Hagell and Westergren 2016</a>)</span>. We will set the sample size to 300 and run 32 subsamples. For faster processing, <code>RIitemfitPCM2()</code> enables parallel processing with multiple CPUs/cores.</p>
<p>“Outfit” refers to item fit when person location is relatively far away from the item location, while “infit” provides estimates for when person and item locations are close together. MSQ should be close to 1, with lower and upper cutoffs set to 0.7 and 1.3, while ZSTD should be around 0, with cutoffs set to +/- 2.0. Infit is usually more important.</p>
<p>A low item fit indicates that responses are too predictable and provide little information. A high item fit can indicate several things, most often multidimensionality or, for questionnaires, a question that is difficult to interpret. This could for instance be a question that asks about two things at the same time.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-24_1ece1b1d22dbf61eed23e61c4686e5e2">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIpcmPCA</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table style="width:25%; font-size: 15px;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;" class="table table-striped table-hover lightable-classic table"><caption>PCA of Rasch model residuals</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> Eigenvalues </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.79 </td>
  </tr>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.46 </td>
  </tr>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.28 </td>
  </tr>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.14 </td>
  </tr>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.06 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>The first eigenvalue should be below 2.0.</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-25_e99d5ac2dae3dfdb9ae600106fa0e7ef">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table style="width:70%; font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table-striped table-hover lightable-classic table">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_11 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_12 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_13 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_14 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_15 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_16 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_17 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_18 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_19 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_20 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.1</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.05</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.01</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.11</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.07</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_15 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.14</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.29</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.17</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.1</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.25</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.27</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.39</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.08</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_18 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.32</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.12</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.25</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.14</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.1</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.08</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.21</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.12</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.06</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.07</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.05</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.08</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Relative cut-off value (highlighted in red) is 0.098, which is 0.2 above the average correlation.</td></tr>
</tfoot>
</table>

</div>
</div>
<p>The matrix above shows item-pair correlations of item residuals, with highlights in red showing correlations 0.2 or more above the average item-pair correlation (for all item-pairs) <span class="citation" data-cites="christensen2017">(<a href="#ref-christensen2017" role="doc-biblioref">Christensen, Makransky, and Horton 2017</a>)</span>.</p>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-26_289fc67d3adcf222a050ea4cc97800a0">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIloadLoc</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>This figure can be helpful to identify clusters in data or multidimensionality.</p>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-27_9b74aed0535db7ee3dcb8ec58e872bdf">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>mirt.rasch <span class="ot">&lt;-</span> <span class="fu">mirt</span>(df, <span class="at">model=</span><span class="dv">1</span>, <span class="at">itemtype=</span><span class="st">'Rasch'</span>) <span class="co"># unidimensional Rasch model</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Iteration: 1, Log-Lik: -21806.700, Max-Change: 1.28210
Iteration: 2, Log-Lik: -20090.274, Max-Change: 0.41468
Iteration: 3, Log-Lik: -20001.995, Max-Change: 0.22853
Iteration: 4, Log-Lik: -19963.053, Max-Change: 0.15826
Iteration: 5, Log-Lik: -19943.444, Max-Change: 0.12828
Iteration: 6, Log-Lik: -19932.996, Max-Change: 0.10259
Iteration: 7, Log-Lik: -19927.144, Max-Change: 0.08429
Iteration: 8, Log-Lik: -19923.589, Max-Change: 0.07035
Iteration: 9, Log-Lik: -19921.222, Max-Change: 0.05979
Iteration: 10, Log-Lik: -19915.642, Max-Change: 0.05282
Iteration: 11, Log-Lik: -19913.964, Max-Change: 0.01886
Iteration: 12, Log-Lik: -19913.621, Max-Change: 0.01948
Iteration: 13, Log-Lik: -19912.585, Max-Change: 0.01279
Iteration: 14, Log-Lik: -19912.469, Max-Change: 0.01202
Iteration: 15, Log-Lik: -19912.390, Max-Change: 0.01100
Iteration: 16, Log-Lik: -19912.108, Max-Change: 0.00810
Iteration: 17, Log-Lik: -19912.071, Max-Change: 0.00460
Iteration: 18, Log-Lik: -19912.054, Max-Change: 0.00478
Iteration: 19, Log-Lik: -19911.997, Max-Change: 0.00368
Iteration: 20, Log-Lik: -19911.989, Max-Change: 0.00226
Iteration: 21, Log-Lik: -19911.986, Max-Change: 0.00224
Iteration: 22, Log-Lik: -19911.974, Max-Change: 0.00183
Iteration: 23, Log-Lik: -19911.972, Max-Change: 0.00098
Iteration: 24, Log-Lik: -19911.971, Max-Change: 0.00102
Iteration: 25, Log-Lik: -19911.969, Max-Change: 0.00083
Iteration: 26, Log-Lik: -19911.968, Max-Change: 0.00046
Iteration: 27, Log-Lik: -19911.968, Max-Change: 0.00047
Iteration: 28, Log-Lik: -19911.967, Max-Change: 0.00039
Iteration: 29, Log-Lik: -19911.967, Max-Change: 0.00021
Iteration: 30, Log-Lik: -19911.967, Max-Change: 0.00021
Iteration: 31, Log-Lik: -19911.967, Max-Change: 0.00018
Iteration: 32, Log-Lik: -19911.967, Max-Change: 0.00010
Iteration: 33, Log-Lik: -19911.967, Max-Change: 0.00011
Iteration: 34, Log-Lik: -19911.967, Max-Change: 0.00009</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mirt.rasch, <span class="at">type=</span><span class="st">"trace"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>Each response category for each item should have a curve that indicates it to be the most probably response at some point on the latent variable (x axis in the figure).</p>
</div>
<div id="tabset-2-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-6-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-28_1fc6ff6dfaf4f1c3fd1d8fe10af5c65a">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># increase fig-height above as needed, if you have many items</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>This figure shows how well the items fit the respondents/persons. It is a sort of Wright Map that shows person and item threshold locations on the same logit scale.</p>
<p>The top part shows person location histogram, the middle part a histogram of item threshold locations, and the bottom part shows individual item threshold locations. The histograms also show means and standard deviations.</p>
</div>
<div id="tabset-2-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-7-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-29_c343045ebd68b1a663b964219506c4fb">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Item 18 has issues with the second lowest category, which needs to be merged with the lowest category.</p>
<p>Item 15 shows low item fit.</p>
<p>Two item-pairs have high residual correlations:</p>
<ul>
<li>15 and 16 (scared and afraid)</li>
<li>17 and 18 (ashamed and guilty)</li>
</ul>
<p>Since item 15 also had low fit, we will remove it. And since item 18 had problems with response categories, it will also be removed.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-30_3976d423bea38ab423831d74b728221f">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>removed.items <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PANAS_15"</span>,<span class="st">"PANAS_18"</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">any_of</span>(removed.items))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="rasch-analysis-2" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="rasch-analysis-2"><span class="header-section-number">4</span> Rasch analysis 2</h2>
<p>With items 15 and 18 removed.</p>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-31_66a5f504f5864779ddec4f3b41804739">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead>
<tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>

</table>
</div></div></div>
<div class="column-page-left">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Item fit</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">PCA</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Residual correlations</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">1st contrast loadings</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-5" role="tab" aria-controls="tabset-3-5" aria-selected="false">Targeting</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-6" role="tab" aria-controls="tabset-3-6" aria-selected="false">Item hierarchy</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="smaller tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-32_f32b6bd1ece5cf230a5edafa9f02d831">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df2, <span class="dv">300</span>, <span class="dv">32</span>, <span class="at">cpu =</span> <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover lightable-classic table" style="font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> OutfitZSTD </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> InfitZSTD </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.058</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.031</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.391</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.349</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.714</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.722</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.699</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-3.16</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.127</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.007</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.809</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.138</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.908</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.879</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.77</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.413</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.758</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.788</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.1</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.589</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.897</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.925</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.654</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.564</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.848</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.842</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.741</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.907</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.082</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.058</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.017</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.597</span> </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-33_9a9bc57ba1891df6b6d7d32e65b20dd2">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIpcmPCA</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table style="width:25%; font-size: 15px;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;" class="table table-striped table-hover lightable-classic table"><caption>PCA of Rasch model residuals</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> Eigenvalues </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.52 </td>
  </tr>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.33 </td>
  </tr>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.19 </td>
  </tr>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.15 </td>
  </tr>
  <tr>
   <td style="text-align:right;font-weight: bold;"> 1.00 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-34_75864b26f4d387ecec2e98030027b98a">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df2, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table style="width:70%; font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table-striped table-hover lightable-classic table">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_11 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_12 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_13 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_14 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_16 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_17 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_19 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_20 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.11</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.06</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.03</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.08</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.25</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.28</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.07</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.28</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.12</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.1</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.27</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.12</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.11</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Relative cut-off value (highlighted in red) is 0.071, which is 0.2 above the average correlation.</td></tr>
</tfoot>
</table>

</div>
</div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-35_038068a3694a41c77981905e7efed783">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIloadLoc</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-3-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-5-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-36_68052a9978b93840f0e1eb57d8050636">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># increase fig-height above as needed, if you have many items</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-3-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-6-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-37_4906d608a7f94f34fe533258410bf4b9">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Items 12 and 16 are a bit low in item fit ZSTD.</p>
<p>Items 16 and 19 have a residual correlation at about 0.25 above the average level.</p>
<p>Let’s look at DIF before taking action upon this information.</p>
</section>
<section id="invariancedif" class="level2 page-columns page-full" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="invariancedif"><span class="header-section-number">5</span> Invariance/DIF</h2>
<section id="sex" class="level3 page-columns page-full" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="sex"><span class="header-section-number">5.1</span> Sex</h3>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-38_9b1b726760aa5c20f4e4c9dfc98549a2">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead>
<tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>

</table>
</div></div></div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Table</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Figure items</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Figure thresholds</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-39_44136198f8daa0c37cf3f3939bcfcaa9">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable</span>(df2, dif.sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display">

<table class="table table-striped" style="font-size: 15px; font-family: Lato">
<thead>
<tr>
<th style="text-align:right;">
Item
</th>
<th style="text-align:right;">
2
</th>
<th style="text-align:right;">
3
</th>
<th style="text-align:right;">
Mean location
</th>
<th style="text-align:right;">
StDev
</th>
<th style="text-align:right;">
MaxDiff
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
PANAS_11
</td>
<td style="text-align:right;">
-0.314
</td>
<td style="text-align:right;">
-0.196
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.083
</td>
<td style="text-align:right;">
<span style="color: black">0.117</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_12
</td>
<td style="text-align:right;">
0.028
</td>
<td style="text-align:right;">
-0.044
</td>
<td style="text-align:right;">
-0.008
</td>
<td style="text-align:right;">
0.051
</td>
<td style="text-align:right;">
<span style="color: black">0.073</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_13
</td>
<td style="text-align:right;">
0.553
</td>
<td style="text-align:right;">
0.402
</td>
<td style="text-align:right;">
0.478
</td>
<td style="text-align:right;">
0.107
</td>
<td style="text-align:right;">
<span style="color: black">0.151</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_14
</td>
<td style="text-align:right;">
-0.328
</td>
<td style="text-align:right;">
-0.183
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.103
</td>
<td style="text-align:right;">
<span style="color: black">0.146</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_16
</td>
<td style="text-align:right;">
0.004
</td>
<td style="text-align:right;">
0.114
</td>
<td style="text-align:right;">
0.059
</td>
<td style="text-align:right;">
0.078
</td>
<td style="text-align:right;">
<span style="color: black">0.111</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_17
</td>
<td style="text-align:right;">
0.520
</td>
<td style="text-align:right;">
0.290
</td>
<td style="text-align:right;">
0.405
</td>
<td style="text-align:right;">
0.163
</td>
<td style="text-align:right;">
<span style="color: black">0.230</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_19
</td>
<td style="text-align:right;">
-0.495
</td>
<td style="text-align:right;">
-0.355
</td>
<td style="text-align:right;">
-0.425
</td>
<td style="text-align:right;">
0.099
</td>
<td style="text-align:right;">
<span style="color: black">0.140</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_20
</td>
<td style="text-align:right;">
0.032
</td>
<td style="text-align:right;">
-0.028
</td>
<td style="text-align:right;">
0.002
</td>
<td style="text-align:right;">
0.042
</td>
<td style="text-align:right;">
<span style="color: black">0.059</span>
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-40_7dc44cee1856dcb708202eb22d9cf361">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifFigure</span>(df2, dif.sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-41_5ab1d4398cc325a21bb759cb08d1a7e6">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifFigThresh</span>(df2, dif.sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
<p>While no item shows problematic levels of DIF regarding item location, as shown by the table, there is an interesting pattern in the thresholds figure. The lowest threshold seems to be slightly lower for node 3 (Male) for all items.</p>
<p>The results do not require any action.</p>
</section>
<section id="age" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="age"><span class="header-section-number">5.2</span> Age</h3>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-42_92110afba5d7dc11ddb793166b3263a3">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable</span>(df2, dif.age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No significant DIF found."</code></pre>
</div>
</div>
<p>No DIF found for age.</p>
</section>
<section id="group" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="group"><span class="header-section-number">5.3</span> Group</h3>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-43_3146980238bf2b8766705843d0adc77d">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable</span>(df2, dif.group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No significant DIF found."</code></pre>
</div>
</div>
<p>And no DIF for group.</p>
</section>
<section id="sex-and-age" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="sex-and-age"><span class="header-section-number">5.4</span> Sex and age</h3>
<p>While it has not been implemented in this package, the <code>psychotree</code> package allows for DIF interaction analysis between multiple DIF variables. This will also serve as an example of how to look at and modify a package function, if needed. Use <code>View(RIdifTable)</code> to view the code in the function.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-44_7366b886e811a9eb232b1786a7455d40">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>dfin <span class="ot">&lt;-</span> df2</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>df.tree <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">0</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(dfin)))</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>df.tree<span class="sc">$</span>difdata <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(dfin)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>df.tree<span class="sc">$</span>dif.sex <span class="ot">&lt;-</span> dif.sex</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>df.tree<span class="sc">$</span>dif.age <span class="ot">&lt;-</span> dif.age</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>pctree.out <span class="ot">&lt;-</span> <span class="fu">pctree</span>(difdata <span class="sc">~</span> dif.sex <span class="sc">+</span> dif.age, <span class="at">data =</span> df.tree)</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pctree.out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>No interaction effect found for sex and age. The analysis only shows the previously identified DIF for sex.</p>
</section>
</section>
<section id="rasch-analysis-3" class="level2 page-columns page-full" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="rasch-analysis-3"><span class="header-section-number">6</span> Rasch analysis 3</h2>
<p>There were no issues with DIF for any item. We still need to address the previously identified problems</p>
<p>Items 12 and 16 are a bit low in item fit ZSTD.</p>
<p>Items 16 and 19 have a residual correlation at about 0.25 above the average level.</p>
<p>We’ll remove item 19 since item 16 has better targeting.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-45_d8ab436cd524e6ecfc487bbf22d6d2a6">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>removed.items <span class="ot">&lt;-</span> <span class="fu">c</span>(removed.items,<span class="st">"PANAS_19"</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df2 <span class="sc">%&gt;%</span> </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">any_of</span>(removed.items))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-46_b535c5f3e1bf35db5f76c36afe52e69d">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead>
<tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>

</table>
</div></div></div>
<div class="column-page-left">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Item fit</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Residual correlations</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">Targeting</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">Item hierarchy</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="smaller tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-47_da1e4b40e575c07f6cd0ae9029e8fecf">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df2, <span class="dv">300</span>, <span class="dv">32</span>, <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover lightable-classic table" style="font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> OutfitZSTD </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> InfitZSTD </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.009</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.002</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.218</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.229</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.687</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.697</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.913</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-3.821</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.94</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.032</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.751</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.861</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.842</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.826</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.806</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.836</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.831</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.327</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.004</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.858</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.879</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.819</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.068</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.068</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.045</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.797</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.504</span> </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-48_1a69573082557d353bec6d0d07b54ace">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df2, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table style="width:70%; font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table-striped table-hover lightable-classic table">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_11 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_12 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_13 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_14 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_16 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_17 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_20 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.11</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.04</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.14</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.06</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.26</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.26</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.2</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.14</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.12</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.29</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.17</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Relative cut-off value (highlighted in red) is 0.053, which is 0.2 above the average correlation.</td></tr>
</tfoot>
</table>

</div>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-49_3c68c71e9b14b53e5e3ff36116e6f0b8">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-50_395013e7f4829e00b520df1caa26a619">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>No problematic residual correlations, but item 12 is clearly low in item fit.</p>
</section>
<section id="rasch-analysis-4" class="level2 page-columns page-full" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="rasch-analysis-4"><span class="header-section-number">7</span> Rasch analysis 4</h2>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-51_333ca1956e7e39b34374dfa9d926b6e7">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>removed.items <span class="ot">&lt;-</span> <span class="fu">c</span>(removed.items,<span class="st">"PANAS_12"</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df2 <span class="sc">%&gt;%</span> </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">any_of</span>(removed.items))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell page-columns page-full" data-hash="RaschRvign_cache/html/unnamed-chunk-52_f5efadb6826690ba1af83afbfdb8b793">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato">
<thead>
<tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>

</table>
</div></div></div>
<div class="column-page-left">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Item fit</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Residual correlations</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">Targeting</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Item hierarchy</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="smaller tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-53_0f1c5e9732ae2a26f7ff1dd4095c3fc2">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df2, <span class="dv">300</span>, <span class="dv">32</span>, <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover lightable-classic table" style="font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> OutfitZSTD </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> InfitZSTD </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.926</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.932</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.753</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.742</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.906</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.892</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.566</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.252</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.85</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.83</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.573</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.111</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.796</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.802</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.674</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-2.266</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.803</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.835</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.309</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-1.731</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.958</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.944</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.574</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.505</span> </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-54_4035b8fcbf7b39195b102e70ccd377c9">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df2, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table style="width:70%; font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table-striped table-hover lightable-classic table">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_11 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_13 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_14 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_16 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_17 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> PANAS_20 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.17</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.03</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.26</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.24</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.14</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.21</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.01</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.17</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.2</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.2</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;"></span> </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Relative cut-off value (highlighted in red) is 0.03, which is 0.2 above the average correlation.</td></tr>
</tfoot>
</table>

</div>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-55_8b48c6755dbf5a476f650b5f7d2258c9">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-56_f7c0c9d6a03e9a037042114b4bba9c77">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>There are several item thresholds that are very closely located, as shown in the item hierarchy figure. This is not ideal, since it will inflate reliability estimates.</p>
<p>However, we will not modify the response categories for this sample/simple analysis, we only note that this is not ideal.</p>
</section>
<section id="reliability" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="reliability"><span class="header-section-number">8</span> Reliability</h2>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-57_ecc556b9a8a57283b830672f44e30b9e">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RItif</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="1050"></p>
</div>
</div>
<p>While 11.8% of respondents had a floor effect, the figure above shows us that 41.8% are located below the point where the items produce a person separation index (reliability) of 0.7 or higher.</p>
</section>
<section id="person-fit" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="person-fit"><span class="header-section-number">9</span> Person fit</h2>
<p>We can also look at how the respondents fit the Rasch model with these items.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-58_743e966ca920d94e9434d207d012d8de">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIpfit</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid" width="1050"></p>
</div>
<div class="cell-output-display">
<p><img src="RaschRvign_files/figure-html/unnamed-chunk-58-2.png" class="img-fluid" width="1050"></p>
</div>
</div>
</section>
<section id="item-parameters" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="item-parameters"><span class="header-section-number">10</span> Item parameters</h2>
<p>To allow others (and oneself) to use the item parameters estimated for estimation of person locations/thetas, we should make the item parameters available. The function will also write a csv-file with the item threshold locations. Estimations of person locations/thetas can be done with the <code>thetaEst()</code> function from the <code>catR</code> package. Code for this is available upon request and will be made into a function in the <code>RISEkbmRasch</code> package at some point.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-59_03bcbfbf09b8d1fd9cf0874fae58e48d">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemparams</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover lightable-classic table" style="font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Threshold 1 </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Threshold 2 </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Threshold 3 </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Threshold 4 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Item location </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:right;"> -1.24 </td>
   <td style="text-align:right;"> -0.34 </td>
   <td style="text-align:right;"> 0.07 </td>
   <td style="text-align:right;"> 1.47 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">-0.01</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:right;"> 0.06 </td>
   <td style="text-align:right;"> 0.14 </td>
   <td style="text-align:right;"> 0.83 </td>
   <td style="text-align:right;"> 1.78 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">0.7</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:right;"> -0.99 </td>
   <td style="text-align:right;"> -0.26 </td>
   <td style="text-align:right;"> 0.12 </td>
   <td style="text-align:right;"> 1.11 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">-0.01</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:right;"> -0.22 </td>
   <td style="text-align:right;"> -0.13 </td>
   <td style="text-align:right;"> 0.22 </td>
   <td style="text-align:right;"> 1.34 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">0.3</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:right;"> 0.28 </td>
   <td style="text-align:right;"> 0.30 </td>
   <td style="text-align:right;"> 0.75 </td>
   <td style="text-align:right;"> 1.17 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">0.63</span> </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:right;"> -0.90 </td>
   <td style="text-align:right;"> -0.28 </td>
   <td style="text-align:right;"> 0.62 </td>
   <td style="text-align:right;"> 1.59 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">0.26</span> </td>
  </tr>
</tbody>
</table>

</div>
</div>
<section id="ordinal-sum-score-to-interval-score" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="ordinal-sum-score-to-interval-score"><span class="header-section-number">10.1</span> Ordinal sum score to interval score</h3>
<p>This table shows the corresponding sum score values and logit scores, with standard errors for each logit value.</p>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-60_30cf0b4ec84e03832cb30da513dbe171">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RIscoreSE</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped" style="font-size: 15px; font-family: Lato; width: 80%">
<thead>
<tr>
<th style="text-align:right;">
Ordinal sum score
</th>
<th style="text-align:right;">
Logit score
</th>
<th style="text-align:right;">
Logit std.error
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-3.21
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
-2.45
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
-1.76
</td>
<td style="text-align:right;">
0.71
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
-1.35
</td>
<td style="text-align:right;">
0.58
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
-1.05
</td>
<td style="text-align:right;">
0.51
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
-0.82
</td>
<td style="text-align:right;">
0.46
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
-0.62
</td>
<td style="text-align:right;">
0.43
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
-0.44
</td>
<td style="text-align:right;">
0.41
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
-0.28
</td>
<td style="text-align:right;">
0.39
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
-0.13
</td>
<td style="text-align:right;">
0.38
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
0.37
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0.15
</td>
<td style="text-align:right;">
0.37
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.28
</td>
<td style="text-align:right;">
0.37
</td>
</tr>
<tr>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
0.42
</td>
<td style="text-align:right;">
0.37
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
0.56
</td>
<td style="text-align:right;">
0.38
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
0.71
</td>
<td style="text-align:right;">
0.39
</td>
</tr>
<tr>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
0.86
</td>
<td style="text-align:right;">
0.40
</td>
</tr>
<tr>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
1.03
</td>
<td style="text-align:right;">
0.42
</td>
</tr>
<tr>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
1.22
</td>
<td style="text-align:right;">
0.45
</td>
</tr>
<tr>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
1.43
</td>
<td style="text-align:right;">
0.48
</td>
</tr>
<tr>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
1.69
</td>
<td style="text-align:right;">
0.53
</td>
</tr>
<tr>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
2.01
</td>
<td style="text-align:right;">
0.61
</td>
</tr>
<tr>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
2.46
</td>
<td style="text-align:right;">
0.73
</td>
</tr>
<tr>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
3.19
</td>
<td style="text-align:right;">
1.02
</td>
</tr>
<tr>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
3.99
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>

</table>
</div>
</div>
</section>
</section>
<section id="software-used" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="software-used"><span class="header-section-number">11</span> Software used</h2>
<div class="cell" data-hash="RaschRvign_cache/html/unnamed-chunk-61_0b0ee1f8ca9c36a3c8795b2dec61b116">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grateful) <span class="co"># devtools::install_github("Pakillo/grateful")</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">cite_packages</span>(<span class="at">cite.tidyverse =</span> <span class="cn">TRUE</span>, </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">output =</span> <span class="st">"table"</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">bib.file =</span> <span class="st">"grateful-refs.bib"</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">include.RStudio =</span> <span class="cn">TRUE</span>)</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="fu">formattable</span>(pkgs, </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">table.attr =</span> <span class="st">'class=</span><span class="sc">\"</span><span class="st">table table-striped</span><span class="sc">\"</span><span class="st"> style="font-size: 13px; font-family: Lato; width: 80%"'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped" style="font-size: 13px; font-family: Lato; width: 80%">
<thead>
<tr>
<th style="text-align:right;">
Package
</th>
<th style="text-align:right;">
Version
</th>
<th style="text-align:right;">
Citation
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
base
</td>
<td style="text-align:right;">
4.2.2
</td>
<td style="text-align:right;">
<span class="citation" data-cites="base">R Core Team (<a href="#ref-base" role="doc-biblioref">2022</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
car
</td>
<td style="text-align:right;">
3.1.1
</td>
<td style="text-align:right;">
<span class="citation" data-cites="car">Fox and Weisberg (<a href="#ref-car" role="doc-biblioref">2019</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
grateful
</td>
<td style="text-align:right;">
0.1.11
</td>
<td style="text-align:right;">
<span class="citation" data-cites="grateful">Rodríguez-Sánchez, Jackson, and Hutchins (<a href="#ref-grateful" role="doc-biblioref">2022</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
RISEkbmRasch
</td>
<td style="text-align:right;">
0.1.7.8
</td>
<td style="text-align:right;">
<span class="citation" data-cites="RISEkbmRasch">Johansson (<a href="#ref-RISEkbmRasch" role="doc-biblioref">2022</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
rmarkdown
</td>
<td style="text-align:right;">
2.19
</td>
<td style="text-align:right;">
<span class="citation" data-cites="rmarkdown2018">Xie, Allaire, and Grolemund (<a href="#ref-rmarkdown2018" role="doc-biblioref">2018</a>)</span>; <span class="citation" data-cites="rmarkdown2020">Xie, Dervieux, and Riederer (<a href="#ref-rmarkdown2020" role="doc-biblioref">2020</a>)</span>; <span class="citation" data-cites="rmarkdown2022">Allaire et al. (<a href="#ref-rmarkdown2022" role="doc-biblioref">2022</a>)</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
tidyverse
</td>
<td style="text-align:right;">
1.3.2
</td>
<td style="text-align:right;">
<span class="citation" data-cites="tidyverse">Wickham et al. (<a href="#ref-tidyverse" role="doc-biblioref">2019</a>)</span>
</td>
</tr>
</tbody>

</table>
</div>
</div>
</section>
<section id="references" class="level2" data-number="12">



<!-- -->


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">12 References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-rmarkdown2022" class="csl-entry" role="doc-biblioentry">
Allaire, JJ, Yihui Xie, Jonathan McPherson, Javier Luraschi, Kevin Ushey, Aron Atkins, Hadley Wickham, Joe Cheng, Winston Chang, and Richard Iannone. 2022. <em>Rmarkdown: Dynamic Documents for r</em>. <a href="https://github.com/rstudio/rmarkdown">https://github.com/rstudio/rmarkdown</a>.
</div>
<div id="ref-anvari2022" class="csl-entry" role="doc-biblioentry">
Anvari, Farid, Emir Efendić, Jerome Olsen, Ruben C. Arslan, Malte Elson, and Iris K. Schneider. 2022. <span>“Bias in Self-Reports: An Initial Elevation Phenomenon.”</span> <em>Social Psychological and Personality Science</em>, October, 19485506221129160. <a href="https://doi.org/10.1177/19485506221129160">https://doi.org/10.1177/19485506221129160</a>.
</div>
<div id="ref-christensen2017" class="csl-entry" role="doc-biblioentry">
Christensen, Karl Bang, Guido Makransky, and Mike Horton. 2017. <span>“Critical Values for Yen<span>’</span>s Q3: Identification of Local Dependence in the Rasch Model Using Residual Correlations.”</span> <em>Applied Psychological Measurement</em> 41 (3): 178–94. <a href="https://doi.org/10.1177/0146621616677520">https://doi.org/10.1177/0146621616677520</a>.
</div>
<div id="ref-car" class="csl-entry" role="doc-biblioentry">
Fox, John, and Sanford Weisberg. 2019. <em>An <span>R</span> Companion to Applied Regression</em>. Third. Thousand Oaks <span>CA</span>: Sage. <a href="https://socialsciences.mcmaster.ca/jfox/Books/Companion/">https://socialsciences.mcmaster.ca/jfox/Books/Companion/</a>.
</div>
<div id="ref-hagell2016" class="csl-entry" role="doc-biblioentry">
Hagell, Peter, and Albert Westergren. 2016. <span>“Sample Size and Statistical Conclusions from Tests of Fit to the Rasch Model According to the Rasch Unidimensional Measurement Model (RUMM) Program in Health Outcome Measurement.”</span> <em>Journal of Applied Measurement</em> 17 (4): 416–31.
</div>
<div id="ref-RISEkbmRasch" class="csl-entry" role="doc-biblioentry">
Johansson, Magnus. 2022. <em>RISEkbmRasch: Psychometric Analysis with Rasch Measurement Theory</em>. <a href="https://github.com/pgmj/RISEkbmRasch">https://github.com/pgmj/RISEkbmRasch</a>.
</div>
<div id="ref-base" class="csl-entry" role="doc-biblioentry">
R Core Team. 2022. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-grateful" class="csl-entry" role="doc-biblioentry">
Rodríguez-Sánchez, Francisco, Connor P. Jackson, and Shaurita D. Hutchins. 2022. <em>Grateful: Facilitate Citation of r Packages</em>. <a href="https://github.com/Pakillo/grateful">https://github.com/Pakillo/grateful</a>.
</div>
<div id="ref-tidyverse" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-rmarkdown2018" class="csl-entry" role="doc-biblioentry">
Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em>R Markdown: The Definitive Guide</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.
</div>
<div id="ref-rmarkdown2020" class="csl-entry" role="doc-biblioentry">
Xie, Yihui, Christophe Dervieux, and Emily Riederer. 2020. <em>R Markdown Cookbook</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown-cookbook">https://bookdown.org/yihui/rmarkdown-cookbook</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb62" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "RISEkbmRasch"</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "An R package vignette"</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> </span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="co">  name: Magnus Johansson</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="co">  affiliation: RISE Research Institutes of Sweden</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="co">  affiliation-url: https://www.ri.se/sv/vad-vi-gor/expertiser/kategoriskt-baserade-matningar</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="co">  orcid: 0000-0003-1669-592X</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> '2022-12-19'</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span><span class="co"> </span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="co">  cache: true</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> </span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a><span class="co">- references.bib</span></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a><span class="co">- grateful-refs.bib</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>This is a work-in-progress to create a proper vignette to introduce how to make use of the <span class="co">[</span><span class="ot">RISEkbmRasch R package</span><span class="co">](https://github.com/pgmj/RISEkbmRasch)</span>.</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>Details on installation is at the package link above. This vignette will walk through a sample analysis using an open dataset with questionnaire data. This will include some data wrangling to structure the item data and itemlabels, then provide examples of the different functions. The full source code of this document can be found either <span class="co">[</span><span class="ot">in this repository</span><span class="co">](https://github.com/pgmj/pgmj.github.io/blob/main/raschrvignette/RaschRvign.qmd)</span> or by clicking on **&lt;/&gt; CODE** at the top beside the table of contents.</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>One of the aims with this package is to simplify psychometric analysis to shed light on the measurement properties of a scale. In a forthcoming paper (preprint should be out in January 2023 and the link will be added here), our research group propose that the basic aspects of a psychometric analysis should include information about:</span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Unidimensionality</span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Response categories</span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Invariance</span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Targeting</span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Measurement uncertainties (reliability)</span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a>We'll include several ways to investigate these measurement properties, using Rasch Measurement Theory.</span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a><span class="fu">## Getting started</span></span>
<span id="cb62-34"><a href="#cb62-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-35"><a href="#cb62-35" aria-hidden="true" tabindex="-1"></a>Since the package is intended for use with Quarto, this vignette has also been created with Quarto. A "template" .qmd file is available (insert link later) that is suggested to have at hand for copy&amp;paste when running a new analysis.</span>
<span id="cb62-36"><a href="#cb62-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-37"><a href="#cb62-37" aria-hidden="true" tabindex="-1"></a>Loading the package should also get all the dependencies loaded. You may need to make sure that ggplot2 is updated to version 3.4.0 or later.</span>
<span id="cb62-38"><a href="#cb62-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-41"><a href="#cb62-41" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-42"><a href="#cb62-42" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RISEkbmRasch) <span class="co"># devtools::install_github("pgmj/RISEkbmRasch")</span></span>
<span id="cb62-43"><a href="#cb62-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-44"><a href="#cb62-44" aria-hidden="true" tabindex="-1"></a><span class="do">### some commands exist in multiple packages, here we define preferred ones that are frequently used</span></span>
<span id="cb62-45"><a href="#cb62-45" aria-hidden="true" tabindex="-1"></a>select <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>select</span>
<span id="cb62-46"><a href="#cb62-46" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>count</span>
<span id="cb62-47"><a href="#cb62-47" aria-hidden="true" tabindex="-1"></a>recode <span class="ot">&lt;-</span> car<span class="sc">::</span>recode</span>
<span id="cb62-48"><a href="#cb62-48" aria-hidden="true" tabindex="-1"></a>rename <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>rename</span>
<span id="cb62-49"><a href="#cb62-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-50"><a href="#cb62-50" aria-hidden="true" tabindex="-1"></a><span class="do">### set up color palette based on RISE guidelines</span></span>
<span id="cb62-51"><a href="#cb62-51" aria-hidden="true" tabindex="-1"></a>RISEprimGreen <span class="ot">&lt;-</span> <span class="st">"#009ca6"</span></span>
<span id="cb62-52"><a href="#cb62-52" aria-hidden="true" tabindex="-1"></a>RISEprimRed <span class="ot">&lt;-</span> <span class="st">"#e83c63"</span></span>
<span id="cb62-53"><a href="#cb62-53" aria-hidden="true" tabindex="-1"></a>RISEprimYellow <span class="ot">&lt;-</span> <span class="st">"#ffe500"</span></span>
<span id="cb62-54"><a href="#cb62-54" aria-hidden="true" tabindex="-1"></a>RISEprimGreenMid <span class="ot">&lt;-</span> <span class="st">"#8dc8c7"</span></span>
<span id="cb62-55"><a href="#cb62-55" aria-hidden="true" tabindex="-1"></a>RISEprimRedMid <span class="ot">&lt;-</span> <span class="st">"#f5a9ab"</span></span>
<span id="cb62-56"><a href="#cb62-56" aria-hidden="true" tabindex="-1"></a>RISEprimYellowMid <span class="ot">&lt;-</span> <span class="st">"#ffee8d"</span></span>
<span id="cb62-57"><a href="#cb62-57" aria-hidden="true" tabindex="-1"></a>RISEprimGreenLight <span class="ot">&lt;-</span> <span class="st">"#ebf5f0"</span></span>
<span id="cb62-58"><a href="#cb62-58" aria-hidden="true" tabindex="-1"></a>RISEprimRedLight <span class="ot">&lt;-</span> <span class="st">"#fde8df"</span></span>
<span id="cb62-59"><a href="#cb62-59" aria-hidden="true" tabindex="-1"></a>RISEprimYellowLight <span class="ot">&lt;-</span> <span class="st">"#fff7dd"</span></span>
<span id="cb62-60"><a href="#cb62-60" aria-hidden="true" tabindex="-1"></a>RISEcompPurple <span class="ot">&lt;-</span> <span class="st">"#482d55"</span></span>
<span id="cb62-61"><a href="#cb62-61" aria-hidden="true" tabindex="-1"></a>RISEcompGreenDark <span class="ot">&lt;-</span> <span class="st">"#0e4e65"</span></span>
<span id="cb62-62"><a href="#cb62-62" aria-hidden="true" tabindex="-1"></a>RISEgrey1 <span class="ot">&lt;-</span> <span class="st">"#f0f0f0"</span></span>
<span id="cb62-63"><a href="#cb62-63" aria-hidden="true" tabindex="-1"></a>RISEgrey2 <span class="ot">&lt;-</span> <span class="st">"#c8c8c8"</span></span>
<span id="cb62-64"><a href="#cb62-64" aria-hidden="true" tabindex="-1"></a>RISEgrey3 <span class="ot">&lt;-</span> <span class="st">"#828282"</span></span>
<span id="cb62-65"><a href="#cb62-65" aria-hidden="true" tabindex="-1"></a>RISEgrey4 <span class="ot">&lt;-</span> <span class="st">"#555555"</span></span>
<span id="cb62-66"><a href="#cb62-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-67"><a href="#cb62-67" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-68"><a href="#cb62-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-69"><a href="#cb62-69" aria-hidden="true" tabindex="-1"></a><span class="fu">### Loading data</span></span>
<span id="cb62-70"><a href="#cb62-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-71"><a href="#cb62-71" aria-hidden="true" tabindex="-1"></a>We will use data from a recent paper investigating the "initial elevation effect" <span class="co">[</span><span class="ot">@anvari2022</span><span class="co">]</span>, and focus on the 10 negative items from the PANAS. The data is available at the OSF website.</span>
<span id="cb62-72"><a href="#cb62-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-75"><a href="#cb62-75" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-76"><a href="#cb62-76" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb62-77"><a href="#cb62-77" aria-hidden="true" tabindex="-1"></a>df.all <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://osf.io/download/6fbr5/?view_only=6ad4c2bb65d843bfb1470b8959913630"</span>)</span>
<span id="cb62-78"><a href="#cb62-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-79"><a href="#cb62-79" aria-hidden="true" tabindex="-1"></a><span class="co"># subset items and demographic variables</span></span>
<span id="cb62-80"><a href="#cb62-80" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df.all <span class="sc">%&gt;%</span> </span>
<span id="cb62-81"><a href="#cb62-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"PANASD2_1"</span>),</span>
<span id="cb62-82"><a href="#cb62-82" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"PANASD2_20"</span>),</span>
<span id="cb62-83"><a href="#cb62-83" aria-hidden="true" tabindex="-1"></a>         age,Sex,Group) <span class="sc">%&gt;%</span> </span>
<span id="cb62-84"><a href="#cb62-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>PANASD2_10_Active) <span class="sc">%&gt;%</span> </span>
<span id="cb62-85"><a href="#cb62-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>PANASD2_1_Attentive)</span>
<span id="cb62-86"><a href="#cb62-86" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-87"><a href="#cb62-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-88"><a href="#cb62-88" aria-hidden="true" tabindex="-1"></a><span class="fu">### Itemlabels</span></span>
<span id="cb62-89"><a href="#cb62-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-90"><a href="#cb62-90" aria-hidden="true" tabindex="-1"></a>Then we set up the itemlabels dataframe. This could also be done using the free LibreOffice Calc or MS Excel. Just make sure the file has the same structure, with two variables named <span class="in">`itemnr`</span> and <span class="in">`item`</span> that contain the item names and item description. The item names have to match the variable names in the item dataframe.</span>
<span id="cb62-91"><a href="#cb62-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-94"><a href="#cb62-94" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-95"><a href="#cb62-95" aria-hidden="true" tabindex="-1"></a>itemlabels <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb62-96"><a href="#cb62-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"PAN"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-97"><a href="#cb62-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb62-98"><a href="#cb62-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb62-99"><a href="#cb62-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(value, <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">"item"</span>), <span class="at">sep =</span><span class="st">"_[0-9][0-9]_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-100"><a href="#cb62-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">itemnr =</span> <span class="fu">paste0</span>(<span class="st">"PANAS_"</span>,<span class="fu">c</span>(<span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>)), <span class="at">.before =</span> <span class="st">"item"</span>)</span>
<span id="cb62-101"><a href="#cb62-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-102"><a href="#cb62-102" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-103"><a href="#cb62-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-104"><a href="#cb62-104" aria-hidden="true" tabindex="-1"></a><span class="fu">### Demographics and invariance</span></span>
<span id="cb62-105"><a href="#cb62-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-106"><a href="#cb62-106" aria-hidden="true" tabindex="-1"></a>Variables for invariance tests such as Differential Item Functioning need to be separated into vectors (ideally as factors with specified labels and levels) with the same length as the number of rows in the dataset. This means that any kind of removal of respondents with missing data needs to be done before separating the DIF variables.</span>
<span id="cb62-107"><a href="#cb62-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-108"><a href="#cb62-108" aria-hidden="true" tabindex="-1"></a>Let's first see whether any data is missing.</span>
<span id="cb62-109"><a href="#cb62-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-112"><a href="#cb62-112" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-113"><a href="#cb62-113" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb62-114"><a href="#cb62-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"PAN"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-115"><a href="#cb62-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb62-116"><a href="#cb62-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb62-117"><a href="#cb62-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Missing =</span> <span class="fu">rowSums</span>(<span class="fu">is.na</span>(.))) <span class="sc">%&gt;%</span> </span>
<span id="cb62-118"><a href="#cb62-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Missing) <span class="sc">%&gt;%</span> </span>
<span id="cb62-119"><a href="#cb62-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Missing)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-120"><a href="#cb62-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"Item"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-121"><a href="#cb62-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Percentage =</span> Missing<span class="sc">/</span><span class="fu">nrow</span>(df)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-122"><a href="#cb62-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Item =</span> <span class="fu">factor</span>(Item, <span class="at">levels =</span> <span class="fu">rev</span>(Item))) <span class="sc">%&gt;%</span></span>
<span id="cb62-123"><a href="#cb62-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Item, <span class="at">y =</span> Percentage)) <span class="sc">+</span></span>
<span id="cb62-124"><a href="#cb62-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb62-125"><a href="#cb62-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb62-126"><a href="#cb62-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Missing data per item"</span>) <span class="sc">+</span></span>
<span id="cb62-127"><a href="#cb62-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Items"</span>) <span class="sc">+</span></span>
<span id="cb62-128"><a href="#cb62-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Percentage of responses missing"</span>)</span>
<span id="cb62-129"><a href="#cb62-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-130"><a href="#cb62-130" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-131"><a href="#cb62-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-132"><a href="#cb62-132" aria-hidden="true" tabindex="-1"></a>No missing data, which makes this easier. We also need to check how the <span class="in">`Sex`</span> variable has been coded and which responses are present in the data.</span>
<span id="cb62-133"><a href="#cb62-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-136"><a href="#cb62-136" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-137"><a href="#cb62-137" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb62-138"><a href="#cb62-138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Sex)</span>
<span id="cb62-139"><a href="#cb62-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-140"><a href="#cb62-140" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-141"><a href="#cb62-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-142"><a href="#cb62-142" aria-hidden="true" tabindex="-1"></a>We'll recode all responses apart from Male/Female as missing (NA).</span>
<span id="cb62-143"><a href="#cb62-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-146"><a href="#cb62-146" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-147"><a href="#cb62-147" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Sex <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(df<span class="sc">$</span>Sex,<span class="st">"'CONSENT REVOKED'=NA;</span></span>
<span id="cb62-148"><a href="#cb62-148" aria-hidden="true" tabindex="-1"></a><span class="st">                      'Prefer not to say'=NA;</span></span>
<span id="cb62-149"><a href="#cb62-149" aria-hidden="true" tabindex="-1"></a><span class="st">                      'DATA EXPIRED'=NA"</span>)</span>
<span id="cb62-150"><a href="#cb62-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-151"><a href="#cb62-151" aria-hidden="true" tabindex="-1"></a>dif.sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>Sex)</span>
<span id="cb62-152"><a href="#cb62-152" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-153"><a href="#cb62-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-154"><a href="#cb62-154" aria-hidden="true" tabindex="-1"></a>Now we can make use of a very simple function included in this package!</span>
<span id="cb62-155"><a href="#cb62-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-158"><a href="#cb62-158" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-159"><a href="#cb62-159" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdemographics</span>(dif.sex, <span class="st">"Sex"</span>)</span>
<span id="cb62-160"><a href="#cb62-160" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-161"><a href="#cb62-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-162"><a href="#cb62-162" aria-hidden="true" tabindex="-1"></a>And remove the DIF variable from the item dataset.</span>
<span id="cb62-163"><a href="#cb62-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-166"><a href="#cb62-166" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-167"><a href="#cb62-167" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Sex <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb62-168"><a href="#cb62-168" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-169"><a href="#cb62-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-170"><a href="#cb62-170" aria-hidden="true" tabindex="-1"></a>Let's move on to the age variable.</span>
<span id="cb62-171"><a href="#cb62-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-174"><a href="#cb62-174" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-175"><a href="#cb62-175" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df<span class="sc">$</span>age)</span>
<span id="cb62-176"><a href="#cb62-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-177"><a href="#cb62-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-178"><a href="#cb62-178" aria-hidden="true" tabindex="-1"></a>Sometimes age is provided in categories, but here we have a numeric variable with age in years. Let's have a quick look at the age distribution using a histogram, and calculate mean, sd and range.</span>
<span id="cb62-179"><a href="#cb62-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-182"><a href="#cb62-182" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-183"><a href="#cb62-183" aria-hidden="true" tabindex="-1"></a><span class="do">### simpler version of the ggplot below</span></span>
<span id="cb62-184"><a href="#cb62-184" aria-hidden="true" tabindex="-1"></a><span class="co"># hist(df$age, col = "#009ca6")</span></span>
<span id="cb62-185"><a href="#cb62-185" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb62-186"><a href="#cb62-186" aria-hidden="true" tabindex="-1"></a><span class="co"># df %&gt;% </span></span>
<span id="cb62-187"><a href="#cb62-187" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(Mean = round(mean(age, na.rm = T),1),</span></span>
<span id="cb62-188"><a href="#cb62-188" aria-hidden="true" tabindex="-1"></a><span class="co">#             StDev = round(sd(age, na.rm = T),1)</span></span>
<span id="cb62-189"><a href="#cb62-189" aria-hidden="true" tabindex="-1"></a><span class="co">#             )</span></span>
<span id="cb62-190"><a href="#cb62-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-191"><a href="#cb62-191" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df) <span class="sc">+</span></span>
<span id="cb62-192"><a href="#cb62-192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> age), </span>
<span id="cb62-193"><a href="#cb62-193" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">"#009ca6"</span>,</span>
<span id="cb62-194"><a href="#cb62-194" aria-hidden="true" tabindex="-1"></a>                 <span class="at">col =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb62-195"><a href="#cb62-195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(df<span class="sc">$</span>age), </span>
<span id="cb62-196"><a href="#cb62-196" aria-hidden="true" tabindex="-1"></a>             <span class="at">linewidth =</span> <span class="fl">1.5</span>,</span>
<span id="cb62-197"><a href="#cb62-197" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="dv">2</span>,</span>
<span id="cb62-198"><a href="#cb62-198" aria-hidden="true" tabindex="-1"></a>             <span class="at">col =</span> <span class="st">"#ffe500"</span>) <span class="sc">+</span></span>
<span id="cb62-199"><a href="#cb62-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> <span class="cn">Inf</span>, </span>
<span id="cb62-200"><a href="#cb62-200" aria-hidden="true" tabindex="-1"></a>           <span class="at">xmin =</span> (<span class="fu">mean</span>(df<span class="sc">$</span>age) <span class="sc">-</span> <span class="fu">sd</span>(df<span class="sc">$</span>age)), <span class="at">xmax =</span> (<span class="fu">mean</span>(df<span class="sc">$</span>age) <span class="sc">+</span> <span class="fu">sd</span>(df<span class="sc">$</span>age)), </span>
<span id="cb62-201"><a href="#cb62-201" aria-hidden="true" tabindex="-1"></a>           <span class="at">alpha =</span> .<span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb62-202"><a href="#cb62-202" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">""</span>,</span>
<span id="cb62-203"><a href="#cb62-203" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age in years"</span>,</span>
<span id="cb62-204"><a href="#cb62-204" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of respondents"</span>,</span>
<span id="cb62-205"><a href="#cb62-205" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="fu">glue</span>(<span class="st">"Note. Mean age is {round(mean(df$age, na.rm = T),1)} years with a standard deviation of {round(sd(df$age, na.rm = T),1)}. Age range is {min(df$age)} to {max(df$age)}."</span>)</span>
<span id="cb62-206"><a href="#cb62-206" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span></span>
<span id="cb62-207"><a href="#cb62-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">face =</span> <span class="st">"italic"</span>))</span>
<span id="cb62-208"><a href="#cb62-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-209"><a href="#cb62-209" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-210"><a href="#cb62-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-211"><a href="#cb62-211" aria-hidden="true" tabindex="-1"></a>Age also needs to be a separate vector, and removed from the item dataframe.</span>
<span id="cb62-212"><a href="#cb62-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-215"><a href="#cb62-215" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-216"><a href="#cb62-216" aria-hidden="true" tabindex="-1"></a>dif.age <span class="ot">&lt;-</span> df<span class="sc">$</span>age</span>
<span id="cb62-217"><a href="#cb62-217" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb62-218"><a href="#cb62-218" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-219"><a href="#cb62-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-220"><a href="#cb62-220" aria-hidden="true" tabindex="-1"></a>There is also a grouping variable which needs to be converted to a factor.</span>
<span id="cb62-221"><a href="#cb62-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-224"><a href="#cb62-224" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-225"><a href="#cb62-225" aria-hidden="true" tabindex="-1"></a>dif.group <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>Group)</span>
<span id="cb62-226"><a href="#cb62-226" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Group <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb62-227"><a href="#cb62-227" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdemographics</span>(dif.group, <span class="st">"Group"</span>)</span>
<span id="cb62-228"><a href="#cb62-228" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-229"><a href="#cb62-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-230"><a href="#cb62-230" aria-hidden="true" tabindex="-1"></a>With only item data remaining in the dataframe, we can easily rename the items in the item dataframe. These names match the <span class="in">`itemlabels`</span> variable <span class="in">`itemnr`</span>.</span>
<span id="cb62-231"><a href="#cb62-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-234"><a href="#cb62-234" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-235"><a href="#cb62-235" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> itemlabels<span class="sc">$</span>itemnr</span>
<span id="cb62-236"><a href="#cb62-236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-237"><a href="#cb62-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-238"><a href="#cb62-238" aria-hidden="true" tabindex="-1"></a>Now we are all set for the psychometric analysis!</span>
<span id="cb62-239"><a href="#cb62-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-240"><a href="#cb62-240" aria-hidden="true" tabindex="-1"></a><span class="fu">## Descriptives</span></span>
<span id="cb62-241"><a href="#cb62-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-242"><a href="#cb62-242" aria-hidden="true" tabindex="-1"></a>First, let's familiarize ourselves with the data.</span>
<span id="cb62-243"><a href="#cb62-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-244"><a href="#cb62-244" aria-hidden="true" tabindex="-1"></a><span class="fu">### Overall responses</span></span>
<span id="cb62-245"><a href="#cb62-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-248"><a href="#cb62-248" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-249"><a href="#cb62-249" aria-hidden="true" tabindex="-1"></a><span class="fu">RIallresp</span>(df)</span>
<span id="cb62-250"><a href="#cb62-250" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-251"><a href="#cb62-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-252"><a href="#cb62-252" aria-hidden="true" tabindex="-1"></a>The Rasch model requires the lowest response category to be zero, which makes it necessary for us to recode our data from 1-5 to 0-4.</span>
<span id="cb62-253"><a href="#cb62-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-256"><a href="#cb62-256" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-257"><a href="#cb62-257" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb62-258"><a href="#cb62-258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> car<span class="sc">::</span><span class="fu">recode</span>(.x, <span class="st">"1=0;2=1;3=2;4=3;5=4"</span>, <span class="at">as.factor =</span> F)))</span>
<span id="cb62-259"><a href="#cb62-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-260"><a href="#cb62-260" aria-hidden="true" tabindex="-1"></a><span class="fu">RIallresp</span>(df)</span>
<span id="cb62-261"><a href="#cb62-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-262"><a href="#cb62-262" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-263"><a href="#cb62-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-264"><a href="#cb62-264" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Floor/ceiling effects</span></span>
<span id="cb62-265"><a href="#cb62-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-266"><a href="#cb62-266" aria-hidden="true" tabindex="-1"></a>Now, we can also look at the raw distribution of sum scores. The <span class="in">`RIrawdist()`</span> function is a bit crude, since it requires responses in all response categories to accurately calculate max and min scores.</span>
<span id="cb62-267"><a href="#cb62-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-270"><a href="#cb62-270" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-271"><a href="#cb62-271" aria-hidden="true" tabindex="-1"></a><span class="fu">RIrawdist</span>(df)</span>
<span id="cb62-272"><a href="#cb62-272" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-273"><a href="#cb62-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-274"><a href="#cb62-274" aria-hidden="true" tabindex="-1"></a>We can see a floor effect with 11.8% of participants responding in the lowest category for all items.</span>
<span id="cb62-275"><a href="#cb62-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-276"><a href="#cb62-276" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Guttman structure</span></span>
<span id="cb62-277"><a href="#cb62-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-278"><a href="#cb62-278" aria-hidden="true" tabindex="-1"></a>While not really necessary, it could be interesting to see whether the response patterns follow a Guttman-like structure. Items and persons are sorted based on lower-<span class="sc">\&gt;</span>higher responses, and we should see the color move from yellow in the lower left corner to blue in the upper right corner.</span>
<span id="cb62-279"><a href="#cb62-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-282"><a href="#cb62-282" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-283"><a href="#cb62-283" aria-hidden="true" tabindex="-1"></a><span class="fu">RIheatmap</span>(df)</span>
<span id="cb62-284"><a href="#cb62-284" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-285"><a href="#cb62-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-286"><a href="#cb62-286" aria-hidden="true" tabindex="-1"></a>In this data, we see the floor effect on the left, with 11.8% of respondents all yellow, and a rather weak Guttman structure. This could also be due to a low variation in item locations/difficulties.</span>
<span id="cb62-287"><a href="#cb62-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-288"><a href="#cb62-288" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item level descriptives</span></span>
<span id="cb62-289"><a href="#cb62-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-290"><a href="#cb62-290" aria-hidden="true" tabindex="-1"></a>There are many ways to look at the item level data, and we'll get them all together in the tab-panel below. The <span class="in">`RItileplot()`</span> is probably most informative, since it provides the number of responses in each response category for each item. It is usually recommended to have at least \~10 responses in each category for psychometric analysis, no matter which methodology is used.</span>
<span id="cb62-291"><a href="#cb62-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-292"><a href="#cb62-292" aria-hidden="true" tabindex="-1"></a>Most people will be familiar with the barplot, and this is probably most intuitive to understand the response distribution within each item. However, if there are many items it will take a while to review, and does not provide the same overview as a tileplot or stacked bars.</span>
<span id="cb62-293"><a href="#cb62-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-296"><a href="#cb62-296" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-297"><a href="#cb62-297" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb62-298"><a href="#cb62-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-299"><a href="#cb62-299" aria-hidden="true" tabindex="-1"></a><span class="co"># this code chunk creates a small table in the margin beside the panel-tabset output below,</span></span>
<span id="cb62-300"><a href="#cb62-300" aria-hidden="true" tabindex="-1"></a><span class="co"># showing all items currently in the df dataframe</span></span>
<span id="cb62-301"><a href="#cb62-301" aria-hidden="true" tabindex="-1"></a><span class="co"># the chunk option "#| column: margin" is necessary for the layout to work as intended</span></span>
<span id="cb62-302"><a href="#cb62-302" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb62-303"><a href="#cb62-303" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-304"><a href="#cb62-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-305"><a href="#cb62-305" aria-hidden="true" tabindex="-1"></a>::: column-page-left</span>
<span id="cb62-306"><a href="#cb62-306" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb62-307"><a href="#cb62-307" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Tile plot</span></span>
<span id="cb62-308"><a href="#cb62-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-311"><a href="#cb62-311" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-312"><a href="#cb62-312" aria-hidden="true" tabindex="-1"></a><span class="fu">RItileplot</span>(df)</span>
<span id="cb62-313"><a href="#cb62-313" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-314"><a href="#cb62-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-315"><a href="#cb62-315" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Stacked bars</span></span>
<span id="cb62-316"><a href="#cb62-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-319"><a href="#cb62-319" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-320"><a href="#cb62-320" aria-hidden="true" tabindex="-1"></a><span class="fu">RIbarstack</span>(df)</span>
<span id="cb62-321"><a href="#cb62-321" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-322"><a href="#cb62-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-323"><a href="#cb62-323" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Barplots</span></span>
<span id="cb62-324"><a href="#cb62-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-327"><a href="#cb62-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-328"><a href="#cb62-328" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb62-329"><a href="#cb62-329" aria-hidden="true" tabindex="-1"></a><span class="fu">RIbarplot</span>(df)</span>
<span id="cb62-330"><a href="#cb62-330" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-331"><a href="#cb62-331" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb62-332"><a href="#cb62-332" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb62-333"><a href="#cb62-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-334"><a href="#cb62-334" aria-hidden="true" tabindex="-1"></a>While response patterns are skewed for all items, there are more than 10 responses in each category for all items.</span>
<span id="cb62-335"><a href="#cb62-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-336"><a href="#cb62-336" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rasch analysis 1</span></span>
<span id="cb62-337"><a href="#cb62-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-338"><a href="#cb62-338" aria-hidden="true" tabindex="-1"></a>The eRm package and Conditional Maximum Likelihood (CML) estimation will be used primarily, with the Partial Credit Model.</span>
<span id="cb62-339"><a href="#cb62-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-340"><a href="#cb62-340" aria-hidden="true" tabindex="-1"></a>This is also where the five basic psychometric aspects are good to recall.</span>
<span id="cb62-341"><a href="#cb62-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-342"><a href="#cb62-342" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Unidimensionality</span>
<span id="cb62-343"><a href="#cb62-343" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Response categories</span>
<span id="cb62-344"><a href="#cb62-344" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Invariance</span>
<span id="cb62-345"><a href="#cb62-345" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Targeting</span>
<span id="cb62-346"><a href="#cb62-346" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Measurement uncertainties (reliability)</span>
<span id="cb62-347"><a href="#cb62-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-348"><a href="#cb62-348" aria-hidden="true" tabindex="-1"></a>We will look at all except invariance and reliability in parallel below. For unidimensionality, we are mostly interested in item fit and residual correlations, as well as PCA of residuals and loadings on the first residual contrast. At the same time, disordered response categories can influence item fit, and targeting can be useful if it is necessary to remove items due to residual correlations.</span>
<span id="cb62-349"><a href="#cb62-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-350"><a href="#cb62-350" aria-hidden="true" tabindex="-1"></a>When unidimensionality and response categories are found to work adequately, we will move on to invariance testing. And when/if invariance looks good, we can investigate reliability/measurement uncertainties.</span>
<span id="cb62-351"><a href="#cb62-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-352"><a href="#cb62-352" aria-hidden="true" tabindex="-1"></a>In the tabset-panel below, each tab will have some explanatory text.</span>
<span id="cb62-353"><a href="#cb62-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-356"><a href="#cb62-356" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-357"><a href="#cb62-357" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb62-358"><a href="#cb62-358" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb62-359"><a href="#cb62-359" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb62-360"><a href="#cb62-360" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-361"><a href="#cb62-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-362"><a href="#cb62-362" aria-hidden="true" tabindex="-1"></a>::: column-page-left</span>
<span id="cb62-363"><a href="#cb62-363" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb62-364"><a href="#cb62-364" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item fit {.smaller}</span></span>
<span id="cb62-365"><a href="#cb62-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-368"><a href="#cb62-368" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-369"><a href="#cb62-369" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df, <span class="dv">300</span>, <span class="dv">32</span>, <span class="at">cpu =</span> <span class="dv">8</span>)</span>
<span id="cb62-370"><a href="#cb62-370" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-371"><a href="#cb62-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-372"><a href="#cb62-372" aria-hidden="true" tabindex="-1"></a>Since we have a sample size over 500, ZSTD item fit values would be inflated if we use the whole sample. To better estimate accurate ZSTD values the <span class="in">`RIitemfitPCM()`</span> function allows for multiple subsampling. It is recommended to use a sample size between 250 and 500 <span class="co">[</span><span class="ot">@hagell2016</span><span class="co">]</span>. We will set the sample size to 300 and run 32 subsamples. For faster processing, <span class="in">`RIitemfitPCM2()`</span> enables parallel processing with multiple CPUs/cores.</span>
<span id="cb62-373"><a href="#cb62-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-374"><a href="#cb62-374" aria-hidden="true" tabindex="-1"></a>"Outfit" refers to item fit when person location is relatively far away from the item location, while "infit" provides estimates for when person and item locations are close together. MSQ should be close to 1, with lower and upper cutoffs set to 0.7 and 1.3, while ZSTD should be around 0, with cutoffs set to +/- 2.0. Infit is usually more important.</span>
<span id="cb62-375"><a href="#cb62-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-376"><a href="#cb62-376" aria-hidden="true" tabindex="-1"></a>A low item fit indicates that responses are too predictable and provide little information. A high item fit can indicate several things, most often multidimensionality or, for questionnaires, a question that is difficult to interpret. This could for instance be a question that asks about two things at the same time.</span>
<span id="cb62-377"><a href="#cb62-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-378"><a href="#cb62-378" aria-hidden="true" tabindex="-1"></a><span class="fu">### PCA</span></span>
<span id="cb62-379"><a href="#cb62-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-382"><a href="#cb62-382" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-383"><a href="#cb62-383" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "PCA of Rasch model residuals"</span></span>
<span id="cb62-384"><a href="#cb62-384" aria-hidden="true" tabindex="-1"></a><span class="fu">RIpcmPCA</span>(df)</span>
<span id="cb62-385"><a href="#cb62-385" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-386"><a href="#cb62-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-387"><a href="#cb62-387" aria-hidden="true" tabindex="-1"></a>The first eigenvalue should be below 2.0.</span>
<span id="cb62-388"><a href="#cb62-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-389"><a href="#cb62-389" aria-hidden="true" tabindex="-1"></a><span class="fu">### Residual correlations</span></span>
<span id="cb62-390"><a href="#cb62-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-393"><a href="#cb62-393" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-394"><a href="#cb62-394" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span>
<span id="cb62-395"><a href="#cb62-395" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-396"><a href="#cb62-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-397"><a href="#cb62-397" aria-hidden="true" tabindex="-1"></a>The matrix above shows item-pair correlations of item residuals, with highlights in red showing correlations 0.2 or more above the average item-pair correlation (for all item-pairs) <span class="co">[</span><span class="ot">@christensen2017</span><span class="co">]</span>.</span>
<span id="cb62-398"><a href="#cb62-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-399"><a href="#cb62-399" aria-hidden="true" tabindex="-1"></a><span class="fu">### 1st contrast loadings</span></span>
<span id="cb62-400"><a href="#cb62-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-403"><a href="#cb62-403" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-404"><a href="#cb62-404" aria-hidden="true" tabindex="-1"></a><span class="fu">RIloadLoc</span>(df)</span>
<span id="cb62-405"><a href="#cb62-405" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-406"><a href="#cb62-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-407"><a href="#cb62-407" aria-hidden="true" tabindex="-1"></a>This figure can be helpful to identify clusters in data or multidimensionality.</span>
<span id="cb62-408"><a href="#cb62-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-409"><a href="#cb62-409" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analysis of response categories</span></span>
<span id="cb62-410"><a href="#cb62-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-413"><a href="#cb62-413" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-414"><a href="#cb62-414" aria-hidden="true" tabindex="-1"></a>mirt.rasch <span class="ot">&lt;-</span> <span class="fu">mirt</span>(df, <span class="at">model=</span><span class="dv">1</span>, <span class="at">itemtype=</span><span class="st">'Rasch'</span>) <span class="co"># unidimensional Rasch model</span></span>
<span id="cb62-415"><a href="#cb62-415" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mirt.rasch, <span class="at">type=</span><span class="st">"trace"</span>)</span>
<span id="cb62-416"><a href="#cb62-416" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-417"><a href="#cb62-417" aria-hidden="true" tabindex="-1"></a>Each response category for each item should have a curve that indicates it to be the most probably response at some point on the latent variable (x axis in the figure).</span>
<span id="cb62-418"><a href="#cb62-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-419"><a href="#cb62-419" aria-hidden="true" tabindex="-1"></a><span class="fu">### Targeting</span></span>
<span id="cb62-420"><a href="#cb62-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-423"><a href="#cb62-423" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-424"><a href="#cb62-424" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 6</span></span>
<span id="cb62-425"><a href="#cb62-425" aria-hidden="true" tabindex="-1"></a><span class="co"># increase fig-height above as needed, if you have many items</span></span>
<span id="cb62-426"><a href="#cb62-426" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df)</span>
<span id="cb62-427"><a href="#cb62-427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-428"><a href="#cb62-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-429"><a href="#cb62-429" aria-hidden="true" tabindex="-1"></a>This figure shows how well the items fit the respondents/persons. It is a sort of Wright Map that shows person and item threshold locations on the same logit scale.</span>
<span id="cb62-430"><a href="#cb62-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-431"><a href="#cb62-431" aria-hidden="true" tabindex="-1"></a>The top part shows person location histogram, the middle part a histogram of item threshold locations, and the bottom part shows individual item threshold locations. The histograms also show means and standard deviations.</span>
<span id="cb62-432"><a href="#cb62-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-433"><a href="#cb62-433" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item hierarchy</span></span>
<span id="cb62-434"><a href="#cb62-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-437"><a href="#cb62-437" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-438"><a href="#cb62-438" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb62-439"><a href="#cb62-439" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df)</span>
<span id="cb62-440"><a href="#cb62-440" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-441"><a href="#cb62-441" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb62-442"><a href="#cb62-442" aria-hidden="true" tabindex="-1"></a>::::</span>
<span id="cb62-443"><a href="#cb62-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-444"><a href="#cb62-444" aria-hidden="true" tabindex="-1"></a>Item 18 has issues with the second lowest category, which needs to be merged with the lowest category.</span>
<span id="cb62-445"><a href="#cb62-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-446"><a href="#cb62-446" aria-hidden="true" tabindex="-1"></a>Item 15 shows low item fit.</span>
<span id="cb62-447"><a href="#cb62-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-448"><a href="#cb62-448" aria-hidden="true" tabindex="-1"></a>Two item-pairs have high residual correlations:</span>
<span id="cb62-449"><a href="#cb62-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-450"><a href="#cb62-450" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>15 and 16 (scared and afraid)</span>
<span id="cb62-451"><a href="#cb62-451" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>17 and 18 (ashamed and guilty)</span>
<span id="cb62-452"><a href="#cb62-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-453"><a href="#cb62-453" aria-hidden="true" tabindex="-1"></a>Since item 15 also had low fit, we will remove it. And since item 18 had problems with response categories, it will also be removed.</span>
<span id="cb62-454"><a href="#cb62-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-457"><a href="#cb62-457" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-458"><a href="#cb62-458" aria-hidden="true" tabindex="-1"></a>removed.items <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PANAS_15"</span>,<span class="st">"PANAS_18"</span>)</span>
<span id="cb62-459"><a href="#cb62-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-460"><a href="#cb62-460" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb62-461"><a href="#cb62-461" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">any_of</span>(removed.items))</span>
<span id="cb62-462"><a href="#cb62-462" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-463"><a href="#cb62-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-464"><a href="#cb62-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-465"><a href="#cb62-465" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rasch analysis 2</span></span>
<span id="cb62-466"><a href="#cb62-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-467"><a href="#cb62-467" aria-hidden="true" tabindex="-1"></a>With items 15 and 18 removed.</span>
<span id="cb62-468"><a href="#cb62-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-471"><a href="#cb62-471" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-472"><a href="#cb62-472" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb62-473"><a href="#cb62-473" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb62-474"><a href="#cb62-474" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df2, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb62-475"><a href="#cb62-475" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-476"><a href="#cb62-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-477"><a href="#cb62-477" aria-hidden="true" tabindex="-1"></a>:::: column-page-left</span>
<span id="cb62-478"><a href="#cb62-478" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb62-479"><a href="#cb62-479" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item fit {.smaller}</span></span>
<span id="cb62-482"><a href="#cb62-482" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-483"><a href="#cb62-483" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df2, <span class="dv">300</span>, <span class="dv">32</span>, <span class="at">cpu =</span> <span class="dv">8</span>)</span>
<span id="cb62-484"><a href="#cb62-484" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-485"><a href="#cb62-485" aria-hidden="true" tabindex="-1"></a><span class="fu">### PCA</span></span>
<span id="cb62-488"><a href="#cb62-488" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-489"><a href="#cb62-489" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "PCA of Rasch model residuals"</span></span>
<span id="cb62-490"><a href="#cb62-490" aria-hidden="true" tabindex="-1"></a><span class="fu">RIpcmPCA</span>(df2)</span>
<span id="cb62-491"><a href="#cb62-491" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-492"><a href="#cb62-492" aria-hidden="true" tabindex="-1"></a><span class="fu">### Residual correlations</span></span>
<span id="cb62-495"><a href="#cb62-495" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-496"><a href="#cb62-496" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df2, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span>
<span id="cb62-497"><a href="#cb62-497" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-498"><a href="#cb62-498" aria-hidden="true" tabindex="-1"></a><span class="fu">### 1st contrast loadings</span></span>
<span id="cb62-501"><a href="#cb62-501" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-502"><a href="#cb62-502" aria-hidden="true" tabindex="-1"></a><span class="fu">RIloadLoc</span>(df2)</span>
<span id="cb62-503"><a href="#cb62-503" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-504"><a href="#cb62-504" aria-hidden="true" tabindex="-1"></a><span class="fu">### Targeting</span></span>
<span id="cb62-507"><a href="#cb62-507" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-508"><a href="#cb62-508" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb62-509"><a href="#cb62-509" aria-hidden="true" tabindex="-1"></a><span class="co"># increase fig-height above as needed, if you have many items</span></span>
<span id="cb62-510"><a href="#cb62-510" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df2)</span>
<span id="cb62-511"><a href="#cb62-511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-512"><a href="#cb62-512" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item hierarchy</span></span>
<span id="cb62-515"><a href="#cb62-515" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-516"><a href="#cb62-516" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb62-517"><a href="#cb62-517" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2)</span>
<span id="cb62-518"><a href="#cb62-518" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-519"><a href="#cb62-519" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb62-520"><a href="#cb62-520" aria-hidden="true" tabindex="-1"></a>::::</span>
<span id="cb62-521"><a href="#cb62-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-522"><a href="#cb62-522" aria-hidden="true" tabindex="-1"></a>Items 12 and 16 are a bit low in item fit ZSTD.</span>
<span id="cb62-523"><a href="#cb62-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-524"><a href="#cb62-524" aria-hidden="true" tabindex="-1"></a>Items 16 and 19 have a residual correlation at about 0.25 above the average level.</span>
<span id="cb62-525"><a href="#cb62-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-526"><a href="#cb62-526" aria-hidden="true" tabindex="-1"></a>Let's look at DIF before taking action upon this information.</span>
<span id="cb62-527"><a href="#cb62-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-528"><a href="#cb62-528" aria-hidden="true" tabindex="-1"></a><span class="fu">## Invariance/DIF</span></span>
<span id="cb62-529"><a href="#cb62-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-530"><a href="#cb62-530" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sex</span></span>
<span id="cb62-531"><a href="#cb62-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-534"><a href="#cb62-534" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-535"><a href="#cb62-535" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb62-536"><a href="#cb62-536" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb62-537"><a href="#cb62-537" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df2, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb62-538"><a href="#cb62-538" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-539"><a href="#cb62-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-540"><a href="#cb62-540" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb62-541"><a href="#cb62-541" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Table</span></span>
<span id="cb62-544"><a href="#cb62-544" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-545"><a href="#cb62-545" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb62-546"><a href="#cb62-546" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable</span>(df2, dif.sex)</span>
<span id="cb62-547"><a href="#cb62-547" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-548"><a href="#cb62-548" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Figure items</span></span>
<span id="cb62-551"><a href="#cb62-551" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-552"><a href="#cb62-552" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifFigure</span>(df2, dif.sex)</span>
<span id="cb62-553"><a href="#cb62-553" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-554"><a href="#cb62-554" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Figure thresholds</span></span>
<span id="cb62-557"><a href="#cb62-557" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-558"><a href="#cb62-558" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifFigThresh</span>(df2, dif.sex)</span>
<span id="cb62-559"><a href="#cb62-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-560"><a href="#cb62-560" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb62-561"><a href="#cb62-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-562"><a href="#cb62-562" aria-hidden="true" tabindex="-1"></a>While no item shows problematic levels of DIF regarding item location, as shown by the table, there is an interesting pattern in the thresholds figure. The lowest threshold seems to be slightly lower for node 3 (Male) for all items.</span>
<span id="cb62-563"><a href="#cb62-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-564"><a href="#cb62-564" aria-hidden="true" tabindex="-1"></a>The results do not require any action.</span>
<span id="cb62-565"><a href="#cb62-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-566"><a href="#cb62-566" aria-hidden="true" tabindex="-1"></a><span class="fu">### Age</span></span>
<span id="cb62-567"><a href="#cb62-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-570"><a href="#cb62-570" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-571"><a href="#cb62-571" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable</span>(df2, dif.age)</span>
<span id="cb62-572"><a href="#cb62-572" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-573"><a href="#cb62-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-574"><a href="#cb62-574" aria-hidden="true" tabindex="-1"></a>No DIF found for age.</span>
<span id="cb62-575"><a href="#cb62-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-576"><a href="#cb62-576" aria-hidden="true" tabindex="-1"></a><span class="fu">### Group</span></span>
<span id="cb62-577"><a href="#cb62-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-580"><a href="#cb62-580" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-581"><a href="#cb62-581" aria-hidden="true" tabindex="-1"></a><span class="fu">RIdifTable</span>(df2, dif.group)</span>
<span id="cb62-582"><a href="#cb62-582" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-583"><a href="#cb62-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-584"><a href="#cb62-584" aria-hidden="true" tabindex="-1"></a>And no DIF for group.</span>
<span id="cb62-585"><a href="#cb62-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-586"><a href="#cb62-586" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sex and age</span></span>
<span id="cb62-587"><a href="#cb62-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-588"><a href="#cb62-588" aria-hidden="true" tabindex="-1"></a>While it has not been implemented in this package, the <span class="in">`psychotree`</span> package allows for DIF interaction analysis between multiple DIF variables. This will also serve as an example of how to look at and modify a package function, if needed. Use <span class="in">`View(RIdifTable)`</span> to view the code in the function.</span>
<span id="cb62-589"><a href="#cb62-589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-592"><a href="#cb62-592" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-593"><a href="#cb62-593" aria-hidden="true" tabindex="-1"></a>dfin <span class="ot">&lt;-</span> df2</span>
<span id="cb62-594"><a href="#cb62-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-595"><a href="#cb62-595" aria-hidden="true" tabindex="-1"></a>df.tree <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">0</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(dfin)))</span>
<span id="cb62-596"><a href="#cb62-596" aria-hidden="true" tabindex="-1"></a>df.tree<span class="sc">$</span>difdata <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(dfin)</span>
<span id="cb62-597"><a href="#cb62-597" aria-hidden="true" tabindex="-1"></a>df.tree<span class="sc">$</span>dif.sex <span class="ot">&lt;-</span> dif.sex</span>
<span id="cb62-598"><a href="#cb62-598" aria-hidden="true" tabindex="-1"></a>df.tree<span class="sc">$</span>dif.age <span class="ot">&lt;-</span> dif.age</span>
<span id="cb62-599"><a href="#cb62-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-600"><a href="#cb62-600" aria-hidden="true" tabindex="-1"></a>pctree.out <span class="ot">&lt;-</span> <span class="fu">pctree</span>(difdata <span class="sc">~</span> dif.sex <span class="sc">+</span> dif.age, <span class="at">data =</span> df.tree)</span>
<span id="cb62-601"><a href="#cb62-601" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pctree.out)</span>
<span id="cb62-602"><a href="#cb62-602" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-603"><a href="#cb62-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-604"><a href="#cb62-604" aria-hidden="true" tabindex="-1"></a>No interaction effect found for sex and age. The analysis only shows the previously identified DIF for sex.</span>
<span id="cb62-605"><a href="#cb62-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-606"><a href="#cb62-606" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rasch analysis 3</span></span>
<span id="cb62-607"><a href="#cb62-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-608"><a href="#cb62-608" aria-hidden="true" tabindex="-1"></a>There were no issues with DIF for any item. We still need to address the previously identified problems</span>
<span id="cb62-609"><a href="#cb62-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-610"><a href="#cb62-610" aria-hidden="true" tabindex="-1"></a>Items 12 and 16 are a bit low in item fit ZSTD.</span>
<span id="cb62-611"><a href="#cb62-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-612"><a href="#cb62-612" aria-hidden="true" tabindex="-1"></a>Items 16 and 19 have a residual correlation at about 0.25 above the average level.</span>
<span id="cb62-613"><a href="#cb62-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-614"><a href="#cb62-614" aria-hidden="true" tabindex="-1"></a>We'll remove item 19 since item 16 has better targeting.</span>
<span id="cb62-615"><a href="#cb62-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-618"><a href="#cb62-618" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-619"><a href="#cb62-619" aria-hidden="true" tabindex="-1"></a>removed.items <span class="ot">&lt;-</span> <span class="fu">c</span>(removed.items,<span class="st">"PANAS_19"</span>)</span>
<span id="cb62-620"><a href="#cb62-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-621"><a href="#cb62-621" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df2 <span class="sc">%&gt;%</span> </span>
<span id="cb62-622"><a href="#cb62-622" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">any_of</span>(removed.items))</span>
<span id="cb62-623"><a href="#cb62-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-624"><a href="#cb62-624" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-625"><a href="#cb62-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-628"><a href="#cb62-628" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-629"><a href="#cb62-629" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb62-630"><a href="#cb62-630" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb62-631"><a href="#cb62-631" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df2, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb62-632"><a href="#cb62-632" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-633"><a href="#cb62-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-634"><a href="#cb62-634" aria-hidden="true" tabindex="-1"></a>:::: column-page-left</span>
<span id="cb62-635"><a href="#cb62-635" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb62-636"><a href="#cb62-636" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item fit {.smaller}</span></span>
<span id="cb62-639"><a href="#cb62-639" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-640"><a href="#cb62-640" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df2, <span class="dv">300</span>, <span class="dv">32</span>, <span class="dv">8</span>)</span>
<span id="cb62-641"><a href="#cb62-641" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-642"><a href="#cb62-642" aria-hidden="true" tabindex="-1"></a><span class="fu">### Residual correlations</span></span>
<span id="cb62-645"><a href="#cb62-645" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-646"><a href="#cb62-646" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df2, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span>
<span id="cb62-647"><a href="#cb62-647" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-648"><a href="#cb62-648" aria-hidden="true" tabindex="-1"></a><span class="fu">### Targeting</span></span>
<span id="cb62-651"><a href="#cb62-651" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-652"><a href="#cb62-652" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb62-653"><a href="#cb62-653" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df2)</span>
<span id="cb62-654"><a href="#cb62-654" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-655"><a href="#cb62-655" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item hierarchy</span></span>
<span id="cb62-658"><a href="#cb62-658" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-659"><a href="#cb62-659" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb62-660"><a href="#cb62-660" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2)</span>
<span id="cb62-661"><a href="#cb62-661" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-662"><a href="#cb62-662" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb62-663"><a href="#cb62-663" aria-hidden="true" tabindex="-1"></a>::::</span>
<span id="cb62-664"><a href="#cb62-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-665"><a href="#cb62-665" aria-hidden="true" tabindex="-1"></a>No problematic residual correlations, but item 12 is clearly low in item fit.</span>
<span id="cb62-666"><a href="#cb62-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-667"><a href="#cb62-667" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rasch analysis 4</span></span>
<span id="cb62-668"><a href="#cb62-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-669"><a href="#cb62-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-672"><a href="#cb62-672" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-673"><a href="#cb62-673" aria-hidden="true" tabindex="-1"></a>removed.items <span class="ot">&lt;-</span> <span class="fu">c</span>(removed.items,<span class="st">"PANAS_12"</span>)</span>
<span id="cb62-674"><a href="#cb62-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-675"><a href="#cb62-675" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df2 <span class="sc">%&gt;%</span> </span>
<span id="cb62-676"><a href="#cb62-676" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">any_of</span>(removed.items))</span>
<span id="cb62-677"><a href="#cb62-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-678"><a href="#cb62-678" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-679"><a href="#cb62-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-682"><a href="#cb62-682" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-683"><a href="#cb62-683" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: margin</span></span>
<span id="cb62-684"><a href="#cb62-684" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb62-685"><a href="#cb62-685" aria-hidden="true" tabindex="-1"></a><span class="fu">RIlistItemsMargin</span>(df2, <span class="at">fontsize =</span> <span class="dv">13</span>)</span>
<span id="cb62-686"><a href="#cb62-686" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-687"><a href="#cb62-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-688"><a href="#cb62-688" aria-hidden="true" tabindex="-1"></a>:::: column-page-left</span>
<span id="cb62-689"><a href="#cb62-689" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb62-690"><a href="#cb62-690" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item fit {.smaller}</span></span>
<span id="cb62-693"><a href="#cb62-693" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-694"><a href="#cb62-694" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemfitPCM2</span>(df2, <span class="dv">300</span>, <span class="dv">32</span>, <span class="dv">8</span>)</span>
<span id="cb62-695"><a href="#cb62-695" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-696"><a href="#cb62-696" aria-hidden="true" tabindex="-1"></a><span class="fu">### Residual correlations</span></span>
<span id="cb62-699"><a href="#cb62-699" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-700"><a href="#cb62-700" aria-hidden="true" tabindex="-1"></a><span class="fu">RIresidcorr</span>(df2, <span class="at">cutoff =</span> <span class="fl">0.2</span>)</span>
<span id="cb62-701"><a href="#cb62-701" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-702"><a href="#cb62-702" aria-hidden="true" tabindex="-1"></a><span class="fu">### Targeting</span></span>
<span id="cb62-705"><a href="#cb62-705" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-706"><a href="#cb62-706" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb62-707"><a href="#cb62-707" aria-hidden="true" tabindex="-1"></a><span class="fu">RItargeting</span>(df2)</span>
<span id="cb62-708"><a href="#cb62-708" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-709"><a href="#cb62-709" aria-hidden="true" tabindex="-1"></a><span class="fu">### Item hierarchy</span></span>
<span id="cb62-712"><a href="#cb62-712" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-713"><a href="#cb62-713" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 5</span></span>
<span id="cb62-714"><a href="#cb62-714" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemHierarchy</span>(df2)</span>
<span id="cb62-715"><a href="#cb62-715" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-716"><a href="#cb62-716" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb62-717"><a href="#cb62-717" aria-hidden="true" tabindex="-1"></a>::::</span>
<span id="cb62-718"><a href="#cb62-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-719"><a href="#cb62-719" aria-hidden="true" tabindex="-1"></a>There are several item thresholds that are very closely located, as shown in the item hierarchy figure. This is not ideal, since it will inflate reliability estimates.</span>
<span id="cb62-720"><a href="#cb62-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-721"><a href="#cb62-721" aria-hidden="true" tabindex="-1"></a>However, we will not modify the response categories for this sample/simple analysis, we only note that this is not ideal.</span>
<span id="cb62-722"><a href="#cb62-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-723"><a href="#cb62-723" aria-hidden="true" tabindex="-1"></a><span class="fu">## Reliability</span></span>
<span id="cb62-724"><a href="#cb62-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-727"><a href="#cb62-727" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-728"><a href="#cb62-728" aria-hidden="true" tabindex="-1"></a><span class="fu">RItif</span>(df2)</span>
<span id="cb62-729"><a href="#cb62-729" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-730"><a href="#cb62-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-731"><a href="#cb62-731" aria-hidden="true" tabindex="-1"></a>While 11.8% of respondents had a floor effect, the figure above shows us that 41.8% are located below the point where the items produce a person separation index (reliability) of 0.7 or higher.</span>
<span id="cb62-732"><a href="#cb62-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-733"><a href="#cb62-733" aria-hidden="true" tabindex="-1"></a><span class="fu">## Person fit</span></span>
<span id="cb62-734"><a href="#cb62-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-735"><a href="#cb62-735" aria-hidden="true" tabindex="-1"></a>We can also look at how the respondents fit the Rasch model with these items.</span>
<span id="cb62-736"><a href="#cb62-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-739"><a href="#cb62-739" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-740"><a href="#cb62-740" aria-hidden="true" tabindex="-1"></a><span class="fu">RIpfit</span>(df2)</span>
<span id="cb62-741"><a href="#cb62-741" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-742"><a href="#cb62-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-743"><a href="#cb62-743" aria-hidden="true" tabindex="-1"></a><span class="fu">## Item parameters</span></span>
<span id="cb62-744"><a href="#cb62-744" aria-hidden="true" tabindex="-1"></a>To allow others (and oneself) to use the item parameters estimated for estimation of person locations/thetas, we should make the item parameters available. The function will also write a csv-file with the item threshold locations. Estimations of person locations/thetas can be done with the <span class="in">`thetaEst()`</span> function from the <span class="in">`catR`</span> package. Code for this is available upon request and will be made into a function in the <span class="in">`RISEkbmRasch`</span> package at some point.</span>
<span id="cb62-745"><a href="#cb62-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-748"><a href="#cb62-748" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-749"><a href="#cb62-749" aria-hidden="true" tabindex="-1"></a><span class="fu">RIitemparams</span>(df2)</span>
<span id="cb62-750"><a href="#cb62-750" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-751"><a href="#cb62-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-752"><a href="#cb62-752" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ordinal sum score to interval score</span></span>
<span id="cb62-753"><a href="#cb62-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-754"><a href="#cb62-754" aria-hidden="true" tabindex="-1"></a>This table shows the corresponding sum score values and logit scores, with standard errors for each logit value.</span>
<span id="cb62-757"><a href="#cb62-757" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-758"><a href="#cb62-758" aria-hidden="true" tabindex="-1"></a><span class="fu">RIscoreSE</span>(df2)</span>
<span id="cb62-759"><a href="#cb62-759" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-760"><a href="#cb62-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-761"><a href="#cb62-761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-762"><a href="#cb62-762" aria-hidden="true" tabindex="-1"></a><span class="fu">## Software used</span></span>
<span id="cb62-765"><a href="#cb62-765" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb62-766"><a href="#cb62-766" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grateful) <span class="co"># devtools::install_github("Pakillo/grateful")</span></span>
<span id="cb62-767"><a href="#cb62-767" aria-hidden="true" tabindex="-1"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">cite_packages</span>(<span class="at">cite.tidyverse =</span> <span class="cn">TRUE</span>, </span>
<span id="cb62-768"><a href="#cb62-768" aria-hidden="true" tabindex="-1"></a>                      <span class="at">output =</span> <span class="st">"table"</span>,</span>
<span id="cb62-769"><a href="#cb62-769" aria-hidden="true" tabindex="-1"></a>                      <span class="at">bib.file =</span> <span class="st">"grateful-refs.bib"</span>,</span>
<span id="cb62-770"><a href="#cb62-770" aria-hidden="true" tabindex="-1"></a>                      <span class="at">include.RStudio =</span> <span class="cn">TRUE</span>)</span>
<span id="cb62-771"><a href="#cb62-771" aria-hidden="true" tabindex="-1"></a><span class="fu">formattable</span>(pkgs, </span>
<span id="cb62-772"><a href="#cb62-772" aria-hidden="true" tabindex="-1"></a>            <span class="at">table.attr =</span> <span class="st">'class=</span><span class="sc">\"</span><span class="st">table table-striped</span><span class="sc">\"</span><span class="st"> style="font-size: 13px; font-family: Lato; width: 80%"'</span>)</span>
<span id="cb62-773"><a href="#cb62-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-774"><a href="#cb62-774" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb62-775"><a href="#cb62-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-776"><a href="#cb62-776" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>